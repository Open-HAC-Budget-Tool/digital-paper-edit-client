{"version":3,"sources":["Components/Transcripts/TranscriptAnnotate/Paragraphs/generate-paragraphs/index.module.css","img/labsLogo.png","Components/lib/CustomNavbar/index.js","Components/lib/CustomFooter/index.js","Components/Home.js","Components/lib/CustomBreadcrumb/index.js","Components/lib/CustomCard/index.js","Components/lib/CustomAlert/index.js","Util/capitalise-first-letter/index.js","Util/includes-text/index.js","Components/lib/ListPageTemplate/index.js","ApiWrapper/cors_wrapper.js","ApiWrapper/index.js","Components/Projects/index.js","Components/lib/custom-navbar-links.js","Components/Projects/Project.js","Components/Projects/ProjectForm.js","Components/lib/CustomUserCard/index.js","Components/Users/index.js","Components/Transcripts/index.js","Components/Transcripts/Transcript.js","Components/Transcripts/TranscriptForm.js","Util/only-call-once/index.js","Components/Transcripts/TranscriptAnnotate/LabelsList/css-color-names.js","Components/Transcripts/TranscriptAnnotate/LabelsList/LabelForm.js","Components/Transcripts/TranscriptAnnotate/LabelsList/LabelModal.js","Components/Transcripts/TranscriptAnnotate/LabelsList/index.js","Util/remove-punctuation/index.js","Components/Transcripts/TranscriptAnnotate/Paragraphs/generate-paragraphs/split-paragraph-by-annotation.js","Components/Transcripts/TranscriptAnnotate/Paragraphs/generate-paragraphs/find-annotation-in-paragraph.js","Components/Transcripts/TranscriptAnnotate/Paragraphs/generate-paragraphs/group-words-by-speakers.js","Components/Transcripts/TranscriptAnnotate/Paragraphs/generate-paragraphs/Paragraph.js","Components/Transcripts/TranscriptAnnotate/Paragraphs/generate-paragraphs/Words.js","Components/Transcripts/TranscriptAnnotate/Paragraphs/generate-paragraphs/AnnotationOverlayTrigger.js","Components/Transcripts/TranscriptAnnotate/Paragraphs/generate-paragraphs/compute-paragraph-display-preference.js","Components/Transcripts/TranscriptAnnotate/Paragraphs/generate-paragraphs/index.js","Components/Transcripts/TranscriptAnnotate/Paragraphs/index.js","Components/Transcripts/TranscriptAnnotate/LabelsList/select-color-styles.js","Components/Transcripts/TranscriptAnnotate/SearchBar/index.js","Components/Transcripts/TranscriptAnnotate/get-user-selection.js","Components/Transcripts/TranscriptAnnotate/index.js","Components/Transcripts/TranscriptCorrect.js","Components/PaperEdits/index.js","Components/PaperEdits/PaperEdit/Transcripts/Paragraph.js","Components/PaperEdits/PaperEdit/Transcripts/Transcript.js","Components/PaperEdits/PaperEdit/Transcripts/index.js","Components/PaperEdits/PaperEdit/ProgramScript/PreviewCanvas/VideoContextViewer.js","Components/PaperEdits/PaperEdit/ProgramScript/PreviewCanvas/VideoContextProgressBar.js","Components/PaperEdits/PaperEdit/ProgramScript/PreviewCanvas/VideoContextControls.js","Components/PaperEdits/PaperEdit/ProgramScript/PreviewCanvas/index.js","Components/PaperEdits/PaperEdit/ProgramScript/index.js","Components/PaperEdits/PaperEdit/index.js","Components/PaperEdits/NewPaperEdit.js","App.js","serviceWorker.js","index.js","Components/PaperEdits/PaperEdit/ProgramScript/PreviewCanvas/VideoContextProgressBar.module.css"],"names":["module","exports","speaker","unselectable","highlightedWord","__webpack_require__","p","CustomNavbar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","showNavOptions","links","undefined","length","map","item","i","react_default","a","createElement","lib","key","to","link","Nav_default","Link","name","popover","Popover_default","id","Navbar_default","collapseOnSelect","expand","bg","variant","fixed","index_es","icon","faFlask","Brand","process","OverlayTrigger_default","trigger","rootClose","placement","overlay","faEllipsisH","Component","CustomFooter","footer","className","src","labsLogo","style","height","alt","href","target","rel","Row_default","Col_default","Home","Container_default","lib_CustomNavbar","Jumbotron_default","ButtonToolbar_default","Button_default","lib_CustomFooter","CustomBreadcrumb","breadcrumbs","items","index","Breadcrumb_default","Item","active","CustomCard","handleDelete","confirm","alert","borderStatus","title","concat","showLink","status","Card_default","border","width","marginBottom","Body","xs","sm","md","ld","xl","Title","onClick","size","faTrash","Subtitle","subtitle","disabled","Spinner_default","as","animation","role","aria-hidden","faExclamationCircle","faCheck","Text","description","CustomAlert","handleDismiss","setState","show","Alert_default","onClose","dismissible","heading","Heading","message","Fragment","React","capitaliseFirstLetter","string","charAt","toUpperCase","slice","includesText","textOne","textTwo","toLowerCase","trim","includes","ListPageTemplate","handleSearch","e","searchText","value","results","itemsList","filter","project","display","showSearchInput","itemsCards","content","_this2","Badge_default","errorMessage","lib_CustomCard","projectId","getShowLinkForCard","InputGroup_default","Prepend","faSearch","FormControl_default","onChange","placeholder","aria-label","aria-describedby","overflow","lib_CustomAlert","modelName","navbarLinks","lib_CustomBreadcrumb","breadCrumbItems","linkToNew","block","METHODS","validateRESTMethod","method","Error","getCorsConfig","corsConfig","data","arguments","applicationType","mode","body","JSON","stringify","headers","Content-Type","_callee","url","_args","regenerator_default","wrap","_context","prev","next","console","log","fetch","abrupt","sent","stop","corsFetch","apiWrapper","projectsUrl","projectsIdUrl","transcriptsUrl","transcriptsIdUrl","transcriptId","queryParamsOptions","queryParams","querystring","annotationsUrl","res","json","projects","freeze","Projects","bind","assertThisInitialized","ApiWrapper","getAllProjects","result","tmpList","deleteProject","findId","filteredProjects","lib_ListPageTemplate","faFolder","faFolderPlus","faFolderOpen","faFileAlt","faFile","faTasks","faCut","faUsers","Project","componentDidMount","getProject","then","tmpProject","catch","savedNotification","dismissable","handleTitleChange","event","handleDescriptionChange","match","params","formDisabled","validated","form","currentTarget","checkValidity","preventDefault","stopPropagation","updateProject","response","_this3","lg","type","faPen","Form_default","noValidate","onSubmit","handleSubmit","Group","Row","controlId","Label","column","Control","required","Feedback","rows","faSave","ProjectForm","renderRedirect","redirect","newProjectId","Redirect","createProject","CustomUserCard","faUser","userName","partOfProject","userEmail","handleRemoveUserToProject","userId","faUserMinus","handleAddUserToProject","faUserPlus","Users","usersList","user","email","userTmp","u","projectTitle","users","lib_CustomUserCard","Append","Transcripts","transcriptsList","getTranscripts","transcripts","deleteTranscript","tmpNewList","transcriptJson","Transcript","getTranscript","transcript","transcriptTitle","tmpTranscript","updateTranscript","TranscriptForm","handleFileUpload","file","Array","from","files","formData","FormData","append","mediaFileSelected","sendRequest","uploading","createTranscript","uploadCompleted","newTranscriptId","error","label","accept","onlyCallOnce","cb","duration","timer","args","clearTimeout","setTimeout","apply","csscolors","yellow","greenyellow","deepskyblue","deeppink","aqua","black","blueviolet","brown","burlywood","cadetblue","chocolate","coral","crimson","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","blue","dimgray","dimgrey","dodgerblue","firebrick","forestgreen","fuchsia","gainsboro","goldenrod","gold","gray","green","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavenderblush","lavender","lawngreen","lemonchiffon","lightblue","lightcoral","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","chartreuse","limegreen","linen","magenta","maroon","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","yellowgreen","aquamarine","mediumaquamarine","colorNamesList","keys","splice","cssColorsList","push","color","counter","numberOfColor","randomColor","LabelForm","context","handleRandomiseColor","handleColorPickerChangeComplete","chroma","hex","handleManualColorChange","colorValue","valid","handleColorSelectChange","handleSave","onLabelSaved","labelId","handleClose","defaultValue","onInput","faSyncAlt","backgroundColor","borderWidth","borderColor","padding","react_color_lib","triangle","onChangeComplete","colors","LabelModal","handleShow","openBtn","Modal_default","onHide","Header","closeButton","faTag","LabelsList_LabelForm","LabelsList","removeLabel","newLabelsOptions","labelsOptions","onLabelsUpdated","editLabel","labelToEdit","newLabel","showLabelModal","isLabelmodalShown","labelsListOpen","labelsListOptions","ListGroup_default","LabelsList_LabelModal","faTimes","labelsList","justify","faTags","faSlidersH","faAngleDown","faAngleUp","Footer","removePunctuation","replace","getWordsBeforeAnnotation","annotation","paragraph","paragraphFilterBeforeSelection","w","start","getWordsAfterAnnotation","end","getWordsInAnnotation","startWord","find","startIndex","indexOf","endWord","endIndex","splitParagraphByAnnotation","wordsBefore","wordsInAnnotation","wordsAfter","findAnnotationInParagraph","annotations","resultsCaseOne","paragraphFirstWordTime","paragraphLastWordTime","isAnnotationWithinParagraph","groupWordsInParagraphsBySpeakers","words","segments","wordsWithSpeakers","currentSpeaker","text","forEach","word","groupWordsBySpeaker","tmpSegment","seg","findSegmentForWord","addSpeakerToEachWord","Paragraph","paragraphDisplayPreference","borderStyle","paragraphStyle","showParagraphsMatchingSearch","borderRight","borderLeft","objectSpread","data-paragraph-text","paragraphTextWithoutPunctuation","styles","join","tabIndex","speakerName","textAlign","cursor","data-start","onKeyDown","handleKeyDownTimecodes","shortTimecode","wordsElements","Words","data-text","data-end","aria-pressed","handleKeyDownWords","AnnotationOverlayTrigger","handleEditAnnotation","annotationId","annotationLabelId","marginLeft","marginRight","handleDeleteAnnotation","faTrashAlt","faStickyNote","annotationNote","borderBottom","computeParagraphDisplayPreference","isTextSearch","isSpeakerSearch","isLabelSearch","displayPreference","generateParagraphs","paragraphs","searchString","selectedOptionSpeakerSearch","spk","selectedOptionLabelSearch","lb","_splitParagraphByAnno","wordsBeforeEl","generate_paragraphs_Words","handleWordClick","wordsInAnnotationEl","wordsAfterEl","generate_paragraphs_AnnotationOverlayTrigger","note","generate_paragraphs_Paragraph","handleTimecodeClick","Paragraphs","generateParagraphsEl","colourStyles","control","option","_ref","isDisabled","isFocused","isSelected","tmpBackgroundColor","alpha","css","tmpColor","readOnlyError","contrast","multiValue","_ref2","multiValueLabel","_ref3","multiValueRemove","_ref4",":hover","SearchBar","handleToggleSearchTextPreferences","showTextSearchPreferences","handleToggleSearchLabelsPreferences","showLabelsSearchPreferences","handleToggleSearchSpeakersPreferences","showSpeakersSearchPreferences","handleSpeakersSearchChange","handleLabelsSearchChange","handleShowParagraphsMatchingSearch","searchBar","DropdownButton_default","InputGroup","Dropdown_default","faParagraph","Divider","faUserTag","textSearchPreferences","Check","labelsSearchPreferences","react_select_esm","isMulti","isSearchable","options","speakerSearchPreferences","speakersOptions","getTimeFromUserWordsSelection","window","getSelection","isCollapsed","getRangeAt","cloneContents","querySelectorAll","parseFloat","dataset","anchorNode","parentElement","makeListOfUniqueSpeakers","array","Map","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","has","set","err","return","TranscriptAnnotate","getAnnotations","labels","notification","wordEl","videoRef","current","currentTime","play","searchPreferences","highlightWords","sentenceToSearchCSS","listOfSearchWords","split","pCSS","wordsToSearchCSS","searchWord","wordsToSearchCSSInHighlights","sentenceToSearchCSSInHighlights","handleTimeUpdate","onLoadedDataGetDuration","currentDurationWithOffset","timecodeOffset","durationInSeconds","secondsToTimecode","mediaDuration","saveToServer","handleAnnotation","element","selection","parseInt","newAnnotationId","newAnnotationsSet","newAnnotationToEdit","newNote","prompt","createRef","showSelectedOptionLabelSearch","fluid","scoped","MediaPlayer_default","hookSeek","foo","setCurrentTime","hookPlayMedia","playMedia","hookIsPlaying","isPlaying","rollBackValueInSeconds","mediaUrl","handleSaveTranscript","paddingRight","VideoPlayer_default","tabindex","onTimeUpdate","previewIsDisplayed","TranscriptAnnotate_LabelsList","ButtonGroup","data-label-id","faHighlighter","Toggle","data-lable-id","Menu","TranscriptAnnotate_SearchBar","onDoubleClick","TranscriptAnnotate_Paragraphs","TranscriptCorrect","transcriptEditorRef","getEditorContent","react_transcript_editor","transcriptData","isEditable","sttJsonType","fileName","ref","PaperEdits","paperedits","paperEditsList","controls","Transcripts_Paragraph","Tab_default","Container","defaultActiveKey","eventKey","Content","Pane","PaperEdit_Transcripts_Transcript","PaperCutsPlayerViewer","_props$width","_props$height","_props$playlist","playlist","loadPlaylist","offset","node","videoContext","startAt","stopAt","connect","destination","canvasRef","canvas","VideoContext","PureComponent","VideoContextProgressBar","updateProgress","requestAnimationFrame","progress","handleClick","offsetX","nativeEvent","getTracks","_sourceNodes","reverse","startTime","stopTime","elementURL","pop","pointerEvents","papercutsPlayerProgressTrackBuffer","papercutsPlayerProgressTrack","tracks","papercutsPlayerProgress","papercutsPlayerProgressBack","papercutsPlayerProgressFront","playIcon","faPlay","pauseIcon","faPause","stopIcon","faStop","Controls","handlePlay","handlePause","pause","handleStop","PreviewCanvas","videoContextRef","forceUpdate","VideoContextViewer","PreviewCanvas_VideoContextProgressBar","marginTop","VideoContextControls","ProgramScript","ProgramScript_PreviewCanvas","faMicrophoneAlt","PaperEdit","paperEditJson","paperEdit","toggleTranscripts","isProgramScriptShown","isTranscriptsShown","toggleProgramScript","ButtonGroup_default","span","PaperEdit_Transcripts","PaperEdit_ProgramScript","PaperEditForm","App","HashRouter","Switch","Route","exact","path","component","newProject","Boolean","location","hostname","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b15fbbad.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"speaker\":\"generate-paragraphs_speaker__1EOKE\",\"unselectable\":\"generate-paragraphs_unselectable__1Bqf0\",\"highlightedWord\":\"generate-paragraphs_highlightedWord__1qd46\"};","module.exports = __webpack_public_path__ + \"static/media/labsLogo.658ac9e3.png\";","import React, { Component } from 'react';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Popover from 'react-bootstrap/Popover';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFlask, faEllipsisH } from '@fortawesome/free-solid-svg-icons';\n\nclass CustomNavbar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showNavOptions: false\n    };\n  }\n\n  render() {\n    let links;\n    if (this.props.links !== undefined && this.props.links.length !== 0) {\n      links = this.props.links.map((item, i) => {\n        return (\n          <LinkContainer key={ i + '_lid' } to={ item.link }>\n            <Nav.Link>{item.name}</Nav.Link>\n          </LinkContainer>\n        );\n      });\n    }\n\n    const popover = <Popover id=\"popover-basic\">{links}</Popover>;\n\n    return (\n      <Navbar\n        collapseOnSelect\n        expand={ 'md' }\n        bg=\"light\"\n        variant=\"light\"\n        fixed=\"top\"\n      >\n        <FontAwesomeIcon icon={ faFlask } />\n        &nbsp;&nbsp;\n        <LinkContainer to=\"/\">\n          <Navbar.Brand>{process.env.REACT_APP_NAME}</Navbar.Brand>\n        </LinkContainer>\n        <OverlayTrigger\n          trigger=\"click\"\n          rootClose\n          placement=\"bottom\"\n          overlay={ popover }\n        >\n          <FontAwesomeIcon icon={ faEllipsisH } />\n        </OverlayTrigger>\n      </Navbar>\n    );\n  }\n}\n\nexport default CustomNavbar;\n","import React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport labsLogo from '../../../img/labsLogo.png';\n\nfunction CustomFooter() {\n  const footer = (\n    <Navbar\n      collapseOnSelect\n      expand={ 'md' }\n      bg=\"light\"\n      variant=\"light\"\n      fixed=\"bottom\"\n      className=\"justify-content-center\"\n    >\n      <small>\n        <img src={ labsLogo } style={ { height: '2em' } } alt=\"Labs Logo\" /> This is\n        a prototype from{' '}\n        <a href=\"http://bbcnewslabs.co.uk/\" target=\"_blank\" rel=\"noopener noreferrer\">\n          BBC News Labs\n        </a>\n      </small>\n    </Navbar>\n  );\n\n  return (\n    <Row>\n      <Col className=\"d-none d-sm-block\">{footer}</Col>\n      <Col className=\"d-lg-block d-md-block\">{footer}</Col>\n    </Row>\n  );\n}\n\nexport default CustomFooter;\n","import React from 'react';\n// import Button from 'react-bootstrap/Button';\nimport './Home.module.css';\nimport '../../node_modules/bootstrap/dist/css/bootstrap.css';\n\nimport Container from 'react-bootstrap/Container';\n\nimport { LinkContainer } from 'react-router-bootstrap';\n\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Button from 'react-bootstrap/Button';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\n\nimport CustomNavbar from './lib/CustomNavbar/index.js';\nimport CustomFooter from './lib/CustomFooter/index.js';\n\nconst Home = () => {\n\n  return (\n    <Container>\n      <CustomNavbar\n        links={ [\n          {\n            name: 'Projects',\n            link: '/projects'\n          },\n          {\n            name: 'New Projects',\n            link: '/projects/new'\n          }\n        ] }\n      />\n      <br/><br/>\n      {/* TBC add some info about what the app, is how to use, signing in etc.. */}\n      <Jumbotron>\n        <h1>{ process.env.REACT_APP_NAME }</h1>\n        <p>\n            Some explanation text on how to make the most of this app\n        </p>\n        <p>\n          <ButtonToolbar>\n            <LinkContainer to={ '/projects' }>\n              <Button variant=\"link\">Projects</Button>\n            </LinkContainer>\n\n            <LinkContainer to={ '/projects/new' }>\n              <Button variant=\"link\">New Projects</Button>\n            </LinkContainer>\n          </ButtonToolbar>\n        </p>\n      </Jumbotron>\n      <CustomFooter />\n    </Container>\n  );\n\n};\n\nexport default Home;\n","import React, { Component } from \"react\";\n// import Container from 'react-bootstrap/Container';\nimport Breadcrumb from \"react-bootstrap/Breadcrumb\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n// import CustomNavbar from '../lib/CustomNavbar/index.js';\n\n// import './index.module.css';\n\nclass CustomBreadcrumb extends Component {\n  //   constructor(props) {\n  //     super(props);\n  //     this.state = {\n  //       transcriptJson: null\n  //     }\n  //   }\n\n  render() {\n    const breadcrumbs = this.props.items.map((item, index) => {\n      if (item.link) {\n        return (\n          <LinkContainer key={index} to={item.link}>\n            <Breadcrumb.Item>{item.name}</Breadcrumb.Item>\n          </LinkContainer>\n        );\n      } else {\n        return (\n          <Breadcrumb.Item key={index} active>\n            {item.name}\n          </Breadcrumb.Item>\n        );\n      }\n    });\n\n    return (\n      <div className=\"d-none d-sm-block\">\n        <Breadcrumb>\n          {/* <LinkContainer to=\"/projects\">\n            <Breadcrumb.Item>Projects</Breadcrumb.Item>\n          </LinkContainer>\n\n          <LinkContainer to=\"/projects\">\n            <Breadcrumb.Item>Transcripts</Breadcrumb.Item>\n          </LinkContainer>\n\n          <Breadcrumb.Item active>Transcript name</Breadcrumb.Item> */}\n\n          {breadcrumbs}\n        </Breadcrumb>\n      </div>\n    );\n  }\n}\n\nexport default CustomBreadcrumb;\n","import React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faTrash,\n  faCheck,\n  faExclamationCircle\n} from '@fortawesome/free-solid-svg-icons';\nclass CustomCard extends Component {\n  handleDelete = () => {\n    //eslint-disable-next-line\n    const confirmationPrompt = confirm(\n      \"Click OK if you wish to delete, cancel if you don't\"\n    );\n    if (confirmationPrompt === true) {\n      if (this.props.handleDelete) {\n        this.props.handleDelete(this.props.id);\n      }\n    } else {\n      alert('All is good, it was not deleted');\n    }\n  };\n\n  render() {\n    let borderStatus;\n    // let showBtn = <a href={ `#${ this.props.showLink() }` }>  Show btn</a>;\n    let title = <a href={ `#${ this.props.showLink() }` }> {this.props.title}</a>;\n    if (this.props.status && this.props.status === 'info') {\n      title = this.props.title;\n      // showBtn = <a href={ `#${ this.props.showLink() }` }>  Show btn Disabled</a>;\n    }\n    if (this.props.status && this.props.status === 'danger') {\n      title = this.props.title;\n      // showBtn = <a href={ `#${ this.props.showLink() }` }>  Show btn Disabled</a>;\n      borderStatus = 'danger';\n    }\n\n    return (\n      <Card\n        border={ borderStatus }\n        style={ { width: '100%', marginBottom: '1em' } }\n      >\n        <Card.Body>\n          <Row>\n            <Col xs={ 10 } sm={ 11 } md={ 11 } ld={ 11 } xl={ 11 }>\n              <Card.Title>\n                {this.props.icon ? this.props.icon : ''} {title}\n              </Card.Title>\n            </Col>\n            <Col xs={ 2 } sm={ 1 } md={ 1 } ld={ 1 } xl={ 1 }>\n              <Card.Link>\n                <Button\n                  onClick={ this.handleDelete }\n                  variant=\"outline-secondary\"\n                  size=\"sm\"\n                >\n                  <FontAwesomeIcon icon={ faTrash } />\n                </Button>\n              </Card.Link>\n            </Col>\n          </Row>\n          <Row>\n            <Col xs={ 10 } sm={ 11 } md={ 11 } ld={ 11 } xl={ 11 }>\n              <Card.Subtitle className=\"mb-2 text-muted\">\n                {this.props.subtitle}\n              </Card.Subtitle>\n            </Col>\n            <Col xs={ 1 } sm={ 1 } md={ 1 } ld={ 1 } xl={ 1 }>\n              {this.props.status && this.props.status === 'info' ? (\n                <Button variant=\"info\" size=\"sm\" disabled>\n                  <Spinner\n                    as=\"span\"\n                    animation=\"border\"\n                    size=\"sm\"\n                    role=\"status\"\n                    aria-hidden=\"true\"\n                  />\n                </Button>\n              ) : (\n                ''\n              )}\n              {this.props.status && this.props.status === 'danger' ? (\n                <Button variant=\"danger\" size=\"sm\" disabled>\n                  <FontAwesomeIcon icon={ faExclamationCircle } />\n                </Button>\n              ) : (\n                ''\n              )}\n              {this.props.status && this.props.status === 'success' ? (\n                <Button variant=\"success\" size=\"sm\" disabled>\n                  <FontAwesomeIcon icon={ faCheck } />\n                </Button>\n              ) : (\n                ''\n              )}\n            </Col>\n          </Row>\n\n          <Card.Text>\n            <Row>\n              <Col xs={ 10 } sm={ 11 } md={ 11 } ld={ 11 } xl={ 11 }>\n                {this.props.description}\n              </Col>\n            </Row>\n          </Card.Text>\n        </Card.Body>\n      </Card>\n    );\n  }\n}\n\nexport default CustomCard;\n","import React from 'react';\nimport Alert from 'react-bootstrap/Alert';\n\n// https://react-bootstrap.netlify.com/components/alerts/#dismissing\nclass CustomAlert extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true\n    };\n  }\n\n  handleDismiss = () => this.setState({ show: false });\n\n  render() {\n    if (this.state.show) {\n      return (\n        <Alert\n          variant={ this.props.variant }\n          onClose={ this.handleDismiss }\n          dismissible\n        >\n          {this.props.heading ? (\n            <Alert.Heading>{this.props.heading}</Alert.Heading>\n          ) : (\n            ''\n          )}\n          {this.props.message}\n        </Alert>\n      );\n    } else {\n      return (\n        <>\n          <br />\n        </>\n      );\n    }\n  }\n}\n\nexport default CustomAlert;\n","const capitaliseFirstLetter = (string) => {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\n\nexport default capitaliseFirstLetter;","const includesText = (textOne, textTwo) => {\n  return textOne.toLowerCase().trim().includes(textTwo.toLowerCase().trim());\n};\n\nexport default includesText;","import React, { Component } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport Container from 'react-bootstrap/Container';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Badge from 'react-bootstrap/Badge';\nimport Alert from 'react-bootstrap/Alert';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faSearch,\n  faExclamationCircle\n} from '@fortawesome/free-solid-svg-icons';\n\nimport CustomNavbar from '../CustomNavbar/index.js';\nimport CustomBreadcrumb from '../CustomBreadcrumb/index.js';\nimport CustomCard from '../CustomCard/index.js';\n\nimport CustomFooter from '../CustomFooter/index.js';\nimport CustomAlert from '../CustomAlert/index.js';\nimport capitaliseFirstLetter from '../../../Util/capitalise-first-letter/index.js';\nimport includesText from '../../../Util/includes-text/index.js';\n\nclass ListPageTemplate extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      itemsList: this.props.itemsList,\n      showSearchInput: false\n    };\n  }\n\n  handleSearch = e => {\n    const searchText = e.target.value;\n    const results = this.props.itemsList.filter(project => {\n      if (\n        includesText(project.title, searchText) ||\n        includesText(project.description, searchText)\n      ) {\n        project.display = true;\n\n        return project;\n      } else {\n        project.display = false;\n\n        return project;\n      }\n    });\n\n    this.setState({\n      itemsList: results\n    });\n  };\n\n  render() {\n    let itemsCards;\n    let description;\n    if (this.props.itemsList !== null) {\n      itemsCards = this.props.itemsList\n        .map(item => {\n          let status;\n          if (item.status === 'error') {\n            status = 'danger';\n          }\n          if (item.status === 'in-progress') {\n            status = 'info';\n            description = <Badge variant=\"info\">In progress</Badge>;\n          }\n          if (item.status === 'done') {\n            description = <Badge variant=\"success\">Success</Badge>;\n            status = 'success';\n          }\n\n          if (item.errorMessage) {\n            description = (\n              <>\n                <Alert variant=\"danger\">\n                  <FontAwesomeIcon icon={ faExclamationCircle } />{' '}\n                  {item.errorMessage}\n                </Alert>\n                <Badge variant=\"danger\">Error</Badge>\n              </>\n            );\n          }\n\n          if (item.display) {\n            return (\n              <CustomCard\n                icon={ this.props.icon }\n                key={ 'key__' + item.id }\n                id={ item.id }\n                projectId={ item.id }\n                title={ item.title }\n                subtitle={ item.description }\n                handleDelete={ () => {\n                  this.props.handleDelete(item.id);\n                } }\n                // To be able to do REST for cards for - Projects, transcripts, paperedits\n                showLink={ () => {\n                  return this.props.getShowLinkForCard(item.id);\n                } }\n                status={ status }\n                description={ description }\n                disabled={ item.status === 'done' ? true : false }\n              />\n            );\n          } else {\n            return null;\n          }\n        })\n        .filter(item => {\n          return item !== null;\n        });\n    }\n\n    let content;\n    // TODO: better error handling\n    // eg there should be a loading/fetching? and then if it gets error 404 or 505(?) from server\n    // then it displayes error from server\n    // also add `navigator.onLine` to raise error if offline?\n    if (this.props.itemsList !== null && this.props.itemsList.length !== 0) {\n      content = (\n        <>\n          <InputGroup className=\"mb-3\">\n            <InputGroup.Prepend\n              onClick={ () => {\n                this.setState(state => {\n                  return { showSearchInput: !state.showSearchInput };\n                });\n              } }\n            >\n              <InputGroup.Text id=\"basic-addon2\">\n                <FontAwesomeIcon icon={ faSearch } />\n              </InputGroup.Text>\n            </InputGroup.Prepend>\n            <FormControl\n              style={ { display: this.state.showSearchInput ? '' : 'none' } }\n              onChange={ this.handleSearch }\n              placeholder=\"Search\"\n              aria-label=\"search\"\n              aria-describedby=\"search\"\n            />\n          </InputGroup>\n\n          <section style={ { height: '75vh', overflow: 'scroll' } }>\n            {itemsCards}\n          </section>\n        </>\n      );\n    } else if (this.props.itemsList === null) {\n      content = (\n        <>\n          <CustomAlert\n            variant={ 'danger' }\n            heading={ 'Error' }\n            message={ 'Unable to reach the server' }\n          />\n        </>\n      );\n    } else if (this.props.itemsList.length === 0) {\n      content = (\n        <>\n          {' '}\n          <CustomAlert\n            variant={ 'info' }\n            heading={ `No ${ capitaliseFirstLetter(this.props.modelName) }` }\n            message={\n              <p>\n                You currently don't have any{' '}\n                {this.props.modelName.toLowerCase()},{' '}\n                <Alert.Link\n                  href={ `#/${ this.props.modelName.toLowerCase() }/new` }\n                >\n                  create a new {this.props.modelName.toLowerCase()}\n                </Alert.Link>\n                .\n              </p>\n            }\n          />\n        </>\n      );\n    }\n\n    return (\n      <Container style={ { marginBottom: '5em' } }>\n        <CustomNavbar links={ this.props.navbarLinks } />\n        <br />\n        <Row>\n          <Col sm={ 9 } md={ 9 } ld={ 9 } xl={ 9 }>\n            <CustomBreadcrumb items={ this.props.breadCrumbItems } />\n          </Col>\n          <Col xs={ 12 } sm={ 3 } md={ 3 } ld={ 3 } xl={ 3 }>\n            <LinkContainer to={ this.props.linkToNew() }>\n              <Button variant=\"outline-secondary\" size=\"lg\" block>\n                New{' '}\n              </Button>\n            </LinkContainer>\n            <br />\n          </Col>\n        </Row>\n        {content}\n        <CustomFooter />\n      </Container>\n    );\n  }\n}\n\nexport default ListPageTemplate;\n","/**\n * Helper function tto wrap fetch post request\n * https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#Supplying_request_options\n * @param {string} url - API end point\n * @param {object} data - json data to send\n */\n\nconst METHODS = [ 'GET', 'POST', 'PUT', 'DELETE' ];\n\nconst validateRESTMethod = (method) => {\n  if (!METHODS.includes(method)) {\n    throw new Error(`Wrong method passed ${ method } - should be one of ${ METHODS }`);\n  }\n\n  return;\n\n};\n\nconst getCorsConfig = (method, data = {}, applicationType) => {\n  let corsConfig;\n\n  if (method === 'PUT') {\n    corsConfig = {\n      method: method,\n      mode: 'cors',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n  } else if (method === 'POST') {\n\n    corsConfig = {\n      method: method,\n      // TODO: commenting all of these settings out as with those on file upload doesn't work :man-shrugging: . Needs further investigation.\n      // mode: 'no-cors',\n      // cache: 'no-cache',\n      // credentials: 'same-origin',\n      // headers: {\n      //   'Content-Type': 'application/json'\n      // },\n      // redirect: 'follow',\n      // referrer: 'no-referrer',\n      // NOTE: Form data contains a file, so should not be stringified\n      // body: data\n    };\n    // if sending data as a json file\n    if (applicationType === 'json') {\n      corsConfig.headers = {\n        'Content-Type': 'application/json'\n      };\n      corsConfig.body = JSON.stringify(data);\n    }\n    // if sending something else like a video or audio file in form body\n    else {\n      corsConfig.body = data;\n    }\n  }\n  else {\n    corsConfig = {\n      method: method,\n      mode: 'cors'\n    };\n  }\n\n  return corsConfig;\n};\n\nasync function corsFetch(url, method = 'GET', data = {}, applicationType) {\n  validateRESTMethod(method);\n  const corsConfig = getCorsConfig(method, data, applicationType);\n  console.log(url, JSON.stringify(corsConfig, null, 2));\n\n  return await fetch(url, corsConfig);\n}\n\nexport default corsFetch;\n","import querystring from 'querystring';\nimport corsFetch from './cors_wrapper.js';\n\nclass ApiWrapper {\n  projectsUrl = `${ process.env.REACT_APP_SERVER_URL }/api/projects`\n  projectsIdUrl = (projectId) => `${ this.projectsUrl }/${ projectId }`;\n  transcriptsUrl = (projectId) => `${ this.projectsIdUrl(projectId) }/transcripts`;\n\n  transcriptsIdUrl = (projectId, transcriptId, queryParamsOptions) => {\n    const queryParams = queryParamsOptions\n      ? `?${ querystring.stringify(queryParamsOptions) }`\n      : '';\n\n    return `${ this.transcriptsUrl(projectId) }/${ transcriptId }${ queryParams }`.trim();\n  };\n\n  annotationsUrl = (projectId, transcriptId) => `${ this.transcriptsIdUrl(projectId, transcriptId) }/annotations`;\n\n  /**\n   * Projects\n   */\n\n  async getAllProjects() {\n    console.log(this.projectsUrl);\n    const res = await corsFetch(this.projectsUrl);\n    const json = await res.json();\n\n    return json.projects;\n  }\n\n  async getProject(id) {\n    const res = await corsFetch(this.projectsIdUrl(id));\n    const json = await res.json();\n\n    return json.project;\n  }\n\n  async createProject(data) {\n    const res = await corsFetch(this.projectsUrl, 'POST', data, 'json');\n\n    return await res.json();\n  }\n\n  async updateProject(id, data) {\n    const res = await corsFetch(this.projectsIdUrl(id), 'PUT', data);\n    const json = await res.json();\n\n    return json;\n  }\n\n  async deleteProject(id) {\n    const res = await corsFetch(this.projectsIdUrl(id), 'DELETE');\n    const json = await res.json();\n\n    return json;\n  }\n\n  /**\n   * Transcripts\n   */\n\n  async getTranscripts(projectId) {\n    const res = await corsFetch(this.transcriptsUrl(projectId));\n    const json = await res.json();\n\n    return json;\n  }\n\n  async createTranscript(projectId, data) {\n    const res = await corsFetch(this.transcriptsUrl(projectId), 'POST', data);\n    const json = await res.json();\n    console.log('createTranscript json', json);\n\n    return json;\n  }\n  async getTranscript(projectId, transcriptId, queryParamsOptions) {\n    const res = await corsFetch(this.transcriptsIdUrl(projectId, transcriptId, queryParamsOptions));\n    const json = await res.json();\n\n    return json;\n  }\n\n  async updateTranscript(projectId, transcriptId, queryParamsOptions, data) {\n    const res = await corsFetch(this.transcriptsIdUrl(projectId, transcriptId, queryParamsOptions), 'PUT', data);\n    const json = await res.json();\n\n    return json;\n  }\n\n  async deleteTranscript(projectId, transcriptId) {\n    const res = await corsFetch(this.transcriptsIdUrl(projectId, transcriptId), 'DELETE');\n    const json = await res.json();\n\n    return json;\n  }\n\n  /**\n   * Annotations\n   */\n  async getAnnotations(projectId, transcriptId) {\n    const res = await fetch(this.annotationsUrl(projectId, transcriptId));\n    const json = await res.json();\n\n    return json;\n  }\n}\n\n// https://www.sitepoint.com/javascript-design-patterns-singleton/\nconst apiWrapper = new ApiWrapper();\nObject.freeze(apiWrapper);\nexport default apiWrapper;\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFolder, faFolderPlus } from '@fortawesome/free-solid-svg-icons';\nimport ListPageTemplate from '../lib/ListPageTemplate/index.js';\nimport ApiWrapper from '../../ApiWrapper/index.js';\n\nclass Projects extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      projects: null\n    };\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  async componentDidMount () {\n    // TODO: do we need to add user id in request?\n    const result = await ApiWrapper.getAllProjects();\n\n    if (result) {\n      // add a display property for component cards search\n      const tmpList = result.map(project => {\n        project.display = true;\n\n        return project;\n      });\n      this.setState({ projects: tmpList });\n    }\n    // TODO: some error handling\n  };\n\n  async handleDelete(id) {\n    console.log('handleDelete id', id);\n    // TODO: API + server side request for delete\n    // on successful then update state\n    const result = await ApiWrapper.deleteProject(id);\n    const findId = (item) => item.id !== id;\n\n    if (result.status === 'ok') {\n      const filteredProjects = this.state.projects.filter(item => findId(item));\n      this.setState({\n        projects: filteredProjects\n      });\n    } else {\n      // TODO: some error handling, error message saying something went wrong\n    }\n  };\n\n  // To be able to do REST for cards for - Projects, transcripts, paperedits\n  getShowLinkForCard = id => {\n    return `/projects/${ id }`;\n  };\n\n  linkToNew = () => {\n    return '/projects/new';\n  };\n\n  render() {\n    return (\n      <ListPageTemplate\n        icon={ <FontAwesomeIcon icon={ faFolder } /> }\n        itemsList={ this.state.projects }\n        handleDelete={ this.handleDelete }\n        modelName={ 'projects' }\n        getShowLinkForCard={ this.getShowLinkForCard }\n        linkToNew={ this.linkToNew }\n        // showLink for customCard?\n        navbarLinks={ [\n          {\n            name: (\n              <span>\n                {' '}\n                <FontAwesomeIcon icon={ faFolder } /> Projects\n              </span>\n            ),\n            link: '/projects'\n          },\n          {\n            name: (\n              <span>\n                {' '}\n                <FontAwesomeIcon icon={ faFolderPlus } /> NewProject\n              </span>\n            ),\n            link: '/projects/new'\n          }\n        ] }\n        breadCrumbItems={ [\n          {\n            name: 'Projects'\n          }\n        ] }\n      />\n    );\n  }\n}\n\nexport default Projects;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faFolderOpen,\n  faFolderPlus,\n  faFileAlt,\n  faFile,\n  faTasks,\n  faCut,\n  faUsers\n} from '@fortawesome/free-solid-svg-icons';\n\nconst navbarLinks = projectId => {\n\n  return [\n    {\n      name: (\n        <span>\n          {' '}\n          <FontAwesomeIcon icon={ faFolderOpen } /> Projects\n        </span>\n      ),\n      link: '/projects'\n    },\n    {\n      name: (\n        <span>\n          {' '}\n          <FontAwesomeIcon icon={ faFolderPlus } /> NewProject\n        </span>\n      ),\n      link: '/projects/new'\n    },\n    {\n      name: (\n        <span>\n          {' '}\n          <FontAwesomeIcon icon={ faFileAlt } /> Transcripts\n        </span>\n      ),\n      link: `/projects/${ projectId }/transcripts`\n    },\n    {\n      name: (\n        <span>\n          {' '}\n          <FontAwesomeIcon icon={ faFile } /> New Transcript\n        </span>\n      ),\n      link: `/projects/${ projectId }/transcripts/new`\n    },\n    {\n      name: (\n        <span>\n          {' '}\n          <FontAwesomeIcon icon={ faTasks } /> Paper Edits\n        </span>\n      ),\n      link: `/projects/${ projectId }/paperedits`\n    },\n    {\n      name: (\n        <span>\n          {' '}\n          <FontAwesomeIcon icon={ faCut } /> New Paper Edit\n        </span>\n      ),\n      link: `/projects/${ projectId }/paperedits/new`\n    },\n    {\n      name: (\n        <span>\n          {' '}\n          <FontAwesomeIcon icon={ faUsers } /> Users\n        </span>\n      ),\n      link: `/projects/${ projectId }/users`\n    }\n  ];\n};\n\nexport default navbarLinks;\n","import React, { Component } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faPen,\n  faSave,\n  faFileAlt,\n  faTasks,\n  faUsers\n} from '@fortawesome/free-solid-svg-icons';\nimport CustomNavbar from '../lib/CustomNavbar/index.js';\nimport CustomBreadcrumb from '../lib/CustomBreadcrumb/index.js';\nimport CustomFooter from '../lib/CustomFooter/index.js';\nimport navbarLinks from '../lib/custom-navbar-links';\nimport CustomAlert from '../lib/CustomAlert/index.js';\nimport ApiWrapper from '../../ApiWrapper/index.js';\n\nclass Project extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      projectId: this.props.match.params.projectId,\n      title: '',\n      description: '',\n      formDisabled: true,\n      validated: false\n    };\n  }\n\n  componentDidMount = () => {\n    ApiWrapper.getProject(this.state.projectId).then(tmpProject => {\n\n      this.setState({\n        title: tmpProject.title,\n        description: tmpProject.description\n      });\n    }).catch((e) => {\n      console.log('error:::: ', e);\n      this.setState({\n        savedNotification: <CustomAlert\n          dismissable={ true }\n          variant={ 'danger' }\n          heading={ 'Error could not contact the server' }\n          message={ <p>There was an error trying to get this transcript from the server</p> }\n        />\n      });\n    });\n\n  };\n\n  handleTitleChange = event => {\n    this.setState({ title: event.target.value });\n  };\n\n  handleDescriptionChange = event => {\n    this.setState({ description: event.target.value });\n  };\n\n  handleSubmit(event) {\n    const form = event.currentTarget;\n    if (form.checkValidity()) {\n      event.preventDefault();\n      event.stopPropagation();\n      console.log('form.checkValidity()', form.checkValidity());\n      const tmpProject = {\n        title: this.state.title,\n        description: this.state.description,\n        projectId: this.state.projectId\n      };\n      console.log(tmpProject);\n      ApiWrapper.updateProject(this.state.projectId, tmpProject)\n        .then(response => {\n          if (response.status === 'ok') {\n            // show message or redirect\n            console.log('updated');\n            // this.setState({ redirect: true, newProjectId: response.projectId });\n            this.setState({\n              formDisabled: true,\n              savedNotification: (\n                <CustomAlert\n                  dismissable={ true }\n                  variant={ 'success' }\n                  heading={ 'Project saved' }\n                  message={\n                    <p>\n                      Project: <b>{this.state.title}</b> has been saved\n                    </p>\n                  }\n                />\n              )\n            });\n          }\n        })\n        .catch(() => {\n          this.setState({\n            savedNotification: (\n              <CustomAlert\n                dismissable={ true }\n                variant={ 'danger' }\n                heading={ 'Error saving project' }\n                message={\n                  <p>\n                    There was an error trying to save project:{' '}\n                    <b>{this.state.title}</b>\n                  </p>\n                }\n              />\n            )\n          });\n        });\n    }\n    this.setState({ validated: true });\n  }\n\n  render() {\n    return (\n      <Container style={ { marginBottom: '5em' } }>\n        <CustomNavbar links={ navbarLinks(this.state.projectId) } />\n        <br />\n        <CustomBreadcrumb\n          items={ [\n            {\n              name: 'Projects',\n              link: '/projects'\n            },\n            {\n              // TODO: project title\n              name: `${ this.state.title ? this.state.title : '' }`\n            }\n          ] }\n        />\n        {/* <br/> */}\n        <Row>\n          <Col xs={ 12 } sm={ 4 } md={ 4 } lg={ 4 } xl={ 4 }>\n            <LinkContainer to={ `/projects/${ this.state.projectId }/transcripts` }>\n              <Button variant=\"outline-primary\" size=\"lg\" block>\n                <FontAwesomeIcon icon={ faFileAlt } /> Transcripts\n              </Button>\n            </LinkContainer>\n            <br />\n          </Col>\n          <Col xs={ 12 } sm={ 4 } md={ 4 } lg={ 4 } xl={ 4 }>\n            <LinkContainer to={ `/projects/${ this.state.projectId }/paperedits` }>\n              <Button variant=\"outline-primary\" size=\"lg\" block>\n                <FontAwesomeIcon icon={ faTasks } /> Paper-Edits\n              </Button>\n            </LinkContainer>\n            <br />\n          </Col>\n          <Col xs={ 12 } sm={ 4 } md={ 4 } lg={ 4 } xl={ 4 }>\n            <LinkContainer to={ `/projects/${ this.state.projectId }/users` }>\n              <Button variant=\"outline-primary\" size=\"lg\" block>\n                <FontAwesomeIcon icon={ faUsers } /> Users\n              </Button>\n            </LinkContainer>\n          </Col>\n        </Row>\n        <hr />\n        <Row>\n          <Col xs={ 12 } sm={ 12 } md={ 12 } ld={ 12 } xl={ 12 }>\n            <Button\n              onClick={ () => {\n                this.setState(state => {\n                  return {\n                    formDisabled: !state.formDisabled,\n                    savedNotification: null\n                  };\n                });\n              } }\n              variant={\n                this.state.formDisabled ? 'outline-secondary' : 'secondary'\n              }\n              type=\"submit\"\n              block\n              size=\"sm\"\n            >\n              Edit Project <FontAwesomeIcon icon={ faPen } />\n            </Button>\n          </Col>\n        </Row>\n        <br />\n        {this.state.savedNotification}\n        <Row>\n          <Col xs={ 12 } sm={ 12 } md={ 12 } lg={ 12 } xl={ 12 }>\n            <Form\n              noValidate\n              validated={ this.state.validated }\n              onSubmit={ e => this.handleSubmit(e) }\n            >\n              <Form.Group as={ Row } controlId=\"formHorizontalTitle\">\n                <Form.Label column sm={ 2 }>\n                  Title\n                </Form.Label>\n                <Col sm={ 10 }>\n                  <Form.Control\n                    required\n                    disabled={ this.state.formDisabled }\n                    type=\"text\"\n                    // placeholder=\"A Project Title\"\n                    // style={ { border: 'none' } }\n                    onChange={ this.handleTitleChange }\n                    value={ this.state.title }\n                  />\n                </Col>\n                <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                <Form.Control.Feedback type=\"invalid\">\n                  Please chose a title for your project\n                </Form.Control.Feedback>\n              </Form.Group>\n              <Form.Group as={ Row } controlId=\"formHorizontalDescription\">\n                <Form.Label column sm={ 2 }>\n                  Description\n                </Form.Label>\n                <Col sm={ 10 }>\n                  <Form.Control\n                    disabled={ this.state.formDisabled }\n                    type=\"text\"\n                    as=\"textarea\"\n                    rows=\"3\"\n                    // placeholder=\"A Project Description\"\n                    // style={ { border: 'none' } }\n                    onChange={ this.handleDescriptionChange }\n                    value={ this.state.description }\n                  />\n                </Col>\n                <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                <Form.Control.Feedback type=\"invalid\">\n                  Please chose a description for your project\n                </Form.Control.Feedback>\n              </Form.Group>\n              <Button\n                disabled={ this.state.formDisabled }\n                // variant=\"primary\"\n                variant={\n                  this.state.formDisabled ? 'outline-primary' : 'primary'\n                }\n                type=\"submit\"\n              >\n                Save <FontAwesomeIcon icon={ faSave } />\n              </Button>\n            </Form>\n          </Col>\n        </Row>\n        <CustomFooter />\n      </Container>\n    );\n  }\n}\n\nexport default Project;\n","// https://react-bootstrap.netlify.com/components/forms/#forms-validation\n// https://reactjs.org/docs/forms.html\n\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFolder, faFolderPlus } from '@fortawesome/free-solid-svg-icons';\nimport CustomNavbar from '../lib/CustomNavbar/index.js';\nimport CustomBreadcrumb from '../lib/CustomBreadcrumb/index.js';\nimport CustomFooter from '../lib/CustomFooter/index.js';\n\nimport ApiWrapper from '../../ApiWrapper/index.js';\n\nclass ProjectForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // TODO: Tmp title text for debugging, remove for production\n      // replace with ''\n      title: 'Test Project 9',\n      description: '',\n      validated: false,\n      redirect: false,\n      newProjectId: null\n    };\n  }\n\n  handleSubmit(event) {\n    const form = event.currentTarget;\n    if (!form.checkValidity()) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    this.setState({ validated: true });\n\n    const tmpProject = {\n      title: this.state.title,\n      description: this.state.description\n    };\n\n    ApiWrapper.createProject(tmpProject).then(response => {\n      if (response.status === 'ok') {\n        // show message or redirect\n        this.setState({ redirect: true, newProjectId: response.projectId });\n      }\n    });\n  }\n\n  handleTitleChange = event => {\n    this.setState({ title: event.target.value });\n  };\n\n  handleDescriptionChange = event => {\n    this.setState({ description: event.target.value });\n  };\n\n  renderRedirect = () => {\n    if (this.state.redirect && this.state.newProjectId) {\n      return <Redirect to={ `/projects/${ this.state.newProjectId }` } />;\n    }\n  };\n\n  render() {\n    return (\n      <Container style={ { marginBottom: '5em' } }>\n        {this.renderRedirect()}\n        {/* TODO: import navbar */}\n        <CustomNavbar\n          links={ [\n            {\n              name: (\n                <span>\n                  {' '}\n                  <FontAwesomeIcon icon={ faFolder } /> Projects\n                </span>\n              ),\n              link: '/projects'\n            },\n            {\n              name: (\n                <span>\n                  {' '}\n                  <FontAwesomeIcon icon={ faFolderPlus } /> NewProject\n                </span>\n              ),\n              link: '/projects/new'\n            }\n          ] }\n        />\n\n        <br />\n        <CustomBreadcrumb\n          items={ [\n            {\n              name: 'Projects',\n              link: '/projects'\n            },\n            {\n              name: 'New'\n            }\n          ] }\n        />\n\n        <Form\n          noValidate\n          validated={ this.state.validated }\n          onSubmit={ e => this.handleSubmit(e) }\n        >\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Title </Form.Label>\n            <Form.Control\n              required\n              type=\"text\"\n              placeholder=\"Enter a projec title\"\n              value={ this.state.title }\n              onChange={ this.handleTitleChange }\n            />\n            <Form.Text className=\"text-muted\">\n              Chose a title for your project\n            </Form.Text>\n            <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n            <Form.Control.Feedback type=\"invalid\">\n              Please chose a title for your project\n            </Form.Control.Feedback>\n          </Form.Group>\n\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Description </Form.Label>\n            <Form.Control\n              // required\n              // as=\"textarea\" rows=\"3\"\n              type=\"text\"\n              placeholder=\"Enter a project description\"\n              value={ this.state.description }\n              onChange={ this.handleDescriptionChange }\n            />\n            <Form.Text className=\"text-muted\">\n              Chose an optional description for your project\n            </Form.Text>\n            <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n            <Form.Control.Feedback type=\"invalid\">\n              Please chose a description for your project\n            </Form.Control.Feedback>\n          </Form.Group>\n\n          {/* on change save - send to server as post + link to projects list? */}\n          <Button variant=\"primary\" type=\"submit\">\n            Save\n          </Button>\n        </Form>\n\n        <CustomFooter />\n      </Container>\n    );\n  }\n}\n\nexport default ProjectForm;\n","import React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faUser,\n  faSquare,\n  faMinusSquare,\n  faCheck,\n  faUserPlus,\n  faUserMinus\n} from '@fortawesome/free-solid-svg-icons';\nclass CustomUserCard extends Component {\n  render() {\n    return (\n      <Card style={ { width: '100%', marginBottom: '1em' } }>\n        <Card.Body>\n          <Row>\n            <Col xs={ 10 } sm={ 11 } md={ 11 } ld={ 11 } xl={ 11 }>\n              <Card.Title>\n                <FontAwesomeIcon icon={ faUser } /> {this.props.userName}\n              </Card.Title>\n            </Col>\n            <Col xs={ 2 } sm={ 1 } md={ 1 } ld={ 1 } xl={ 1 }>\n              {this.props.partOfProject ? (\n                <Card.Link>\n                  <Button variant=\"outline-success\" size=\"sm\" disabled>\n                    <FontAwesomeIcon icon={ faCheck } />\n                  </Button>\n                </Card.Link>\n              ) : (\n                <Card.Link>\n                  <Button variant=\"outline-secondary\" size=\"sm\" disabled>\n                    &nbsp;&nbsp;&nbsp;&nbsp;\n                  </Button>\n                </Card.Link>\n              )}\n            </Col>\n          </Row>\n          <Row>\n            <Col xs={ 10 } sm={ 11 } md={ 11 } ld={ 11 } xl={ 11 }>\n              <Card.Subtitle className=\"mb-2 text-muted\">\n                {this.props.userEmail}\n              </Card.Subtitle>\n            </Col>\n            <Col xs={ 1 } sm={ 1 } md={ 1 } ld={ 1 } xl={ 1 }>\n              {this.props.partOfProject ? (\n                <Card.Link>\n                  <Button\n                    onClick={ () => {\n                      this.props.handleRemoveUserToProject(this.props.userId);\n                    } }\n                    variant=\"outline-secondary\"\n                    size=\"sm\"\n                  >\n                    <FontAwesomeIcon icon={ faUserMinus } />\n                  </Button>\n                </Card.Link>\n              ) : (\n                <Card.Link>\n                  <Button\n                    onClick={ () => {\n                      this.props.handleAddUserToProject(this.props.userId);\n                    } }\n                    variant=\"outline-secondary\"\n                    size=\"sm\"\n                  >\n                    <FontAwesomeIcon icon={ faUserPlus } />\n                  </Button>\n                </Card.Link>\n              )}\n            </Col>\n          </Row>\n          <Card.Text>\n            <Row>\n              <Col xs={ 10 } sm={ 11 } md={ 11 } ld={ 11 } xl={ 11 }>\n                {this.props.description}\n              </Col>\n            </Row>\n          </Card.Text>\n        </Card.Body>\n      </Card>\n    );\n  }\n}\n\nexport default CustomUserCard;\n","import React, { Component } from 'react';\nimport Container from 'react-bootstrap/Container';\n// import { Switch, Route, BrowserRouter } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch, faUserPlus } from '@fortawesome/free-solid-svg-icons';\n\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\nimport CustomNavbar from '../lib/CustomNavbar/index.js';\nimport CustomBreadcrumb from '../lib/CustomBreadcrumb/index.js';\nimport CustomUserCard from '../lib/CustomUserCard/index.js';\nimport CustomFooter from '../lib/CustomFooter/index.js';\nimport navbarLinks from '../lib/custom-navbar-links';\nimport includesText from '../../Util/includes-text';\n\nclass Users extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      projectId: this.props.match.params.projectId,\n      projectTitle: '',\n      usersList: [\n        {\n          id: 0,\n          name: 'Example 1',\n          email: 'example.1@bbc.co.uk',\n          display: true,\n          partOfProject: true\n        },\n        {\n          id: 1,\n          name: 'Example 2',\n          email: 'example.2@bbc.co.uk',\n          display: true,\n          partOfProject: false\n        },\n        {\n          id: 2,\n          name: 'Example 3',\n          email: 'example.3@bbc.co.uk',\n          display: true,\n          partOfProject: true\n        },\n        {\n          id: 3,\n          name: 'Example 4',\n          email: 'example.4@bbc.co.uk',\n          display: true,\n          partOfProject: false\n        }\n      ]\n    };\n  }\n\n  // TODO: use API class\n  // TODO: also get project title from projectID - separate API call or same?\n  //   componentDidMount = () =>{\n  //     fetch('http://localhost:5000/api/1/transcripts/1', { mode: 'cors' })\n  //     .then(res => res.json())\n  //     .then((json)=>{\n  //       this.setState({transcriptJson: json})\n  //     })\n  //   }\n\n  // TODO: could be moved in utils\n  // TODO: if moved, then search across client side code to remove duplicate\n  // includesText = (textOne, textTwo) => {\n  //   return textOne.toLowerCase().trim().includes(textTwo.toLowerCase().trim());\n  // }\n\n  handleSearch = e => {\n    const searchText = e.target.value;\n\n    const results = this.state.usersList.filter(user => {\n      console.log(searchText, user.name, user.email);\n      if (\n        includesText(user.name, searchText) ||\n        includesText(user.email, searchText)\n      ) {\n        user.display = true;\n\n        return user;\n      } else {\n        user.display = false;\n\n        return user;\n      }\n    });\n\n    this.setState({\n      usersList: results\n    });\n  };\n\n  handleAddUserToProject = userId => {\n    alert('add user ' + userId);\n    // TODO: Call API\n    const users = this.state.usersList;\n    const userTmp = users.map(u => {\n      if (u.id === userId) {\n        u.partOfProject = true;\n      }\n\n      return u;\n    });\n    this.setState({\n      usersList: userTmp\n    });\n  };\n\n  handleRemoveUserToProject = userId => {\n    alert('remove user ' + userId);\n    //eslint-disable-next-line\n    // const confirmationPrompt = confirm(\"Click OK if you wish to delete, cancel if you don't\");\n    // if (confirmationPrompt === true) {\n    //   if (this.props.handleDelete) {\n    //     this.props.handleDelete(this.props.id);\n    //   }\n    // } else {\n    //   alert('All is good, it was not deleted');\n    // }\n    // TODO: Call API\n    const users = this.state.usersList;\n    const userTmp = users.map(u => {\n      if (u.id === userId) {\n        u.partOfProject = false;\n      }\n\n      return u;\n    });\n    this.setState({\n      usersList: userTmp\n    });\n  };\n\n  render() {\n    let users;\n    // if ( this.state.transcriptsList !== null) {\n    users = this.state.usersList\n      .map(user => {\n        if (user.display) {\n          return (\n            <CustomUserCard\n              key={ user.id }\n              userId={ user.id }\n              userName={ user.name }\n              userEmail={ user.email }\n              partOfProject={ user.partOfProject }\n              handleAddUserToProject={ this.handleAddUserToProject }\n              handleRemoveUserToProject={ this.handleRemoveUserToProject }\n            />\n          );\n        } else {\n          return null;\n        }\n      })\n      .filter(user => {\n        return user !== null;\n      });\n    // }\n\n    return (\n      <Container style={ { marginBottom: '5em' } }>\n        <CustomNavbar links={ navbarLinks(this.state.projectId) } />\n        <br />\n        <CustomBreadcrumb\n          // className=\"d-none d-sm-block\"\n          className=\"hidden-xs\"\n          // xsHidden\n          items={ [\n            {\n              name: 'Projects',\n              link: '/projects'\n            },\n            {\n              // TODO: need to get project name\n              // TODO: if using project name, only use first x char and add ...\n              name: `Project: ${ this.state.projectTitle }`,\n              link: `/projects/${ this.state.projectId }`\n            },\n            {\n              name: 'Users'\n            }\n          ] }\n        />\n        <div className=\"\">\n          <InputGroup className=\"mb-3\">\n            <FormControl\n              onChange={ this.handleSearch }\n              placeholder=\"Search for a user to add to this project\"\n              aria-label=\"search\"\n              aria-describedby=\"search\"\n            />\n            <InputGroup.Append>\n              <InputGroup.Text id=\"basic-addon2\">\n                <FontAwesomeIcon icon={ faSearch } />\n              </InputGroup.Text>\n            </InputGroup.Append>\n          </InputGroup>\n\n          <section style={ { height: '80vh', overflow: 'scroll' } }>\n            {users}\n          </section>\n        </div>\n        <CustomFooter />\n      </Container>\n    );\n  }\n}\n\nexport default Users;\n","import React, { Component } from 'react';\nimport { faFileAlt } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport ListPageTemplate from '../lib/ListPageTemplate/index.js';\nimport ApiWrapper from '../../ApiWrapper/index.js';\nimport navbarLinks from '../lib/custom-navbar-links';\n\nclass Transcripts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      transcriptsList: null,\n      projectId: this.props.match.params.projectId,\n      projectTitle: ''\n    };\n\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  async componentDidMount() {\n\n    const result = await ApiWrapper.getTranscripts(this.state.projectId);\n    // TODO: add error handling\n    if (result) {\n      const tmpList = result.transcripts.map((item) => {\n        item.display = true;\n\n        return item;\n      });\n      this.setState({\n        projectTitle: result.projectTitle,\n        transcriptsList: tmpList\n      });\n    }\n  }\n\n  async handleDelete (transcriptId ) {\n\n    // TODO: API + server side request for delete\n    // on successful then update state\n    const result = await ApiWrapper.deleteTranscript(this.state.projectId, transcriptId);\n    // TODO: some error handling, error message saying something went wrong\n    const findId = (item) => item.id !== transcriptId;\n    if (result.status === 'ok') {\n      const tmpNewList = this.state.transcriptsList.filter(item => findId(item));\n      this.setState({\n        transcriptsList: tmpNewList\n      });\n    }\n  }\n\n  getShowLinkForCard = (id) => {\n    return `/projects/${ this.state.projectId }/transcripts/${ id }`;\n  }\n\n  linkToNew = () => {\n    return `/projects/${ this.state.projectId }/transcripts/new`;\n  };\n\n  render() {\n    return (\n      <ListPageTemplate\n        icon={ <FontAwesomeIcon icon={ faFileAlt } /> }\n        itemsList={ this.state.transcriptsList }\n        handleDelete={ this.handleDelete }\n        modelName={ 'transcripts' }\n        getShowLinkForCard={ this.getShowLinkForCard }\n        linkToNew={ this.linkToNew }\n        // showLink for customCard?\n        navbarLinks={ navbarLinks(this.state.projectId) }\n        breadCrumbItems={\n          [ {\n            name: 'Projects',\n            link: '/projects'\n          },\n          {\n            // TODO: need to get project name\n            // TODO: if using project name, only use first x char and add ...\n            name: `Project: ${ this.state.projectTitle }`,\n            link: `/projects/${ this.state.projectId }`\n          },\n          {\n            name: 'Transcripts'\n          }\n          ]\n        }\n      />\n\n    );\n  }\n}\n\nexport default Transcripts;\n","import React, { Component } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPen,\n  faSave } from '@fortawesome/free-solid-svg-icons';\nimport CustomNavbar from '../lib/CustomNavbar/index.js';\nimport CustomBreadcrumb from '../lib/CustomBreadcrumb/index.js';\nimport CustomFooter from '../lib/CustomFooter/index.js';\nimport CustomAlert from '../lib/CustomAlert/index.js';\nimport ApiWrapper from '../../ApiWrapper/index.js';\nimport navbarLinks from '../lib/custom-navbar-links';\n\nconst queryParamsOptions = {\n  transcriptJson: false\n};\n\nclass Transcript extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      projectId: this.props.match.params.projectId,\n      transcriptId: this.props.match.params.transcriptId,\n      projectTitle: '',\n      transcriptTitle: '',\n      description: '',\n      formDisabled: true,\n      validated: false,\n      savedNotification: null\n    };\n\n  }\n\n  componentDidMount = () => {\n    // Get Transcript Title\n    // Get Project Title\n    // TODO: get Transcript Title\n\n    // get transcript resource but not transcript json to\n    // reduce the payload for this page\n\n    ApiWrapper.getTranscript(this.state.projectId, this.state.transcriptId, queryParamsOptions).then((transcript) => {\n      console.log(transcript);\n      this.setState({\n        projectTitle: transcript.projectTitle,\n        transcriptTitle: transcript.transcriptTitle,\n        description:  transcript.description\n      });\n    }).catch((e) => {\n      console.log('error:::: ', e);\n      this.setState({\n        savedNotification: <CustomAlert\n          dismissable={ true }\n          variant={ 'danger' }\n          heading={ 'Error could not contact the server' }\n          message={ <p>There was an error trying to get this transcript from the server</p> }\n        />\n      });\n    });\n  }\n\n  handleTitleChange = (event) => {\n    this.setState({ transcriptTitle: event.target.value });\n  }\n\n  handleDescriptionChange = (event) => {\n    this.setState({ description: event.target.value });\n  }\n\n  handleSubmit(event) {\n    const form = event.currentTarget;\n    if (form.checkValidity()) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      const tmpTranscript = {\n        transcriptTitle: this.state.transcriptTitle,\n        description: this.state.description,\n        projectId: this.state.projectId\n      };\n      console.log(tmpTranscript);\n      ApiWrapper.updateTranscript(this.state.projectId, this.state.transcriptId, queryParamsOptions, tmpTranscript).then((response) => {\n        if (response.status === 'ok') {\n        // show message or redirect\n          console.log('updated');\n          // this.setState({ redirect: true, newProjectId: response.projectId });\n          this.setState({\n            formDisabled: true,\n            savedNotification: <CustomAlert\n              dismissable={ true }\n              variant={ 'success' }\n              heading={ 'Transcript saved' }\n              message={ <p>Transcript: <b>{this.state.transcriptTitle}</b> has been saved</p> }\n            />\n          });\n        }\n      }).catch(() => {\n        this.setState({\n          savedNotification: <CustomAlert\n            dismissable={ true }\n            variant={ 'danger' }\n            heading={ 'Error saving transcript' }\n            message={ <p>There was an error trying to save this transcript: <b>{this.state.transcriptTitle}</b></p> }\n          />\n        });\n      });\n    }\n    this.setState({ validated: true });\n  }\n\n  render() {\n    return (\n      <Container style={ { marginBottom: '5em' } }>\n        <CustomNavbar\n          links={ navbarLinks(this.state.projectId) }\n        />\n        <br/>\n\n        <CustomBreadcrumb\n          items={ [\n            {\n              name: 'Projects',\n              link: '/projects'\n            },\n            {\n              // TODO: need to get project name\n              name: `Project: ${ this.state.projectTitle }`,\n              link: `/projects/${ this.state.projectId }`\n            },\n            {\n              name: 'Transcripts',\n              link: `/projects/${ this.state.projectId }/transcripts`\n            },\n            {\n              name: `${ this.state.transcriptTitle ? this.state.transcriptTitle : '' }`\n            }\n          ] }\n        />\n\n        <Row>\n          <Col xs={ 12 } sm={ 6 } md={ 6 } lg={ 6 } xl={ 6 }>\n            <LinkContainer to={ `/projects/${ this.state.projectId }/transcripts/${ this.state.transcriptId }/correct` }>\n              <Button variant=\"outline-primary\" size=\"lg\" block>Correct Transcript</Button>\n            </LinkContainer>\n            <br/>\n          </Col>\n          <Col xs={ 12 } sm={ 6 } md={ 6 } lg={ 6 } xl={ 6 }>\n            <LinkContainer to={ `/projects/${ this.state.projectId }/transcripts/${ this.state.transcriptId }/annotate` }>\n              <Button variant=\"outline-primary\" size=\"lg\" block>Annotate Transcript</Button>\n            </LinkContainer>\n          </Col>\n        </Row>\n        <hr/>\n        <Row>\n          <Col xs={ 12 } sm={ 12 } md={ 12 } ld={ 12 } xl={ 12 }>\n            <Button\n              onClick={ () => { this.setState((state) => {return { formDisabled: !state.formDisabled, savedNotification: null };}); } }\n              variant={ this.state.formDisabled ? 'outline-secondary' : 'secondary' }\n              type=\"submit\"\n              block\n              size=\"sm\"\n            >\n                Edit Transcript  <FontAwesomeIcon icon={ faPen } />\n            </Button>\n          </Col>\n        </Row>\n        <br/>\n        {this.state.savedNotification}\n\n        <Row >\n          <Col xs={ 12 } sm={ 12 } md={ 12 } lg={ 12 } xl={ 12 }>\n            <Form\n              noValidate\n              validated={ this.state.validated }\n              onSubmit={ e => this.handleSubmit(e) }\n            >\n              <Form.Group as={ Row } controlId=\"formHorizontalTitle\">\n                <Form.Label column sm={ 2 }>\n                  Title\n                </Form.Label>\n                <Col sm={ 10 }>\n                  <Form.Control\n                    required\n                    disabled={ this.state.formDisabled }\n                    type=\"text\"\n                    // placeholder=\"A  Transcript Title\"\n                    // style={ { border: 'none' } }\n                    onChange={ this.handleTitleChange }\n                    value={ this.state.transcriptTitle }/>\n                </Col>\n                <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                <Form.Control.Feedback type=\"invalid\">Please chose a title for your project</Form.Control.Feedback>\n              </Form.Group>\n              <Form.Group as={ Row } controlId=\"formHorizontalDescription\">\n                <Form.Label column sm={ 2 }>\n                  Description\n                </Form.Label>\n                <Col sm={ 10 }>\n                  <Form.Control\n                    disabled={ this.state.formDisabled }\n                    type=\"text\"\n                    as=\"textarea\" rows=\"3\"\n                    // placeholder=\"A Transcript Description\"\n                    // style={ { border: 'none' } }\n                    onChange={ this.handleDescriptionChange }\n                    value={ this.state.description }/>\n                </Col>\n                <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                <Form.Control.Feedback type=\"invalid\">Please chose a description for your project</Form.Control.Feedback>\n              </Form.Group>\n              <Button\n                disabled={ this.state.formDisabled }\n                // variant=\"primary\"\n                variant={ this.state.formDisabled ? 'outline-primary' : 'primary' }\n                type=\"submit\">\n                Save <FontAwesomeIcon icon={ faSave } />\n              </Button>\n            </Form>\n          </Col>\n        </Row>\n\n        <CustomFooter />\n      </Container>\n    );\n  }\n}\n\nexport default Transcript;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n// import { progressBarFetch, setOriginalFetch, ProgressBar } from 'react-fetch-progressbar';\nimport CustomNavbar from '../lib/CustomNavbar/index.js';\nimport CustomBreadcrumb from '../lib/CustomBreadcrumb/index.js';\nimport CustomFooter from '../lib/CustomFooter/index.js';\nimport ApiWrapper from '../../ApiWrapper/index.js';\nimport navbarLinks from '../lib/custom-navbar-links';\nimport CustomAlert from '../lib/CustomAlert/index.js';\nimport './index.module.css';\n\n// setOriginalFetch(window.fetch);\n// window.fetch = progressBarFetch;\n\nclass TranscriptForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      projectId: this.props.match.params.projectId,\n      validated: false,\n      redirect: false,\n      newTranscriptId: null,\n      uploading: false,\n      uploadCompleted: false,\n      mediaFileSelected: false,\n      title: '',\n      description: '',\n      formData: null,\n      savedNotification: null\n    };\n    // console.log(process.env);\n  }\n\n  handleTitleChange = event => {\n    this.setState({ title: event.target.value });\n  };\n\n  handleDescriptionChange = event => {\n    this.setState({ description: event.target.value });\n  };\n\n  // https://codeburst.io/react-image-upload-with-kittens-cc96430eaece\n  handleFileUpload = e => {\n    const files = Array.from(e.target.files);\n    const file = files[0];\n    // more on formData https://thoughtbot.com/blog/ridiculously-simple-ajax-uploads-with-formdata\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('type', file.type);\n    this.setState({ mediaFileSelected: true, formData: formData });\n\n    if (this.state.title === '') {\n      this.setState({ title: file.name });\n    }\n  };\n\n  sendRequest = () => {\n    this.setState({ uploading: true });\n\n    const formData = this.state.formData;\n\n    formData.append('title', this.state.title);\n    formData.append('description', this.state.description);\n\n    // TODO: do you need a try catch?\n    try {\n      ApiWrapper.createTranscript(this.state.projectId, this.state.formData)\n        .then(response => {\n          console.log('response ', response);\n          // show message or redirect\n          this.setState({\n            uploading: false,\n            uploadCompleted: true,\n            redirect: true,\n            newTranscriptId: response.transcriptId\n          });\n\n        }).catch((e) => {\n          console.log('error:::: ', e);\n          this.setState({\n            uploading: false,\n            redirect: false,\n            savedNotification: <CustomAlert\n              dismissable={ true }\n              variant={ 'danger' }\n              heading={ 'Error could not contact the server' }\n              message={ <p>There was an error trying to create this transcript on the server</p> }\n            />\n          });\n        });\n\n    } catch (e) {\n      console.error('error submitting:::', e);\n    }\n  };\n\n  handleSubmit(event) {\n    const form = event.currentTarget;\n    console.log('(form.checkValidity()', form.checkValidity());\n    if (!form.checkValidity()) {\n      this.setState({ validated: true });\n    }\n\n    if (form.checkValidity()) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.sendRequest();\n    }\n  }\n\n  renderRedirect = () => {\n    if (\n      this.state.redirect &&\n      this.state.newTranscriptId &&\n      this.state.uploadCompleted\n    ) {\n      // Transcript most likely to still being in progress when creating a new one, because of time it takes to transcribe STT\n      // return <Redirect to={ `/projects/${ this.state.projectId }/transcripts/${ this.state.newTranscriptId }` } />;\n      return <Redirect to={ `/projects/${ this.state.projectId }/transcripts` } />;\n    }\n  };\n\n  render() {\n    return (\n      <Container>\n        {this.renderRedirect()}\n        {/* TODO: import navbar */}\n        <CustomNavbar links={ navbarLinks(this.state.projectId) } />\n\n        <br />\n        <CustomBreadcrumb\n          items={ [\n            {\n              name: 'Projects',\n              link: '/projects'\n            },\n            {\n              // TODO: need to get project name\n              name: 'Project:',\n              link: `/projects/${ this.state.projectId }`\n            },\n            {\n              name: 'Transcripts',\n              link: `/projects/${ this.state.projectId }/transcripts`\n            },\n            {\n              name: 'New'\n            }\n          ] }\n        />\n        {this.state.savedNotification}\n\n        <Form\n          noValidate\n          validated={ this.state.validated }\n          onSubmit={ e => this.handleSubmit(e) }\n        >\n          <Form.Group controlId=\"formTranscriptTitle\">\n            <Form.Label>Title </Form.Label>\n            <Form.Control\n              required\n              type=\"text\"\n              placeholder=\"Enter a transcript title\"\n              value={ this.state.title }\n              onChange={ this.handleTitleChange }\n            />\n            <Form.Text className=\"text-muted\">\n                Chose a title for your Transcript\n            </Form.Text>\n            <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n            <Form.Control.Feedback type=\"invalid\">\n                Please chose a title for your transcript\n            </Form.Control.Feedback>\n          </Form.Group>\n\n          <Form.Group controlId=\"formTranscriptDescription\">\n            <Form.Label>Description </Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Enter a Transcript description\"\n              value={ this.state.description }\n              onChange={ this.handleDescriptionChange }\n            />\n            <Form.Text className=\"text-muted\">\n                Chose an optional description for your Transcript\n            </Form.Text>\n            <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n            <Form.Control.Feedback type=\"invalid\">\n                Please chose a description for your transcript\n            </Form.Control.Feedback>\n          </Form.Group>\n\n          <Form.Group controlId=\"formTranscriptMediaFile\">\n            <Form.Control\n              required\n              type=\"file\"\n              label=\"Upload\"\n              accept=\"audio/*,video/*\"\n              onChange={ this.handleFileUpload }\n            />\n            <Form.Text className=\"text-muted\">\n                Select an audio or video file to upload\n            </Form.Text>\n            <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n            <Form.Control.Feedback type=\"invalid\">\n                Please chose a audio or video file to upload\n            </Form.Control.Feedback>\n          </Form.Group>\n          <Button variant=\"primary\" type=\"submit\">\n              Save\n          </Button>\n        </Form>\n        <CustomFooter />\n      </Container>\n    );\n  }\n}\n\nexport default TranscriptForm;\n","/**\n * custom \"debounce\" function\n * only calls the last time a function is invoked within a time interval.\n * Example use cases, are when triggering an event listener on an input field\n * such as for a search\n * @param {function} cb - is the function you want to invoke only once\n * @param {number} duration - is in milliseconds\n * @return after time interval it invokes cb\n */\nconst onlyCallOnce = (cb, duration) => {\n  let timer;\n\n  return function() {\n    const args = arguments;\n    clearTimeout(timer);\n    timer = setTimeout(function() {\n      cb.apply(null, args);\n    }, duration);\n  };\n};\n\nexport default onlyCallOnce;","/**\n * List of CSS colors that have letters names as well as hex\n * originally from https://github.com/bahamas10/css-color-names#readme\n * TODO: filter list for colors that meets accessibility requirements and are bright enough\n * TODO: find a way to order this colours, by hue?\n */\nconst csscolors = {\n  'yellow': '#ffff00',\n  // '#ffeb3b': '#ffeb3b',\n  'greenyellow': '#adff2f',\n  'deepskyblue': '#00bfff',\n  'deeppink': '#ff1493',\n  // 'darkorange': '#ff8c00',\n  // 'aliceblue': '#f0f8ff',\n  // 'antiquewhite': '#faebd7',\n  'aqua': '#00ffff',\n  // 'azure': '#f0ffff',\n  // 'beige': '#f5f5dc',\n  // 'bisque': '#ffe4c4',\n  'black': '#000000',\n  // 'blanchedalmond': '#ffebcd',\n  'blueviolet': '#8a2be2',\n  'brown': '#a52a2a',\n  'burlywood': '#deb887',\n  'cadetblue': '#5f9ea0',\n  'chocolate': '#d2691e',\n  'coral': '#ff7f50',\n  // 'cornflowerblue': '#6495ed',\n  // 'cornsilk': '#fff8dc',\n  'crimson': '#dc143c',\n  // 'cyan': '#00ffff',\n  'darkblue': '#00008b',\n  'darkcyan': '#008b8b',\n  'darkgoldenrod': '#b8860b',\n  'darkgray': '#a9a9a9',\n  'darkgreen': '#006400',\n  // 'darkgrey': '#a9a9a9',\n  'darkkhaki': '#bdb76b',\n  'darkmagenta': '#8b008b',\n  'darkolivegreen': '#556b2f',\n  'darkorchid': '#9932cc',\n  'darkred': '#8b0000',\n  'darksalmon': '#e9967a',\n  'darkseagreen': '#8fbc8f',\n  'darkslateblue': '#483d8b',\n  'darkslategray': '#2f4f4f',\n  'darkslategrey': '#2f4f4f',\n  'darkturquoise': '#00ced1',\n  'darkviolet': '#9400d3',\n  'blue': '#0000ff',\n  'dimgray': '#696969',\n  'dimgrey': '#696969',\n  'dodgerblue': '#1e90ff',\n  'firebrick': '#b22222',\n  // 'floralwhite': '#fffaf0',\n  'forestgreen': '#228b22',\n  'fuchsia': '#ff00ff',\n  'gainsboro': '#dcdcdc',\n  // 'ghostwhite': '#f8f8ff',\n  'goldenrod': '#daa520',\n  'gold': '#ffd700',\n  'gray': '#808080',\n  'green': '#008000',\n  'grey': '#808080',\n  'honeydew': '#f0fff0',\n  'hotpink': '#ff69b4',\n  'indianred': '#cd5c5c',\n  'indigo': '#4b0082',\n  'ivory': '#fffff0',\n  'khaki': '#f0e68c',\n  'lavenderblush': '#fff0f5',\n  'lavender': '#e6e6fa',\n  'lawngreen': '#7cfc00',\n  'lemonchiffon': '#fffacd',\n  'lightblue': '#add8e6',\n  'lightcoral': '#f08080',\n  // 'lightcyan': '#e0ffff',\n  'lightgoldenrodyellow': '#fafad2',\n  'lightgray': '#d3d3d3',\n  'lightgreen': '#90ee90',\n  'lightgrey': '#d3d3d3',\n  'lightpink': '#ffb6c1',\n  'lightsalmon': '#ffa07a',\n  'lightseagreen': '#20b2aa',\n  'lightskyblue': '#87cefa',\n  'lightslategray': '#778899',\n  'lightslategrey': '#778899',\n  'lightsteelblue': '#b0c4de',\n  'lightyellow': '#ffffe0',\n  'lime': '#00ff00',\n  'chartreuse': '#7fff00',\n  'limegreen': '#32cd32',\n  'linen': '#faf0e6',\n  'magenta': '#ff00ff',\n  'maroon': '#800000',\n  'mediumblue': '#0000cd',\n  'mediumorchid': '#ba55d3',\n  'mediumpurple': '#9370db',\n  'mediumseagreen': '#3cb371',\n  'mediumslateblue': '#7b68ee',\n  'mediumspringgreen': '#00fa9a',\n  'mediumturquoise': '#48d1cc',\n  'mediumvioletred': '#c71585',\n  'midnightblue': '#191970',\n  'mintcream': '#f5fffa',\n  'mistyrose': '#ffe4e1',\n  'moccasin': '#ffe4b5',\n  // 'navajowhite': '#ffdead',\n  'navy': '#000080',\n  'oldlace': '#fdf5e6',\n  'olive': '#808000',\n  'olivedrab': '#6b8e23',\n  'orange': '#ffa500',\n  'orangered': '#ff4500',\n  'orchid': '#da70d6',\n  'palegoldenrod': '#eee8aa',\n  'palegreen': '#98fb98',\n  'paleturquoise': '#afeeee',\n  'palevioletred': '#db7093',\n  'papayawhip': '#ffefd5',\n  'peachpuff': '#ffdab9',\n  'peru': '#cd853f',\n  'pink': '#ffc0cb',\n  'plum': '#dda0dd',\n  'powderblue': '#b0e0e6',\n  'purple': '#800080',\n  'rebeccapurple': '#663399',\n  'red': '#ff0000',\n  'rosybrown': '#bc8f8f',\n  'royalblue': '#4169e1',\n  'saddlebrown': '#8b4513',\n  'salmon': '#fa8072',\n  'sandybrown': '#f4a460',\n  'seagreen': '#2e8b57',\n  'seashell': '#fff5ee',\n  'sienna': '#a0522d',\n  'silver': '#c0c0c0',\n  'skyblue': '#87ceeb',\n  'slateblue': '#6a5acd',\n  'slategray': '#708090',\n  'slategrey': '#708090',\n  'snow': '#fffafa',\n  'springgreen': '#00ff7f',\n  'steelblue': '#4682b4',\n  'tan': '#d2b48c',\n  'teal': '#008080',\n  'thistle': '#d8bfd8',\n  'tomato': '#ff6347',\n  'turquoise': '#40e0d0',\n  'violet': '#ee82ee',\n  'wheat': '#f5deb3',\n  // 'white': '#ffffff',\n  // 'whitesmoke': '#f5f5f5',\n  'yellowgreen': '#9acd32',\n  'aquamarine': '#7fffd4',\n  'mediumaquamarine': '#66cdaa'\n};\n\n/**\n * An array list of css colors\n */\nconst colorNamesList = Object.freeze(Object.keys(csscolors)\n  .splice(0, 15) // show only first 20 colours\n);\n\n/**\n * returns\n * {value: \"aliceblue\", label: \"aliceblue\", color: \"#f0f8ff\"}\n */\n// const cssColorsValueLabelColor = () => {\nconst cssColorsList = [];\nfor (var key in csscolors) {\n  cssColorsList.push({\n    value: key,\n    label:key,\n    color: csscolors[key]\n  });\n}\n// return cssColorsList;\n// };\n// const cssColorsValueLabelColor = Object.freeze(cssColorsList);\n\n/**\n * Random color\n */\nlet counter = -1;\nconst numberOfColor = colorNamesList.length;\nconst randomColor = () => {\n  if (counter < numberOfColor) {\n    counter += 1;\n  }\n  else {\n    counter = 0;\n  }\n\n  return colorNamesList[counter];\n};\n\nexport {\n  colorNamesList,\n  // cssColorsValueLabelColor,\n  randomColor\n};\n\nexport default csscolors;","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faSyncAlt\n} from '@fortawesome/free-solid-svg-icons';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { GithubPicker } from 'react-color';\nimport { colorNamesList, randomColor } from './css-color-names.js';\nimport chroma from 'chroma-js';\n\nclass LabelForm extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      color: this.props.color,\n      label: this.props.label,\n      description: this.props.description,\n      labelId: this.props.labelId\n    };\n  }\n\n  //   shouldComponentUpdate = (nextProps, nextState) => {\n  //     // if (nextProps !== nextState) {\n  //     //   return true;\n  //     // }\n  //     return true;\n  //   }\n\n  handleRandomiseColor =() => {\n    this.setState({ color: randomColor() });\n  }\n\n  handleColorPickerChangeComplete = (color) => {\n    this.setState({ color: chroma(color.hex ).name() });\n  }\n\n  handleManualColorChange = (e) => {\n    if (e && e.target && e.target.value) {\n      const colorValue = e.target.value;\n      this.setState({ color: chroma.valid(colorValue) ? chroma(colorValue).name() : colorValue });\n    }\n    else if (e && e.target && e.target.value === '') {\n      this.setState({ color: '' });\n    }\n  }\n\n  handleColorSelectChange = color => {\n    this.setState({ color: color.color });\n  };\n\n  handleSave = () => {\n    // checks color in color picker input is valid - can be color name in letters or hex\n    if (chroma.valid(this.state.color)) {\n      // checks label name is not empty\n      if ( this.state.label !== '') {\n        this.props.onLabelSaved({\n          value: this.state.color,\n          label: this.state.label,\n          color: this.state.color,\n          description: this.state.description,\n          id: this.state.labelId\n        });\n\n        this.props.handleClose();\n      }\n      else {\n        alert('add a name to the label to be able to save');\n      }\n    }\n    else {\n      alert('choose a valid color');\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Form>\n          <Form.Group controlId=\"formGroupEmail\">\n            <Form.Label>Label Name </Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Enter label name\"\n              defaultValue={ this.state.label }\n              onInput={ (e) => {this.setState({ label: e.target.value });} }\n            />\n            <Form.Text className=\"text-muted\">\n                    Required label name\n            </Form.Text>\n          </Form.Group>\n          <Form.Group controlId=\"formGroupPassword\">\n            <Form.Label>Label Description</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Enter label description\"\n              defaultValue={ this.state.description }\n              as=\"textarea\" rows=\"3\"\n              onInput={ (e) => { this.setState({ description: e.target.value });} }\n            />\n            <Form.Text className=\"text-muted\">\n                    Optional label description\n            </Form.Text>\n          </Form.Group>\n\n          <Form.Group controlId=\"formGroupPassword\">\n            <Form.Label>Color</Form.Label>\n            <Row>\n              <Col xs={ 2 } sm={ 1 } md={ 1 } lg={ 1 } xl={ 1 }>\n                <Button onClick={ this.handleRandomiseColor } variant=\"light\" size=\"sm\">\n                  <FontAwesomeIcon icon={ faSyncAlt } />\n                </Button>\n              </Col>\n              <Col xs={ 6 } sm={ 6 } md={ 6 } lg={ 6 } xl={ 6 }>\n                <Form.Control\n                  value={ this.state.color }\n                  type=\"text\"\n                  placeholder=\"#\"\n                  onChange={ this.handleManualColorChange }\n                />\n              </Col>\n              <Col xs={ 2 } sm={ 2 } md={ 2 } lg={ 2 } xl={ 2 }\n                style={ {\n                  backgroundColor: this.state.color,\n                  border: 'solid',\n                  borderWidth:'0.01em',\n                  borderColor: 'grey',\n                  padding: '0'\n                } }>\n              </Col>\n            </Row>\n            <Row>\n              <Col xs={ 12 } sm={ 12 } md={ 12 } lg={ 12 } xl={ 12 } >\n                <Form.Text className=\"text-muted\">\n                   To pick a color you can chose one at random, pick one form the list below, or type the name or hex code above.\n                </Form.Text>\n                <GithubPicker\n                  width={ '100%' }\n                  color={ this.state.color }\n                  triangle={ 'hide' }\n                  onChangeComplete={ this.handleColorPickerChangeComplete }\n                  //   https://casesandberg.github.io/react-color/\n                  colors={ colorNamesList }\n                />\n              </Col>\n            </Row>\n          </Form.Group>\n          <Button variant=\"primary\" onClick={ this.handleSave } >\n              Save\n          </Button>\n        </Form>\n      </>\n    );\n  }\n}\nexport default LabelForm;","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faTag\n} from '@fortawesome/free-solid-svg-icons';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport { randomColor } from './css-color-names.js';\nimport LabelForm from './LabelForm.js';\n\nclass LabelModal extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      show: false,\n      color: this.props.color,\n      label: this.props.label,\n      description:  this.props.description,\n      labelId: this.props.labelId\n    };\n  }\n\n  handleClose = () => {\n    this.setState({\n      show: false,\n      // color: randomColor(),\n      // label: '',\n      // description: ''\n    });\n    // Clear all input fields in form?\n  }\n\n  handleShow = () => {\n    this.setState({ show: true });\n  }\n\n  render() {\n    return (\n      <>\n        <Button variant=\"link\" size=\"sm\" onClick={ this.handleShow } block>\n          {this.props.openBtn}\n        </Button>\n        <Modal show={ this.state.show } onHide={ this.handleClose }>\n          <Modal.Header closeButton>\n            <Modal.Title><FontAwesomeIcon icon={ faTag } />  Label </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n\n            <LabelForm\n              onLabelSaved={ this.props.onLabelSaved }\n              label={ this.props.label }\n              description={ this.props.description }\n              color={ this.props.color }\n              labelId={ this.props.labelId }\n              handleClose={ this.handleClose }\n            />\n\n          </Modal.Body>\n        </Modal>\n      </>\n    );\n  }\n}\nexport default LabelModal;","import React, { Component } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Form from 'react-bootstrap/Form';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Nav from 'react-bootstrap/Nav';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faTags,\n  faTag,\n  faAngleDown,\n  faAngleUp,\n  faTimes,\n  faPen,\n  faSlidersH\n} from '@fortawesome/free-solid-svg-icons';\n\nimport LabelModal from './LabelModal.js';\nimport { randomColor } from './css-color-names.js';\n\nclass LabelsList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      labelsListOpen: false,\n      isLabelmodalShown: false\n    };\n  }\n\n  removeLabel = (id, e) => {\n    // eslint-disable-next-line no-restricted-globals\n    const response = confirm('Click OK to delete the label, Cancel if you changed your mind');\n    if (response === true) {\n      const newLabelsOptions = this.props.labelsOptions.filter((label) => {\n        return label.id !== id;\n      });\n      console.log('newLabelsOptions', newLabelsOptions);\n      // this.setState({ labelsOptions: newLabelsOptions });\n      this.props.onLabelsUpdated(newLabelsOptions);\n    } else {\n      alert('Your label was not deleted');\n    }\n  }\n\n  // TODO: See if CreateNewLabelModal can be refactored to accomodate for edit label\n  // if not then separate model to achieve same\n  // https://stackoverflow.com/questions/43335452/pass-item-data-to-a-react-modal\n  editLabel = (id, e) => {\n    const labelToEdit = this.props.labelsOptions.filter((label) => {\n      return label.id === id;\n    });\n    console.log('labelToEdit', labelToEdit);\n    // alert('this functionality has not been implemented yet');\n  }\n  onLabelSaved = (newLabel) => {\n    console.log('onLabelSaved::', newLabel);\n    const { labelsOptions } = this.props;\n    // if updated - labelId is diff from null\n    if (newLabel.id) {\n      console.log('updated?');\n      // find label // assign id\n      // newLabel.id = newLabel.labelId;\n      // TODO: refactor this, eg use id instead of labelId\n      // delete newLabel.labelId;\n      // update label\n      labelsOptions[newLabel.id] = newLabel;\n      // update list of labels\n      this.props.onLabelsUpdated(labelsOptions);\n    }\n    // if created\n    else {\n      console.log('created?');\n      newLabel.id = labelsOptions[labelsOptions.length - 1].id + 1;\n      labelsOptions.push(newLabel);\n      this.props.onLabelsUpdated(labelsOptions);\n    }\n  }\n\n  showLabelModal = () => {\n    console.log(this.state.isLabelmodalShown);\n    this.setState((state) => {\n      return {\n        isLabelmodalShown: !state.isLabelmodalShown\n      };\n    });\n  }\n\n  render() {\n    // TODO: add CSS to label and description to constrain width?\n    // move edit and X to the rigth\n    const labelsListOptions = this.props.labelsOptions.map((label, index) => {\n      return (<ListGroup.Item key={ 'label_' + index }>\n        <Row>\n          {/* Col space for the label color */}\n          <Col xs={ 1 } sm={ 1 } md={ 1 } lg={ 1 } xl={ 1 }\n            style={ { backgroundColor: label.color } }\n            title={ label.label }>\n          </Col>\n          <Col xs={ 7 } sm={ 7 } md={ 7 } lg={ 7 } xl={ 7 }>\n            {label.label}\n          </Col>\n\n          <Col xs={ 1 } sm={ 1 } md={ 1 } lg={ 1 } xl={ 1 }>\n            {/* Edit label */}\n\n            {label.label.toLowerCase() !== 'default' ?\n              <LabelModal\n                color={ label.color }\n                label={ label.label }\n                description={ label.description }\n                labelId={ label.id }\n                show={ this.state.isLabelmodalShown }\n                onLabelSaved={ this.onLabelSaved }\n                openBtn={ <span> <FontAwesomeIcon icon={ faPen } /></span> }\n              /> : <Button title={ 'edit label' } variant=\"link\" size=\"sm\" disabled>\n                <FontAwesomeIcon icon={ faPen } /> </Button> }\n\n            {/* <Button title={ 'edit label' }variant=\"link\" size=\"sm\"\n              // onClick={ (e) => { this.editLabel(label.id, e); } }\n              disabled={ label.label.toLowerCase() === 'default' ? true : false }\n            >\n            </Button> */}\n          </Col>\n          <Col xs={ 1 } sm={ 1 } md={ 1 } lg={ 1 } xl={ 1 }>\n            <Button title={ 'delete label' } variant=\"link\" size=\"sm\"\n              onClick={ (e) => {this.removeLabel(label.id, e);} }\n              disabled={ label.label.toLowerCase() === 'default' ? true : false }>\n              <FontAwesomeIcon icon={ faTimes } />\n            </Button>\n          </Col>\n\n        </Row>\n        <Row>\n          {/* Spacing to align title and color */}\n          <Col xs={ 1 } sm={ 1 } md={ 1 } lg={ 1 } xl={ 1 }\n            title={ label.label }>\n          </Col>\n          <Col xs={ 10 } sm={ 10 } md={ 10 } lg={ 10 } xl={ 10 }>\n            <Form.Text className=\"text-muted\">\n              {label.description}\n            </Form.Text>\n          </Col>\n        </Row>\n      </ListGroup.Item>);\n    });\n\n    const labelsList = (<ListGroup style={ { height: '30vh', overflow: 'scroll' } }>{labelsListOptions}\n    </ListGroup>);\n\n    return (<>\n\n      <Card>\n        <Card.Header\n          variant=\"outline-primary\"\n          onClick={ () => {this.setState((state) => {return { labelsListOpen: !state.labelsListOpen };});} }>\n          <Nav justify variant=\"pills\">\n            <Nav.Item>\n              <FontAwesomeIcon icon={ faTags } />  <FontAwesomeIcon icon={ faSlidersH } />  Labels\n            </Nav.Item>\n            <Nav.Item>\n              <FontAwesomeIcon icon={ this.state.labelsListOpen ? faAngleDown : faAngleUp } />\n            </Nav.Item>\n          </Nav>\n        </Card.Header>\n        {this.state.labelsListOpen ? <> { labelsList }\n          <Card.Footer className=\"text-muted\">\n            <LabelModal\n              color={ randomColor() }\n              label={ '' }\n              description={ '' }\n              labelId={ null }\n              show={ this.state.isLabelmodalShown }\n              onLabelSaved={ this.onLabelSaved }\n              openBtn={ <span>Create New Label <FontAwesomeIcon icon={ faTag } />{' '}</span> }\n            />\n          </Card.Footer> </> : ''}\n      </Card>\n    </>\n    );\n  }\n}\n\nexport default LabelsList;","const removePunctuation = (string) => {\n  return string.replace(/\\.|\\?|!|,|;/, '').toLowerCase() ;\n};\n\nexport default removePunctuation;","/**\n * Problem this module solves\n * is given a list of words as a paragraph, it can segment\n * it based on an annotation with start and end time\n * Work in progress\n```\nconst paragraph = [\n  {\n    index: 1706,\n    start: 702.17,\n    end: 702.37,\n    text: \"Their\"\n  },\n  {\n    index: 1707,\n    start: 702.62,\n    end: 703.26,\n    text: \"reflections\"\n  },\n  {\n    index: 1708,\n    start: 703.26,\n    end: 703.36,\n    text: \"of\"\n  },\n  {\n    index: 1709,\n    start: 703.36,\n    end: 703.45,\n    text: \"our\"\n  },\n  {\n    index: 1710,\n    start: 703.45,\n    end: 703.63,\n    text: \"own\"\n  },\n  {\n    index: 1711,\n    start: 703.63,\n    end: 704.34,\n    text: \"humanity.\"\n  }\n];\n```\n* and an annotation\n```\nconst annotation = {\n  start: 702.62,\n  end: 703.45,\n  labelId: 0,\n  note: \"optional example text description for an annotation\"\n};\n```\n* it returns\n```\n{\n  before: [{ index: 1706, start: 702.17, end: 702.37, text: \"Their\" }],\n  annotations: [\n    { index: 1707, start: 702.62, end: 703.26, text: \"reflections\" },\n    { index: 1708, start: 703.26, end: 703.36, text: \"of\" }\n  ],\n  after: [\n    { index: 1710, start: 703.45, end: 703.63, text: \"own\" },\n    { index: 1711, start: 703.63, end: 704.34, text: \"humanity.\" }\n  ]\n}\n```\n* TODO: add tests for this function\n*/\n\n/**\n * Checks if end of an annotation is included in a paragraph\n */\n// const paragraphIncludesStartOfAnnotation = (annotation, paragraph) => {\n//   // find returns undefined if it doesn't find anything\n//   const startWord = paragraph.find(w => {\n//     return annotation.start == w.start;\n//   });\n//   // find returns undefined if it doesn't find anything\n//   if (startWord) {\n//     return true;\n//   }\n\n//   return false;\n// };\n\n/**\n * Helper function\n * Checks if start of an annotation is included in a paragraph\n */\n// const paragraphIncludesEndOfAnnotation = (annotation, paragraph) => {\n//   const endWord = paragraph.find(w => {\n//     return annotation.end == w.end;\n//   });\n//   // find returns undefined if it doesn't find anything\n//   if (endWord) {\n//     return true;\n//   }\n\n//   return false;\n// };\n\n/**\n * Helper function\n * Checks if an annotation is included in a paragraph\n */\n// const paragraphIncludesAnnotation = (annotation, paragraph) => {\n//   if (\n//     paragraphIncludesStartOfAnnotation(annotation, paragraph) &&\n//     paragraphIncludesEndOfAnnotation(annotation, paragraph)\n//   ) {\n//     return true;\n//   }\n\n//   return false;\n// };\n/**\n *\n */\nconst getWordsBeforeAnnotation = (annotation, paragraph) => {\n  // TODO: move these in annotation\n  // const paragraphFirstWordTime = paragraph[0].start;\n  // const paragraphLastWordTime = paragraph[paragraph.length - 1].end;\n  // if (annotation.start >= paragraphFirstWordTime &&\n  //   annotation.start <= paragraphLastWordTime) {\n  //   return paragraph;\n  // }\n  ///////////////////////////////////////////////////////////\n  const paragraphFilterBeforeSelection = paragraph.filter(w => {\n    return annotation.start > w.start;\n  });\n  if (paragraphFilterBeforeSelection.length === 0) {\n    return false;\n  }\n\n  return paragraphFilterBeforeSelection;\n};\n\n/**\n *\n */\nconst getWordsAfterAnnotation = (annotation, paragraph) => {\n  // TODO: move these in annotation\n  // const paragraphFirstWordTime = paragraph[0].start;\n  // const paragraphLastWordTime = paragraph[paragraph.length - 1].end;\n  // if ( annotation.end >= paragraphFirstWordTime &&\n  //     annotation.end <= paragraphLastWordTime) {\n  //   return paragraph;\n  // }\n  ///////////////////////////////////////////////////////////\n  const paragraphFilterBeforeSelection = paragraph.filter(w => {\n    return annotation.end < w.end;\n  });\n  if (paragraphFilterBeforeSelection.length === 0) {\n    return false;\n  }\n\n  return paragraphFilterBeforeSelection;\n};\n\n/**\n *\n */\nconst getWordsInAnnotation = (annotation, paragraph) => {\n  ///////////////////////////////////////////////////////\n  // Case 4 - annotation spans across the current paragraph  but starts in previous one and ends in subsequent one\n  // if annotation spans across paragraph - return paragraph\n  // const paragraphFirstWordTime = paragraph[0].start;\n  // const paragraphLastWordTime = paragraph[paragraph.length - 1].end;\n  // if (annotation.start <= paragraphFirstWordTime && annotation.end >= paragraphLastWordTime) {\n  //   return paragraph;\n  // }\n  ///////////////////////////////////////////////////////\n  // index for start\n  const startWord = paragraph.find(w => {\n    return annotation.start === w.start;\n  });\n  const startIndex = paragraph.indexOf(startWord);\n  // index for end\n  const endWord = paragraph.find(w => {\n    return annotation.end === w.end;\n  });\n  const endIndex = paragraph.indexOf(endWord);\n\n  //  endIndex + 1 because end not included in slice()\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\n  return paragraph.slice(startIndex, endIndex + 1);\n};\n\n/**\n * Annotation have start and end time\n * paragrap has a list of words with start and end times\n * @param {object} annotation\n * @param {float} annotation.start - time in seconds\n * @param {float} annotation.end - time in seconds\n * @param {int} annotation.labelId\n * @param {string} annotation.note\n * @param {array} paragraph - list of words\n * @param {object} paragraph[] - word object\n * @param {int} paragraph[].index - word id\n * @param {float} paragraph[].start - word start time\n * @param {float} paragraph[].end - word end time\n * @param {string} paragraph[].text - word's text\n *\n * @returns - example output - object with words divided into 3 groups, under attribute, before, annotations, after\n```json\n{\n  before: [{ index: 1706, start: 702.17, end: 702.37, text: \"Their\" }],\n  annotations: [\n    { index: 1707, start: 702.62, end: 703.26, text: \"reflections\" },\n    { index: 1708, start: 703.26, end: 703.36, text: \"of\" }\n  ],\n  after: [\n    { index: 1710, start: 703.45, end: 703.63, text: \"own\" },\n    { index: 1711, start: 703.63, end: 704.34, text: \"humanity.\" }\n  ]\n}\n```\n *\n */\nconst splitParagraphByAnnotation = (annotation, paragraph) => {\n  // if (paragraphIncludesAnnotation(annotation, paragraph)) {\n  return {\n    // slice before\n    wordsBefore: getWordsBeforeAnnotation(annotation, paragraph),\n    // slice between\n    wordsInAnnotation: getWordsInAnnotation(annotation, paragraph),\n    // slice after\n    wordsAfter: getWordsAfterAnnotation(annotation, paragraph)\n  };\n  // }\n\n  // return false;\n};\n\nexport default splitParagraphByAnnotation;","/**\n *  Case 1 - there is an annotation within the boundaries of the current paragraph\n */\nconst isAnnotationWithinParagraph = ( annotations, paragraphFirstWordTime, paragraphLastWordTime) => {\n  const results = annotations.find(annotation => {\n    return (\n      annotation.start >= paragraphFirstWordTime &&\n      annotation.end <= paragraphLastWordTime\n    );\n  });\n\n  return results;\n};\n\n/**\n *  Case 2 - annotation start within the paragraph but ends in subsequent one\n * TODO:\n */\nconst isAnnotationStartWithinParagraph = ( annotations, paragraphFirstWordTime, paragraphLastWordTime) => {\n  const results = annotations.find(annotation => {\n    return (\n      annotation.start >= paragraphFirstWordTime &&\n      annotation.start <= paragraphLastWordTime\n    );\n  });\n\n  return results;\n};\n\n/**\n *  Case 3 - annotation ends within the paragraph  but starts in previous one\n *  TODO:\n */\nconst isAnnotationEndWithinParagraph = ( annotations, paragraphFirstWordTime, paragraphLastWordTime) => {\n  const results = annotations.find(annotation => {\n    return (\n      annotation.end >= paragraphFirstWordTime &&\n      annotation.end <= paragraphLastWordTime\n    );\n  });\n\n  return results;\n};\n\n/**\n *  Case 4 -annotation spans across the current paragraph  but starts in previous one and ends in subsequent one\n * TODO:\n */\nconst isAnnotationAcrossParagraph = ( annotations, paragraphFirstWordTime, paragraphLastWordTime) => {\n  const results = annotations.find(annotation => {\n    return (\n      annotation.start <= paragraphFirstWordTime &&\n      annotation.end >= paragraphLastWordTime\n    );\n  });\n\n  return results;\n};\n\n/**\n *\n * @param {array} annotations\n * @param {object} paragraph\n * @returns annotation object found in the paragraph - false if it doesn't contain\n * example annotation object\n ```\n  { 'id': 2,\n    'start':14.38,\n    'end': 18.14,\n    'labelId': 1,\n    'note': 'optional example text description for an annotation - TEST 1'\n  };\n```\n * TODO: This assumes the annotation is included in the paragraph, and doesn't span across multiple lines\n */\nconst findAnnotationInParagraph = (annotations, paragraph) => {\n  const paragraphFirstWordTime = paragraph[0].start;\n  const paragraphLastWordTime = paragraph[paragraph.length - 1].end;\n  // Case 1 - there is an annotation within the boundaries of the current paragraph\n  const resultsCaseOne = isAnnotationWithinParagraph(annotations, paragraphFirstWordTime, paragraphLastWordTime);\n  if (resultsCaseOne) {\n    return resultsCaseOne;\n  }\n  // Case 2 - annotation start within the paragraph  but ends in subsequent one\n  // const resultsCaseTwo = isAnnotationStartWithinParagraph(annotations, paragraphFirstWordTime, paragraphLastWordTime);\n  // if (resultsCaseTwo) {\n  //   return resultsCaseTwo;\n  // }\n  // // Case 3 - annotation ends within the paragraph  but starts in previous one\n  // const resultsCase3 = isAnnotationEndWithinParagraph(annotations, paragraphFirstWordTime, paragraphLastWordTime);\n  // if (resultsCase3) {\n  //   return resultsCase3;\n  // }\n  // // Case 4 - annotation spans across the current paragraph  but starts in previous one and ends in subsequent one\n  // const resultsCaseFour = isAnnotationAcrossParagraph(annotations, paragraphFirstWordTime, paragraphLastWordTime);\n  // if (resultsCaseFour) {\n  //   return resultsCaseFour;\n  // }\n\n  return false;\n};\n\nexport default findAnnotationInParagraph;","/**\n * TODO: remove this and export from @bbc/react-transcript-editor digital-paper-edit STT import draftJs converter\n\n edge cases\n- more segments then words - not an issue if you start by matching words with segment\nand handle edge case where it doesn't find a match\n- more words then segments - orphan words\n*\n* Takes in list of words and list of paragraphs (paragraphs have speakers info associated with it)\n```js\n{\n  \"words\": [\n    {\n      \"id\": 0,\n      \"start\": 13.02,\n      \"end\": 13.17,\n      \"text\": \"There\"\n    },\n    {\n      \"id\": 1,\n      \"start\": 13.17,\n      \"end\": 13.38,\n      \"text\": \"is\"\n    },\n    ...\n    ],\n  \"paragraphs\": [\n    {\n      \"id\": 0,\n      \"start\": 13.02,\n      \"end\": 13.86,\n      \"speaker\": \"TBC 00\"\n    },\n    {\n      \"id\": 1,\n      \"start\": 13.86,\n      \"end\": 19.58,\n      \"speaker\": \"TBC 1\"\n    },\n    ...\n  ]\n}\n```\n*  and returns a list of words grouped into paragraphs, with words, text and speaker attribute\n```js\n[\n  {\n    \"words\": [\n      {\n        \"id\": 0,\n        \"start\": 13.02,\n        \"end\": 13.17,\n        \"text\": \"There\"\n      },\n      {\n        \"id\": 1,\n        \"start\": 13.17,\n        \"end\": 13.38,\n        \"text\": \"is\"\n      },\n      {\n        \"id\": 2,\n        \"start\": 13.38,\n        \"end\": 13.44,\n        \"text\": \"a\"\n      },\n      {\n        \"id\": 3,\n        \"start\": 13.44,\n        \"end\": 13.86,\n        \"text\": \"day.\"\n      }\n    ],\n    \"text\": \"There is a day.\",\n    \"speaker\": \"TBC 00\"\n  },\n  ...\n]\n```\n */\nfunction groupWordsInParagraphsBySpeakers(words, segments) {\n  // add speakers to each word\n  const wordsWithSpeakers = addSpeakerToEachWord(words, segments);\n  // group words by speakers sequentially\n  const result = groupWordsBySpeaker(wordsWithSpeakers);\n\n  return result;\n};\n\n/**\n* Add speakers to each words\n* if it doesn't have add unknown attribute `U_UKN`\n* @param {*} words\n* @param {*} segments\n*/\nfunction addSpeakerToEachWord(words, segments) {\n  return words.map((word) => {\n    word.speaker = findSegmentForWord(word, segments);\n\n    return word;\n  });\n}\n\n/**\n * Groups Words by speaker attribute\n * @param {array} wordsWithSpeakers - same as kaldi words list but with a `speaker` label attribute on each word\n * @return {array} - list of paragraph objcts, with words, text and sepaker attributes.\n * where words is an array and the other two are strings.\n */\nfunction groupWordsBySpeaker(wordsWithSpeakers) {\n  let currentSpeaker = wordsWithSpeakers[0].speaker;\n  const results = [ ];\n  let paragraph = { words: [], text: '', speaker: '' };\n  wordsWithSpeakers.forEach((word) => {\n    // if current speaker same as word speaker add words to paragraph\n    if (currentSpeaker === word.speaker) {\n      delete word.speaker;\n      paragraph.words.push(word);\n      paragraph.text += word.text + ' ';\n      paragraph.speaker = currentSpeaker;\n    }\n    // if it's not same speaker\n    else {\n      // update current speaker\n      currentSpeaker = word.speaker;\n      // remove spacing in text\n      paragraph.text = paragraph.text.trim();\n      //save  previous paragraph\n      results.push(paragraph);\n      // reset paragraph\n      paragraph = { words: [], text: '', speaker: 'U_UKN' };\n      // add words attributes to new\n      paragraph.words.push(word);\n      paragraph.text += word.text + ' ';\n    }\n  });\n  // add last paragraph\n  results.push(paragraph);\n\n  return results;\n}\n\n/**\n* Helper functions\n*/\n\n/**\n* given word start and end time attributes\n* looks for segment range that contains that word\n* if it doesn't find any it returns a segment with `UKN`\n* speaker attributes.\n* @param {object} word - word object\n* @param {array} segments - list of segments objects\n* @return {object} - a single segment whose range contains the word\n*/\nfunction findSegmentForWord(word, segments) {\n\n  const tmpSegment = segments.find((seg) => {\n    return ((word.start >= seg.start) && (word.end <= seg.end));\n  });\n  // if find doesn't find any matches it returns an undefined\n  if (tmpSegment === undefined) {\n    // covering edge case orphan word not belonging to any segments\n    // adding UKN speaker label\n    return 'UKN';\n  } else {\n    // find returns the first element that matches the criteria\n    return tmpSegment.speaker;\n  }\n}\n\nexport default groupWordsInParagraphsBySpeakers;","import React, { Component } from 'react';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { shortTimecode } from '@bbc/react-transcript-editor/timecodeConverter';\nimport styles from './index.module.css';\n\n/**\n     *  Paragraph display preferences based on search\n     *\n     *  styles to separate the look of non contiguous paragraphs?\n     */\n\nclass Paragraph extends Component {\n\n  render() {\n    const { paragraphDisplayPreference } = this.props;\n    // const inContextSearch = paragraphDisplayPreference;\n    paragraphDisplayPreference.borderStyle = 'dashed';\n    paragraphDisplayPreference.borderWidth = '0.01em';\n    paragraphDisplayPreference.borderColor = 'lightgray';\n    paragraphDisplayPreference.padding = '0.5em';\n\n    // inContextSearch.display = 'block';\n    let paragraphStyle = {};\n    if (this.props.showParagraphsMatchingSearch) {\n      paragraphStyle = this.props.paragraphDisplayPreference;\n    }\n    else {\n      if (!paragraphDisplayPreference.display) {\n        delete paragraphDisplayPreference.display;\n        // paragraphStyle.borderColor = 'orange';\n        // paragraphStyle.borderStyle = 'dashed';\n        // paragraphStyle.borderWidth = '0.01em';\n        paragraphStyle.borderRight = '0.1em dashed lightgrey';\n        paragraphStyle.borderLeft = '0.1em dashed lightgrey';\n      }\n    }\n\n    return (\n      <Row\n        style={ { ...paragraphStyle } }\n        className=\"paragraph\"\n        data-paragraph-text={ this.props.paragraphTextWithoutPunctuation }\n      >\n        <Col xs={ 8 } sm={ 8 } md={ 3 } lg={ 3 } xl={ 2 }>\n          <span className={ [ styles.speaker, styles.unselectable ].join(' ') }\n            tabIndex=\"0\"\n          >{this.props.speakerName}</span>\n        </Col>\n        <Col xs={ 4 } sm={ 4 } md={ 2 } lg={ 2 } xl={ 1 }\n          style={ { padding: '0em', textAlign: 'center' } }\n          className={ styles.unselectable }\n        >\n          <span\n            style={ { cursor: 'pointer', width: '100%' } }\n            data-start={ this.props.paragraph[0].start } className={ 'timecode' }\n            tabIndex=\"0\"\n            onKeyDown={ this.props.handleKeyDownTimecodes }>\n            { shortTimecode(this.props.paragraph[0].start) }\n          </span>\n        </Col>\n        <Col xs={ 12 } sm={ 12 } md={ 7 } lg={ 7 } xl={ 9 }>\n          {this.props.wordsElements}\n        </Col>\n      </Row>\n    );\n  }\n}\nexport default Paragraph;","import React, { Component } from 'react';\n// import removePunctuation from '../../../../../../Util/remove-punctuation/index.js';\nimport removePunctuation from '../../../../../Util/remove-punctuation/index.js';\nclass Words extends Component {\n  render() {\n    const result = this.props.paragraph.map(word => {\n      return (\n        <span\n          title={ `start:${ word.start } - end:${ word.end }` }\n          className={ [ 'words'\n            // , styles.highlightedWord\n          ].join(' ') }\n          data-start={ word.start }\n          // TODO: make/Use helper function in Util - removePunctuation\n          data-text={ removePunctuation(word.text) }\n          // data-text={ word.text }\n          data-end={ word.end }\n          key={ 'key_' + word.id + '_' + word.end }\n          // tabIndex=\"0\"\n          role=\"button\"\n          aria-pressed=\"false\"\n          onKeyDown={ this.props.handleKeyDownWords }\n        >\n          {word.text}{' '}\n        </span>\n      );\n    });\n\n    return (\n      <>{result}</>\n\n    );\n  }\n};\n\nexport default Words;","import React, { Component } from 'react';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Popover from 'react-bootstrap/Popover';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faPen,\n  faStickyNote,\n  faTrashAlt,\n  faTag\n} from '@fortawesome/free-solid-svg-icons';\n\nclass AnnotationOverlayTrigger extends Component {\n\n  handleEditAnnotation = () => {\n    let text;\n    this.props.handleEditAnnotation(this.props.annotationId, text );\n  }\n\n  render() {\n    const { annotationLabelId } = this.props;\n    let label = this.props.labelsOptions.find((label) => {\n      return label.id === annotationLabelId;\n    });\n    // console.log('label:: ', label, annotationLabelId, this.props.labelsOptions, 'this.props.words', this.props.words, this.props.annotationNote);\n    // TODO: Quick fix - needs digging into why sometimes adding a new label crashes, and the `find` function above returns undefined\n    if (!label) {\n      label = this.props.labelsOptions[0];\n    }\n\n    return (\n      <OverlayTrigger rootClose={ true } trigger=\"click\" placement=\"bottom\"\n        overlay={\n          <Popover id=\"popover-basic\">\n            <Row>\n              <Col md={ 1 } style={ { backgroundColor: label.color, marginLeft:'1em' } }></Col>\n              <Col >\n                <FontAwesomeIcon icon={ faTag } />  {label.label}\n              </Col>\n              <Col md={ 1 } style={ { marginRight:'1em' } }\n                onClick={ () => {this.props.handleDeleteAnnotation(this.props.annotationId);} }>\n                <FontAwesomeIcon icon={ faTrashAlt } />\n              </Col>\n            </Row>\n            <hr/>\n            <FontAwesomeIcon icon={ faStickyNote }\n              onClick={ this.handleEditAnnotation }\n            />   { this.props.annotationNote }\n            <br/>\n            <FontAwesomeIcon icon={ faPen }\n              onClick={ this.handleEditAnnotation }\n            />\n          </Popover>\n        }\n      >\n        <span style={ { borderBottom: `0.1em ${ label.color } solid` } } className={ 'highlight' }>{this.props.words}</span>\n      </OverlayTrigger>\n    );\n  }\n}\n\nexport default AnnotationOverlayTrigger;","/**\n * helper function to assign css display preferences\n * @param {boolean} isTextSearch\n * @param {boolean} isSpeakerSearch\n * @param {boolean} isLabelSearch\n */\nfunction computeParagraphDisplayPreference(isTextSearch, isSpeakerSearch, isLabelSearch) {\n  let displayPreference = {};\n  if (!isTextSearch) {\n    displayPreference = { display: 'none' };\n  }\n  if (!isSpeakerSearch) {\n    displayPreference = { display: 'none' };\n  }\n  if (!isLabelSearch) {\n    displayPreference = { display: 'none' };\n  }\n\n  return displayPreference;\n}\n\nexport default computeParagraphDisplayPreference;","import React from 'react';\nimport removePunctuation from '../../../../../Util/remove-punctuation/index.js';\nimport splitParagraphByAnnotation from './split-paragraph-by-annotation.js';\nimport findAnnotationInParagraph from './find-annotation-in-paragraph.js';\nimport groupWordsInParagraphsBySpeakers from './group-words-by-speakers.js';\n\nimport Paragraph from './Paragraph.js';\nimport Words from './Words.js';\nimport AnnotationOverlayTrigger from './AnnotationOverlayTrigger.js';\nimport computeParagraphDisplayPreference from './compute-paragraph-display-preference.js';\n\nfunction generateParagraphs(props) {\n  let wordsElements;\n  let paragraphDisplayPreference = {};\n  const { annotations } = props;\n\n  /**\n   *  Group words into paragraphs\n   *\n   * TODO: Breaking down words in paragraphs could be done\n   * client side or server side?\n   * using paragraphs attribute of transcript json\n   */\n  const paragraphsWithWordsSpeakerText = groupWordsInParagraphsBySpeakers(\n    props.transcriptJson.words,\n    props.transcriptJson.paragraphs\n  );\n\n  /**\n   * Loop over paragraphs\n   */\n  const textResult = paragraphsWithWordsSpeakerText.map((paragraph, index) => {\n    /* Paragraph text for data attribute for searches, without punctuation */\n    const paragraphTextWithoutPunctuation = removePunctuation(paragraph.text);\n    // TODO: something around paragraph, start and end time, included or overlappng in labels start and end time\n    // to do the filtering\n\n    /**\n     * find Annotation In Paragraph\n     * findAnnotationInParagraph returns false if it doesn't find any\n     */\n    const annotation = findAnnotationInParagraph(annotations, paragraph.words);\n    console.log('annotation', annotation);\n    const isTextSearch = paragraphTextWithoutPunctuation.includes(props.searchString.toLowerCase());\n\n    let isSpeakerSearch = false;\n    if (props.selectedOptionSpeakerSearch.length !== 0) {\n      // checks speaker against list of speakers in search,\n      // TODO: Down case comparison or use speaker ID?\n      if (props.selectedOptionSpeakerSearch.find((spk) => {return spk.label === paragraph.speaker; })) {\n        isSpeakerSearch = true;\n      }\n    }\n    else {\n      isSpeakerSearch = true;\n    }\n\n    let isLabelSearch = false;\n    if (props.selectedOptionLabelSearch.length !== 0) {\n      // checks label against list of speakers in search,\n      if (props.selectedOptionLabelSearch.find((lb) => {return lb.id === annotation.labelId; })) {\n        isLabelSearch = true;\n      }\n    }\n    else {\n      isLabelSearch = true;\n    }\n    paragraphDisplayPreference = computeParagraphDisplayPreference(isTextSearch, isSpeakerSearch, isLabelSearch);\n\n    /**\n     * Annotation In Paragraph - if present\n     *\n     * splitParagraphByAnnotation returns false if it doesn't find any.\n     * but we have already checked in previous line with `findAnnotationInParagraph`\n     */\n    if (annotation) {\n      const {\n        wordsBefore,\n        wordsInAnnotation,\n        wordsAfter\n      } = splitParagraphByAnnotation(annotation, paragraph.words);\n\n      const wordsBeforeEl = wordsBefore ? (\n        <Words\n          key={ 'key-' + index }\n          paragraph={ wordsBefore }\n          handleKeyDownWords={ e => {\n            return e.key === 'Enter' ? props.handleWordClick(e) : null;\n          } }\n        />\n      ) : null;\n\n      const wordsInAnnotationEl = (\n        <Words\n          key={ 'key--' + index }\n          paragraph={ wordsInAnnotation }\n          handleKeyDownWords={ e => {\n            return e.key === 'Enter' ? props.handleWordClick(e) : null;\n          } }\n        />\n      );\n\n      const wordsAfterEl = wordsAfter ? (\n        <Words\n          key={ 'key---' + index }\n          paragraph={ wordsAfter }\n          handleKeyDownWords={ e => {\n            return e.key === 'Enter' ? props.handleWordClick(e) : null;\n          } }\n        />\n      ) : null;\n\n      wordsElements = [\n        wordsBeforeEl,\n        <AnnotationOverlayTrigger\n          key={ 'key----' + index }\n          words={ wordsInAnnotationEl }\n          labelsOptions={ props.labelsOptions }\n          annotationLabelId={ annotation.labelId }\n          annotationId={ annotation.id }\n          annotationNote={ annotation.note }\n          handleDeleteAnnotation={ props.handleDeleteAnnotation }\n          handleEditAnnotation={ props.handleEditAnnotation }\n        />,\n        wordsAfterEl\n      ];\n    } else {\n      /**\n       * if no annotation in paragraph\n       */\n      wordsElements = (\n        <Words\n          key={ 'key-----' + index }\n          // TODO: rename to wordsInParagraph? or ListOfWords?\n          paragraph={ paragraph.words }\n          handleKeyDownWords={ e => {\n            return e.key === 'Enter' ? props.handleWordClick(e) : null;\n          } }\n        />\n      );\n    }\n\n    /**\n     * Create a Paragraph containing words, with or without annotation (overlay)\n     */\n    return (\n      <Paragraph\n        showParagraphsMatchingSearch={ props.showParagraphsMatchingSearch }\n        paragraphDisplayPreference={ paragraphDisplayPreference }\n        key={ 'key------' + index }\n        paragraphTextWithoutPunctuation={ paragraphTextWithoutPunctuation }\n        speakerName={ paragraph.speaker }\n        paragraph={ paragraph.words }\n        handleKeyDownTimecodes={ e => {\n          return e.key === 'Enter' ? props.handleTimecodeClick(e) : null;\n        } }\n        wordsElements={ wordsElements }\n      />\n    );\n  });\n\n  return textResult;\n}\n\nexport default generateParagraphs;\n","import React, { Component } from 'react';\nimport generateParagraphs from './generate-paragraphs/index.js';\n\nclass Paragraphs extends Component {\n  // for accessibility, being able to\n  // move with tabs and press enter on\n  // timecode to start playing from that point\n  handleKeyDownTimecodes = e => {\n    if (e.key === 'Enter') {\n      this.props.handleTimecodeClick(e);\n    }\n  };\n\n  handleKeyDownWords = e => {\n    if (e.key === 'Enter') {\n      this.props.handleWordClick(e);\n    }\n  };\n\n  generateParagraphsEl = ( ) => {\n    const textResult = generateParagraphs(this.props);\n\n    return textResult;\n  }\n\n  render() {\n\n    return (\n      <>\n        {this.generateParagraphsEl()}\n      </>\n    );\n  }\n}\n\nexport default Paragraphs;\n","// helper funciton for adding colors to labels in react-select component\n// https://react-select.com/styles\nimport chroma from 'chroma-js';\n\nconst colourStyles = {\n  control: styles => ({ ...styles, backgroundColor: 'white' }),\n  option: (styles, { data, isDisabled, isFocused, isSelected }) => {\n    const color = chroma(data.color);\n\n    let tmpBackgroundColor = null;// 'black;\n    if (isDisabled) {\n      tmpBackgroundColor = null;\n    }\n    if (isSelected) {\n      tmpBackgroundColor = data.color;\n    }\n    if (isFocused) {\n      tmpBackgroundColor = color.alpha(0.1).css();\n    }\n\n    const tmpColor = data.color;\n    if (isDisabled) {\n      tmpColor = '#ccc';\n    }\n    if (isSelected) {\n      tmpColor = chroma.contrast(color, 'white') > 2\n        ? 'white'\n        : 'black';\n    }\n\n    return {\n      ...styles,\n      backgroundColor: tmpBackgroundColor,\n      color: tmpColor,\n      cursor: isDisabled ? 'not-allowed' : 'default'\n    };\n  },\n  //   return {\n  //     ...styles,\n  //     backgroundColor: isDisabled\n  //       ? null\n  //       : isSelected\n  //         ? data.color\n  //         : isFocused\n  //           ? color.alpha(0.1).css()\n  //           : null, //'black'\n  //     color: isDisabled\n  //       ? '#ccc'\n  //       : isSelected\n  //         ? chroma.contrast(color, 'white') > 2\n  //           ? 'white'\n  //           : 'black'\n  //         : data.color,\n  //     cursor: isDisabled ? 'not-allowed' : 'default'\n  //   };\n  // },\n  // singleValue: (provided, state) => {\n  //   const opacity = state.isDisabled ? 0.5 : 1;\n  //   const transition = 'opacity 300ms';\n\n  //   return { ...provided, opacity, transition };\n  // },\n  multiValue: (styles, { data }) => {\n    const color = chroma(data.color);\n\n    return {\n      ...styles,\n      backgroundColor: color.alpha(0.1).css()\n    };\n  },\n  multiValueLabel: (styles, { data }) => ({\n    ...styles,\n    color: data.color\n  }),\n  multiValueRemove: (styles, { data }) => ({\n    ...styles,\n    color: data.color,\n    ':hover': {\n      backgroundColor: data.color,\n      color: 'white'\n    }\n  })\n};\n\nexport default colourStyles;\n","import React, { Component } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Card from 'react-bootstrap/Card';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Select from 'react-select';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faParagraph,\n  faSlidersH,\n  faTags,\n  faUserTag,\n  faAngleDown,\n  faAngleUp,\n  faSearch,\n} from '@fortawesome/free-solid-svg-icons';\nimport colourStyles from '../LabelsList/select-color-styles.js';\n\nclass SearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showParagraphsMatchingSearch: false,\n      showTextSearchPreferences: false,\n      showSpeakersSearchPreferences: false,\n      showLabelsSearchPreferences: false\n    };\n  }\n\n  handleToggleSearchTextPreferences = () => {\n    this.setState((state) => {\n      return { showTextSearchPreferences: !state.showTextSearchPreferences };\n    });\n  };\n\n  handleToggleSearchLabelsPreferences = () => {\n    this.setState((state) => {\n      return {\n        showLabelsSearchPreferences: !state.showLabelsSearchPreferences\n      };\n    });\n  };\n\n  handleToggleSearchSpeakersPreferences = () => {\n    this.setState((state) => {\n      return {\n        showSpeakersSearchPreferences: !state.showSpeakersSearchPreferences\n      };\n    });\n  };\n\n  handleSpeakersSearchChange = selectedOptionSpeakerSearch => {\n    this.props.handleSpeakersSearchChange(selectedOptionSpeakerSearch);\n    this.setState({ selectedOptionSpeakerSearch });\n  };\n\n   handleLabelsSearchChange = selectedOptionLabelSearch => {\n     this.props.handleLabelsSearchChange(selectedOptionLabelSearch);\n     this.setState({ selectedOptionLabelSearch });\n   };\n\n   handleShowParagraphsMatchingSearch = () => {\n     this.setState((state) => {\n       return { showParagraphsMatchingSearch: !state.showParagraphsMatchingSearch };\n     }, () => {\n       this.props.handleShowParagraphsMatchingSearch();\n     });\n   }\n\n   render() {\n     {/* TODO: move this to a Search Toolbar component? */}\n     const searchBar = <Card.Header>\n       <InputGroup className=\"mb-3\">\n         {/* Search controls settings */}\n         <DropdownButton\n           as={ InputGroup.Prepend }\n           variant=\"outline-secondary\"\n           title={ <><FontAwesomeIcon icon={ faSlidersH } /><FontAwesomeIcon icon={ faSearch } /></> }\n           id=\"input-group-dropdown-1\">\n           <Dropdown.Item onClick={ this.handleToggleSearchTextPreferences }>\n             <FontAwesomeIcon icon={ faParagraph }/>\n                Show only matching Paragraphs\n           </Dropdown.Item>\n           <Dropdown.Divider />\n           <Dropdown.Item onClick={ this.handleToggleSearchLabelsPreferences }>\n             <FontAwesomeIcon icon={ faTags } />\n           Filter results by Labels\n           </Dropdown.Item>\n           <Dropdown.Item onClick={ this.handleToggleSearchSpeakersPreferences }>\n             <FontAwesomeIcon icon={ faUserTag } />\n           Filter results by Speakers\n           </Dropdown.Item>\n         </DropdownButton>\n         {/* Search */}\n         <FormControl\n           //  TODO: pass labels, speakers, and paragraph pref\n           onChange={ (e) => {this.props.handleSearch(e, {\n             showParagraphsMatchingSearch: this.state.showParagraphsMatchingSearch,\n             showLabelsSearchPreferences: this.state.showLabelsSearchPreferences,\n             showSpeakersSearchPreferences: this.state.showSpeakersSearchPreferences\n           });} }\n           placeholder=\"Search transcript\"\n           aria-label=\"search\"\n           aria-describedby=\"search\"\n         />\n       </InputGroup>\n     </Card.Header>;\n\n     const textSearchPreferences = this.state.showTextSearchPreferences\n       ? (<Card.Header>\n         <Form.Check\n           type=\"checkbox\"\n           value={ this.state.showParagraphsMatchingSearch }\n           label={ <>Show only matching Paragraphs </> }\n           onClick={ this.handleShowParagraphsMatchingSearch }\n         />\n         <Form.Text className=\"text-muted\">\n           label={ <><FontAwesomeIcon icon={ faParagraph }/>Show only matching Paragraphs </> }\n           onClick={ this.handleShowParagraphsMatchingSearch }\n         >\n         <FontAwesomeIcon icon={ faParagraph }/> Show only paragraphs that contain search results\n         </Form.Text>\n         <Form.Text className=\"text-muted\">\n             Show only paragraphs that contain search results\n         </Form.Text>\n       </Card.Header>)\n       : '';\n\n     const labelsSearchPreferences = this.state.showLabelsSearchPreferences\n       ? <Card.Header>\n         <Select\n           value={ this.state.selectedOptionLabelSearch }\n           onChange={ this.handleLabelsSearchChange }\n           isMulti\n           isSearchable\n           options={ this.props.labelsOptions }\n           styles={ colourStyles }\n         />\n         <Form.Text className=\"text-muted\">\n           <FontAwesomeIcon icon={ faTags } /> Narrow down search by labels\n         </Form.Text>\n       </Card.Header>\n       : '';\n\n     const speakerSearchPreferences = this.state.showSpeakersSearchPreferences\n       ? <Card.Header>\n         <Select\n           value={ this.state.selectedOptionSpeakerSearch }\n           onChange={ this.handleSpeakersSearchChange }\n           isMulti\n           isSearchable\n           options={ this.props.speakersOptions }\n         />\n         <Form.Text className=\"text-muted\">\n           <FontAwesomeIcon icon={ faUserTag } /> See only text for selected speakers\n         </Form.Text>\n       </Card.Header>\n       : '';\n\n     return (\n       <>\n         { searchBar }\n         {textSearchPreferences}\n         {labelsSearchPreferences}\n         { speakerSearchPreferences }\n       </>\n     );\n   }\n}\n\nexport default SearchBar;","/**\n * Gets the start and end time for a range of words elements selected by a user on the page\n * https://github.com/OpenNewsLabs/autoEdit_2/blob/master/lib/app/views/transcription_view.js#L47\n *\n * TODO: check in chrome, firefox, and safari?\n */\n\n/**\n * TODO: at the moment only works for selections within a paragraph\n * @param {*} e - browser event\n * @returns - an object with start and end time - eg {stat: \"23.03\", end: \"39.61\"}\n */\nfunction getTimeFromUserWordsSelection(e) {\n  // https://stackoverflow.com/questions/11300590/how-to-captured-selected-text-range-in-ios-after-text-selection-expansion\n  // https://jsfiddle.net/JasonMore/gWZfb/\n  if (!window.getSelection().isCollapsed) {\n    const selectedRange = window.getSelection().getRangeAt(0).cloneContents();\n\n    // Seems like this work no matter if the selection is made left to right\n    // or right to left form the user\n    const words = selectedRange.querySelectorAll('.words');\n    if (words.length !== 0) {\n\n      return {\n        start: parseFloat(words[0].dataset.start),\n        end: parseFloat(words[words.length - 1].dataset.end)\n      };\n    }\n    else {\n      // handles selection of single word\n      // if selected a single word - then selection is on text element\n      // and we want to get to parent element, span with words class\n      const word = window.getSelection().anchorNode.parentElement;\n      if (word.className === 'words') {\n        return {\n          start: parseFloat(word.dataset.start),\n          end: parseFloat(word.dataset.end)\n        };\n      }\n\n      return false;\n    }\n  }\n\n  return false;\n}\n\nexport default getTimeFromUserWordsSelection;","import React, { Component } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faHighlighter } from '@fortawesome/free-solid-svg-icons';\n\nimport MediaPlayer from '@bbc/react-transcript-editor/MediaPlayer';\nimport VideoPlayer from '@bbc/react-transcript-editor/VideoPlayer';\nimport { secondsToTimecode } from '@bbc/react-transcript-editor/timecodeConverter';\n\nimport onlyCallOnce from '../../../Util/only-call-once/index.js';\nimport CustomNavbar from '../../lib/CustomNavbar/index.js';\nimport CustomBreadcrumb from '../../lib/CustomBreadcrumb/index.js';\nimport CustomFooter from '../../lib/CustomFooter/index.js';\nimport LabelsList from './LabelsList/index.js';\n\nimport Paragraphs from './Paragraphs/index.js';\nimport SearchBar from './SearchBar/index.js';\nimport ApiWrapper from '../../../ApiWrapper/index.js';\nimport navbarLinks from '../../lib/custom-navbar-links';\nimport getTimeFromUserWordsSelection from './get-user-selection.js';\nimport CustomAlert from '../../lib/CustomAlert/index.js';\nimport './index.css';\n\n/**\n * Makes list of unique speakers\n * from transcript.paragraphs list\n * to be used in react-select component\n *\n * TODO: decide if to move server side, and return unique list of speaker to client\n * Or if to move to separate file as util, perhaps generalise as reusable funciton?\n *\n * https://codeburst.io/javascript-array-distinct-5edc93501dc4\n */\nfunction makeListOfUniqueSpeakers(array) {\n  const result = [];\n  const map = new Map();\n  for (const item of array) {\n    if (!map.has(item.speaker)) {\n      map.set(item.speaker, true); // set any value to Map\n      result.push({\n        value: item.speaker,\n        label: item.speaker\n      });\n    }\n  }\n\n  return result;\n}\n\nclass TranscriptAnnotate extends Component {\n  constructor(props) {\n    super(props);\n    this.videoRef = React.createRef();\n\n    this.state = {\n      projectId: this.props.match.params.projectId,\n      transcriptId:  this.props.match.params.transcriptId,\n      projectTitle: '',\n      transcriptJson: null,\n      // TODO: rename title to Transcript Title\n      transcriptTitle: '',\n      url: null,\n      mediaDuration: '00:00:00:00',\n      currentTime: 0,\n      timecodeOffset: 0,\n      searchString: '',\n      sentenceToSearchCSS: '',\n      sentenceToSearchCSSInHighlights: '',\n      wordsToSearchCSS: '',\n      showTextSearchPreferences: false,\n      showLabelsSearchPreferences: false,\n      showSpeakersSearchPreferences: false,\n      showSelectedOptionLabelSearch: false,\n      selectedOptionLabelSearch: [],\n      selectedOptionSpeakerSearch: [],\n      showParagraphsMatchingSearch: false,\n      notification: null,\n      annotations: [],\n      // TODO: this needs to be called using API\n      labelsOptions: [],\n      // TODO: combine with transcript + timecodes\n      speakersOptions : [\n        // { value: 'TBC 00', label: 'TBC 00' },\n        // { value: 'TBC 1', label: 'TBC 1' },\n        // { value: 'Emily', label: 'Emily' },\n        // { value: 'Jennifer', label: 'Jennifer' },\n        // { value: 'Esther', label: 'Esther' },\n        // { value: 'Ben', label: 'Ben' },\n        // { value: 'Eleanor', label: 'Eleanor' },\n        // { value: 'Summer', label: 'Summer' },\n        // { value: 'Kohinoor', label: 'Kohinoor' },\n        // { value: 'Cooper', label: 'Cooper' }\n      ]\n    };\n  }\n\n  componentDidMount = () => {\n    ApiWrapper.getAnnotations(this.state.projectId, this.state.transcriptId)\n      // TODO: add error handling\n      .then(json => {\n        console.log(json.labels);\n        this.setState({\n          projectTitle: json.projectTitle,\n          transcriptJson: json.transcript,\n          annotations: json.annotations,\n          transcriptTitle: json.transcriptTitle,\n          url: json.url,\n          labelsOptions: json.labels,\n          speakersOptions: makeListOfUniqueSpeakers(json.transcript.paragraphs)\n        });\n      })\n      .catch((e) => {\n        this.setState({\n          notification:<CustomAlert\n            dismissable={ true }\n            variant={ 'danger' }\n            heading={ 'Server Error' }\n            message={ <p>Error reaching the server to fetch transcript </p> }\n          />\n        });\n      });\n  };\n\n  handleWordClick = e => {\n    if (e.target.className === 'words' ) {\n      const wordEl = e.target;\n      this.videoRef.current.currentTime = wordEl.dataset.start;\n      this.videoRef.current.play();\n    }\n  };\n\n  handleTimecodeClick= e => {\n    if ( e.target.className === 'timecode') {\n      const wordEl = e.target;\n      this.videoRef.current.currentTime = wordEl.dataset.start;\n      this.videoRef.current.play();\n    }\n  };\n\n  handleSearch = (e, searchPreferences) => {\n    // TODO: debounce to optimise\n    if (e.target.value !== '') {\n      const searchString = e.target.value;\n      this.setState({ searchString: searchString.toLowerCase() });\n      //  \"debounce\" to optimise\n      onlyCallOnce(this.highlightWords (searchString), 500);\n    }\n    // if empty string reset\n    else if (e.target.value === '') {\n      this.setState({\n        sentenceToSearchCSS: '',\n        searchString: ''\n      });\n    }\n  };\n\n  // TODO: bug, when highlights a sentence, within a paragraph, it also highlights\n  // lose words belonging to that sentence, in the paragraph.\n  // eg 'a day not so long ago' it will also highlight all the occurrences of 'a'\n  // and other words in the sentence\n  // there might be a way to narrow down with CSS selector\n  highlightWords = searchString => {\n    const listOfSearchWords = searchString.toLowerCase().trim().split(' ');\n    const pCSS = `.paragraph[data-paragraph-text*=\"${ listOfSearchWords.join(' ') }\"]`;\n\n    const wordsToSearchCSS = listOfSearchWords.map((searchWord, index) => {\n      let res = `${ pCSS } > div > span.words[data-text=\"${ searchWord\n        .toLowerCase()\n        .trim() }\"]`;\n      if (index < listOfSearchWords.length - 1) {\n        // console.log(index, listOfSearchWords.length);\n        res += ', ';\n      }\n\n      return res;\n    });\n    // Need to add an extra span to search annotation hilights\n    // TODO: refactor to make more DRY\n    const wordsToSearchCSSInHighlights = listOfSearchWords.map((searchWord, index) => {\n      let res = `${ pCSS } > div  > span >span.words[data-text=\"${ searchWord\n        .toLowerCase()\n        .trim() }\"]`;\n      if (index < listOfSearchWords.length - 1) {\n        res += ', ';\n      }\n\n      return res;\n    });\n    this.setState({\n      sentenceToSearchCSS: wordsToSearchCSS.join(' '),\n      sentenceToSearchCSSInHighlights: wordsToSearchCSSInHighlights.join(' ')\n    });\n  };\n\n  onLabelsUpdated = (newLabelsOptions) => {\n    this.setState({ labelsOptions: newLabelsOptions });\n  }\n\n  handleTimeUpdate = (e) => {\n    const currentTime = e.target.currentTime;\n    this.setState({\n      currentTime\n    });\n  }\n  onLoadedDataGetDuration = e => {\n    const currentDuration = e.target.duration;\n    const currentDurationWithOffset = currentDuration + this.state.timecodeOffset;\n    const durationInSeconds = secondsToTimecode(currentDurationWithOffset);\n\n    this.setState({\n      mediaDuration: durationInSeconds\n    });\n  };\n\n  handleShowParagraphsMatchingSearch = () => {\n    this.setState((state) => {\n      return { showParagraphsMatchingSearch: !state.showParagraphsMatchingSearch };\n    });\n  }\n\n  saveToServer = () => {\n    // TODO API call save annotations to server\n    alert('save to server');\n  }\n\n  handleAnnotation = (e) => {\n    const element = e.target;\n    window.element = element;\n    const selection = getTimeFromUserWordsSelection();\n    if (selection) {\n      this.setState((state) => {\n        const { annotations } = state;\n        selection.labelId = parseInt(element.dataset.labelId);\n        const customNoteText = '';\n        selection.note = customNoteText ? customNoteText : '';\n        // TODO: Temporary workaround to calculate label Id\n        // there's got to be a more robust way to make id for label\n        // eg use: `const buf = crypto.randomBytes(16); buf.toString('hex');`\n        // and should this be done client side or server side?\n        const lastAnnotation = annotations[annotations.length - 1];\n        const lastAnnotationId = lastAnnotation.id;\n        const newAnnotationId = lastAnnotationId + 1;\n        selection.id = newAnnotationId;\n        annotations.push(selection);\n\n        return {\n          annotations: annotations\n        };\n      });\n    }\n    else {\n      alert('Select some text in the transcript to highlight ');\n    }\n\n  }\n\n  handleDeleteAnnotation = (annotationId) => {\n    const { annotations } = this.state;\n    const newAnnotationsSet = annotations.filter((annotation) => {\n      return annotation.id !== annotationId;\n    });\n\n    this.setState({\n      annotations: newAnnotationsSet\n    });\n  }\n\n  // similar to handleDeleteAnnotation filter to find annotation then replace text\n  handleEditAnnotation = (annotationId) => {\n    const { annotations } = this.state;\n    const newAnnotationsSet = annotations.filter((annotation) => {\n      return annotation.id !== annotationId;\n    });\n\n    const newAnnotationToEdit = annotations.find((annotation) => {\n      return annotation.id === annotationId;\n    });\n    const newNote = prompt('Edit the text note of the annotation', newAnnotationToEdit.note);\n    if (newNote) {\n      newAnnotationToEdit.note = newNote;\n      newAnnotationsSet.push(newAnnotationToEdit);\n      this.setState({\n        annotations: newAnnotationsSet\n      });\n    }\n    else {\n      alert('all good nothing changed');\n    }\n  }\n\n  handleLabelsSearchChange = (selectedOptionLabelSearch) => {\n    // console.log('selectedOptionLabelSearch', selectedOptionLabelSearch);\n    this.setState({\n      selectedOptionLabelSearch\n    });\n  }\n\n  handleSpeakersSearchChange = (selectedOptionSpeakerSearch) => {\n    // console.log('selectedOptionSpeakerSearch', selectedOptionSpeakerSearch);\n    this.setState({\n      selectedOptionSpeakerSearch\n    });\n  }\n\n  render() {\n    return (\n      <Container fluid={ true } style={ { backgroundColor: '#f9f9f9', marginBottom: '5em' } }>\n        <style scoped>\n          {''}\n        </style>\n        <style scoped>\n          {/* This is to style of the Paragraph component programmatically */}\n          {`${ this.state.sentenceToSearchCSS } { background-color: ${ 'yellow' }; text-shadow: 0 0 0.01px black }`}\n          {`${ this.state.sentenceToSearchCSSInHighlights } { background-color: ${ 'yellow' }; text-shadow: 0 0 0.01px black }`}\n        </style>\n\n        <CustomNavbar\n          links={ navbarLinks(this.state.projectId) }\n        />\n        <br />\n        {this.state.notification}\n        <Row>\n          <Col sm={ 9 } md={ 9 } ld={ 9 } xl={ 9 }>\n            <CustomBreadcrumb\n              items={ [\n                {\n                  name: 'Projects',\n                  link: '/projects'\n                },\n                {\n                  // TODO: need to get project name?\n                  // TODO: is this needed?\n                  name: `Project: ${ this.state.projectTitle }`,\n                  link: `/projects/${ this.state.projectId }`\n                },\n                {\n                  name: 'Transcripts',\n                  link: `/projects/${ this.state.projectId }/transcripts`\n                },\n                {\n                  // Note: There is no individual transcript page only transcript index, annotate, and correct\n                  name: `${ this.state.transcriptTitle }`,\n                  link: `/projects/${ this.state.projectId }/transcripts/${ this.state.transcriptId }`\n                },\n                {\n                  name: 'Annotate'\n                }\n              ] }\n            />\n          </Col>\n          <Col xs={ 12 } sm={ 3 } md={ 3 } ld={ 3 } xl={ 3 }>\n            <Button variant=\"outline-secondary\" onClick={ this.saveToServer } size=\"lg\" block>\n            Save\n            </Button>\n            <br/>\n          </Col>\n        </Row>\n        <Row>\n          <Col xs={ 12 } sm={ 12 } md={ 12 } lg={ 12 } xl={ 12 }>\n            <MediaPlayer\n              title={ this.state.transcriptTitle ? this.state.transcriptTitle : '' }\n              mediaDuration={ this.state.mediaDuration }\n              hookSeek={ foo => (this.setCurrentTime = foo) }// <--\n              hookPlayMedia={ foo => (this.playMedia = foo) }// <--\n              hookIsPlaying={ foo => (this.isPlaying = foo) } // <--\n              // rollBackValueInSeconds={ this.state.rollBackValueInSeconds }\n              rollBackValueInSeconds={ 15 }\n              timecodeOffset={ this.state.timecodeOffset }\n              mediaUrl={ this.state.url }\n              // handleAnalyticsEvents={ this.props.handleAnalyticsEvents }\n              videoRef={ this.videoRef }\n              // handleSaveTranscript={ this.handleSaveTranscript }\n              handleSaveTranscript={ () => {alert('feature not implemented yet');} }\n            />\n            <br/>\n          </Col>\n        </Row>\n        <Row>\n          <Col xs={ 12 } sm={ 3 } md={ 3 } lg={ 3 } xl={ 3 } style={ { paddingRight:'0' } }>\n            {this.state.transcriptJson !== null && (\n              <VideoPlayer\n                tabindex=\"0\"\n                role=\"button\"\n                aria-pressed=\"false\"\n                mediaUrl={ this.state.url }\n                onTimeUpdate={ this.handleTimeUpdate }\n                videoRef={ this.videoRef }\n                previewIsDisplayed={ true }\n                onLoadedDataGetDuration={ this.onLoadedDataGetDuration }\n              />\n            )}\n\n            <LabelsList\n              labelsOptions={ this.state.labelsOptions }\n              onLabelsUpdated={ this.onLabelsUpdated }\n            />\n\n            <br/>\n            <Dropdown as={ ButtonGroup } style={ { width: '100%' } } >\n              <Button variant=\"warning\" id=\"defaultHighlightBtn\" data-label-id={ 0 } onClick={ this.handleAnnotation } > Highlight <FontAwesomeIcon icon={ faHighlighter } /></Button>\n              <Dropdown.Toggle split variant=\"warning\" id=\"dropdown-split-basic\" data-lable-id={ 0 }/>\n              <Dropdown.Menu onClick={ this.handleAnnotation }>\n                {this.state.labelsOptions.map((label) => {\n                  return (\n                    <Dropdown.Item key={ `label_id_${ label.id }` } data-label-id={ label.id } >\n                      <Row data-label-id={ label.id }>\n                        <Col xs={ 1 } sm={ 1 } md={ 1 } lg={ 1 } xl={ 1 } style={ { backgroundColor: label.color } } data-label-id={ label.id }></Col>\n                        <Col xs={ 1 } sm={ 1 } md={ 1 } lg={ 1 } xl={ 1 } data-label-id={ label.id }>{label.label}</Col>\n                      </Row>\n                    </Dropdown.Item>\n                  );\n                })}\n              </Dropdown.Menu>\n            </Dropdown>\n\n            <Form.Text className=\"text-muted\">\n            Select some text in the transcript then click the highlight button.\n              <br/>You can choose btween default or custom labels to categorise your annotations.\n            </Form.Text>\n\n          </Col>\n          <Col xs={ 12 } sm={ 9 } md={ 9 } lg={ 9 } xl={ 9 }>\n\n            <Card>\n              <SearchBar\n                labelsOptions={ this.state.labelsOptions }\n                speakersOptions={ this.state.speakersOptions }\n                handleSearch={ this.handleSearch }\n                handleLabelsSearchChange={ this.handleLabelsSearchChange }\n                handleSpeakersSearchChange={ this.handleSpeakersSearchChange }\n                handleShowParagraphsMatchingSearch={ this.handleShowParagraphsMatchingSearch }\n              />\n              <Card.Body\n                onDoubleClick={ this.handleWordClick }\n                onClick={ this.handleTimecodeClick }\n                style={ { height: '80vh', overflow: 'scroll' } }\n              >\n                {/* TODO: instead of null, if transcript is not provided, eg offline or server error, then add custom alert */}\n                {this.state.transcriptJson\n                && <Paragraphs\n\n                  labelsOptions={ this.state.labelsOptions }\n                  annotations={ this.state.annotations }\n                  transcriptJson={ this.state.transcriptJson }\n                  searchString={ this.state.searchString }\n                  showParagraphsMatchingSearch={ this.state.showParagraphsMatchingSearch }\n                  selectedOptionLabelSearch={ this.state.selectedOptionLabelSearch }\n                  selectedOptionSpeakerSearch={ this.state.selectedOptionSpeakerSearch }\n                  handleTimecodeClick={ this.handleTimecodeClick }\n                  handleWordClick={ this.handleWordClick }\n                  handleDeleteAnnotation={ this.handleDeleteAnnotation }\n                  handleEditAnnotation={ this.handleEditAnnotation }\n                />}\n              </Card.Body>\n            </Card>\n          </Col>\n        </Row>\n        <CustomFooter />\n      </Container>\n    );\n  }\n}\n\nexport default TranscriptAnnotate;\n","import React, { Component } from 'react';\n// import './index.module.css';\n// import styles from './Transcript.module.css';\n// TODO: perhaps import TranscriptEditor on componentDidMount(?) to defer the load for later\n// https://facebook.github.io/create-react-app/docs/code-splitting\nimport { TranscriptEditor } from '@bbc/react-transcript-editor';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport CustomNavbar from '../lib/CustomNavbar/index.js';\nimport CustomBreadcrumb from '../lib/CustomBreadcrumb/index.js';\n// import CustomFooter from '../lib/CustomFooter/index.js';\nimport ApiWrapper from '../../ApiWrapper/index.js';\nimport navbarLinks from '../lib/custom-navbar-links';\nimport CustomFooter from '../lib/CustomFooter/index.js';\nimport CustomAlert from '../lib/CustomAlert/index.js';\n\nclass TranscriptCorrect extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      projectId: this.props.match.params.projectId,\n      transcriptId: this.props.match.params.transcriptId,\n      transcriptJson: null,\n      url: null,\n      projectTitle: '',\n      transcriptTitle: '',\n      savedNotification: null\n    };\n    this.transcriptEditorRef = React.createRef();\n  }\n\n  componentDidMount = () => {\n    ApiWrapper.getTranscript(this.state.projectId, this.state.transcriptId)\n      // TODO: add error handling\n      .then(json => {\n        this.setState({\n          projectTitle: json.projectTitle,\n          transcriptTitle: json.transcriptTitle,\n          transcriptJson: json.transcript,\n          url: json.url\n        });\n      });\n  }\n\n  saveToServer = () => {\n    // TODO: add Api call to save content of\n    alert('save to server');\n\n    const { data } = this.transcriptEditorRef.current.getEditorContent('digitalpaperedit');\n    const queryParamsOptions = false;\n    ApiWrapper.updateTranscript(this.state.projectId, this.state.transcriptId, queryParamsOptions, data).then((response) => {\n      if (response.status === 'ok') {\n      // show message or redirect\n        console.log('updated');\n        // this.setState({ redirect: true, newProjectId: response.projectId });\n        this.setState({\n          savedNotification: <CustomAlert\n            dismissable={ true }\n            variant={ 'success' }\n            heading={ 'Transcript saved' }\n            message={ <p>Transcript: <b>{this.state.transcriptTitle}</b> has been saved</p> }\n          />\n        });\n      }\n    }).catch((e) => {\n      console.error('error saving transcript:: ', e);\n      this.setState({\n        savedNotification: <CustomAlert\n          dismissable={ true }\n          variant={ 'danger' }\n          heading={ 'Error saving transcript' }\n          message={ <p>There was an error trying to save this transcript: <b>{this.state.transcriptTitle}</b></p> }\n        />\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Container style={ { marginBottom: '5em' } } fluid>\n\n        <CustomNavbar\n          links={ navbarLinks(this.state.projectId) }\n        />\n        <br/>\n\n        <Row>\n          <Col sm={ 9 } md={ 9 } ld={ 9 } xl={ 9 }>\n            <CustomBreadcrumb\n              items={ [ {\n                name: 'Projects',\n                link: '/projects'\n              },\n              {\n                // TODO: need to get project name?\n                // TODO: is this needed?\n                name: `Project: ${ this.state.projectTitle }`,\n                link: `/projects/${ this.state.projectId }`\n              },\n              {\n                name: 'Transcripts',\n                link:`/projects/${ this.state.projectId }/transcripts`\n              },\n              {\n                // TODO: transcript name\n                link:`/projects/${ this.state.projectId }/transcripts/${ this.state.transcriptId }`,\n                name: `${ this.state.transcriptTitle }`//'Transcript'\n              },\n              {\n                name: 'Correct'\n              }\n              ] }\n            />\n          </Col>\n          <Col xs={ 12 } sm={ 3 } md={ 3 } ld={ 3 } xl={ 3 }>\n            <Button variant=\"outline-secondary\" onClick={ this.saveToServer } size=\"lg\" block>\n            Save\n            </Button>\n            <br/>\n          </Col>\n        </Row>\n        {this.state.savedNotification}\n        {/* <Row> */}\n        {this.state.transcriptJson !== null &&\n          <TranscriptEditor\n            transcriptData={ this.state.transcriptJson }// Transcript json\n            // TODO: move url server side\n            mediaUrl={ this.state.url }// string url to media file - audio or video\n            isEditable={ true }// se to true if you want to be able to edit the text\n            sttJsonType={ 'digitalpaperedit' }// the type of STT Json transcript supported.\n            //  TODO: check if name has changed in latest version\n            title={ this.state.projectTitle }\n            fileName={ this.state.projectTitle }// optional*\n            ref={ this.transcriptEditorRef }\n          />}\n        {/* </Row> */}\n\n        <CustomFooter />\n      </Container>\n    );\n  }\n}\n\nexport default TranscriptCorrect;\n","import React, { Component } from 'react';\nimport { faCut } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport ListPageTemplate from '../lib/ListPageTemplate/index.js';\nimport navbarLinks from '../lib/custom-navbar-links';\n\nclass PaperEdits extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      paperEditsList: null,\n      projectId: this.props.match.params.projectId,\n      projectTitle: ''\n    };\n  }\n  componentDidMount = () => {\n    // TODO: add user id in request?\n    // TODO: add end point url in config\n    // TODO: move fetch into a API class - to handle electron backend switch\n    fetch('http://localhost:5000/api/projects/1/paperedits', { mode: 'cors' })\n      .then(res => res.json())\n      .then(json => {\n        // add a display property for component cards search\n        const tmpList = json.paperedits.map(item => {\n          item.display = true;\n\n          return item;\n        });\n        // projectTitle\n        this.setState({ paperEditsList: tmpList });\n      });\n  };\n\n  handleDelete = () => {\n    // TODO: API + server side request for delete\n    // on successful then update state\n    // Api.deletePaperedit(id).then((res) => {\n    //   if (res.status === 'ok') {\n    //     const tmpNewList = this.state.paperEditsList.filter(function( obj ) {\n    //       return obj.id !== id;\n    //     });\n    //     this.setState({\n    //       paperEditsList: tmpNewList\n    //     });\n    //   } else {\n    //     // TODO: some error handling, error message saying something went wrong\n    //   }\n    // });\n  };\n\n  getShowLinkForCard = id => {\n    return `/projects/${ this.state.projectId }/paperedits/${ id }`;\n  };\n\n  linkToNew = () => {\n    return `/projects/${ this.state.projectId }/paperedits/new`;\n  };\n\n  render() {\n    return (\n      <ListPageTemplate\n        icon={ <FontAwesomeIcon icon={ faCut } /> }\n        itemsList={ this.state.paperEditsList }\n        handleDelete={ this.handleDelete }\n        modelName={ 'paperedits' }\n        getShowLinkForCard={ this.getShowLinkForCard }\n        linkToNew={ this.linkToNew }\n        // showLink for customCard?\n        navbarLinks={ navbarLinks(this.state.projectId) }\n        breadCrumbItems={ [\n          {\n            name: 'Projects',\n            link: '/projects'\n          },\n          {\n            // TODO: need to get project name\n            // TODO: if using project name, only use first x char and add ...\n            name: `Project: ${ this.state.projectTitle }`,\n            link: `/projects/${ this.state.projectId }`\n          },\n          {\n            name: 'Paper Edits'\n          }\n        ] }\n      />\n    );\n  }\n}\n\nexport default PaperEdits;\n","import React, { Component } from 'react';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nclass Paragraph extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\n    };\n  }\n\n  render() {\n    return (\n      <Row >\n        <Col sm={ 3 }>\n          <strong>Speaker New </strong>\n        </Col>\n        <Col sm={ 9 }>\n          <p>New Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.</p>\n          <p>reminding one of the bulwarks of some condemned old craft.</p>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default Paragraph;\n","import React, { Component } from 'react';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Paragraph from './Paragraph.js';\n\nclass Transcript extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\n    };\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  render() {\n    return (\n      <>\n        <h3>Transcript 1</h3>\n\n        {/* // Preview video - HTML5 Video element or  @bbc/react-transcript-editor/VideoPlayer\n        // Media control - HTML5 default or @bbc/react-transcript-editor/MediaPlayer\n        // Search Bar - from TranscriptAnnotate component\n        // Text -  from TranscriptAnnotate component */}\n        <video src=\"https://download.ted.com/talks/KateDarling_2018S-950k.mp4\" style={ { width: '100%', height:'10em', backgroundColor: 'black' } } controls/>\n        <article style={ { height: '60vh', overflow: 'scroll' } }>\n          <Paragraph />\n          <Row>\n            <Col sm={ 3 }>\n              <strong>Speaker 1</strong>\n            </Col>\n            <Col sm={ 9 }>\n              <p>Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.</p> <p>reminding one of the bulwarks of some condemned old craft.</p>\n            </Col>\n          </Row>\n          <Row>\n            <Col sm={ 3 }>\n              <strong>Speaker 2</strong>\n            </Col>\n            <Col sm={ 9 }>\n              <p>Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.</p> <p>reminding one of the bulwarks of some condemned old craft.</p>\n            </Col>\n          </Row>\n          <Row>\n            <Col sm={ 3 }>\n              <strong>Speaker 2</strong>\n            </Col>\n            <Col sm={ 9 }>\n              <p>Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.</p> <p>reminding one of the bulwarks of some condemned old craft.</p>\n            </Col>\n          </Row>\n          <Row>\n            <Col sm={ 3 }>\n              <strong>Speaker 2</strong>\n            </Col>\n            <Col sm={ 9 }>\n              <p>Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.</p> <p>reminding one of the bulwarks of some condemned old craft.</p>\n            </Col>\n          </Row>\n          <Row>\n            <Col sm={ 3 }>\n              <strong>Speaker 2</strong>\n            </Col>\n            <Col sm={ 9 }>\n              <p>Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.</p> <p>reminding one of the bulwarks of some condemned old craft.</p>\n            </Col>\n          </Row>\n          <Row>\n            <Col sm={ 3 }>\n              <strong>Speaker 2</strong>\n            </Col>\n            <Col sm={ 9 }>\n              <p>Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.</p> <p>reminding one of the bulwarks of some condemned old craft.</p>\n            </Col>\n          </Row>\n          <Row>\n            <Col sm={ 3 }>\n              <strong>Speaker 2</strong>\n            </Col>\n            <Col sm={ 9 }>\n              <p>Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.</p> <p>reminding one of the bulwarks of some condemned old craft.</p>\n            </Col>\n          </Row>\n        </article>\n      </>\n    );\n  }\n}\n\nexport default Transcript;\n","import React, { Component } from 'react';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Nav from 'react-bootstrap/Nav';\nimport Tab from 'react-bootstrap/Tab';\n\nimport Transcript from './Transcript.js';\n\nclass Transcripts extends Component {\n\n  // eslint-disable-next-line class-methods-use-this\n  render() {\n    return (\n      <>\n        <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"first\">\n          <Row>\n            <Col sm={ 3 }\n            // style={ { display:'none' } }\n            >\n              <h2>Transcripts</h2>\n              <hr/>\n              <Nav variant=\"pills\" className=\"flex-column\">\n                <Nav.Item>\n                  {/* TODO: CSS to truncat lenght of transcript name to\n                        to avoid overflow same as title name in @bbc/react-transcript-editor */}\n                  <Nav.Link eventKey=\"first\" title=\"Transcript 1\">Transcript 1</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"second\" title=\"Transcript 2\">Transcript 2</Nav.Link>\n                </Nav.Item>\n              </Nav>\n            </Col>\n            <Col sm={ 9 }\n              // onClick={ (e) => {console.log('onClick', e);} }\n            >\n              <Tab.Content>\n                <h2>Search</h2>\n                <hr/>\n                <Tab.Pane eventKey=\"first\" >\n                  <Transcript />\n                </Tab.Pane>\n                <Tab.Pane eventKey=\"second\">\n                  <Transcript />\n                </Tab.Pane>\n              </Tab.Content>\n            </Col>\n          </Row>\n        </Tab.Container>\n      </>\n    );\n  }\n}\n\nexport default Transcripts;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport VideoContext from 'videocontext';\n\nclass PaperCutsPlayerViewer extends React.PureComponent {\n  constructor(props) {\n    const {\n      width = 640,\n      height = 360,\n      playlist = [],\n    } = props;\n\n    super(props);\n\n    this.playlist = playlist;\n    this.canvasRef = React.createRef();\n    this.canvas = (<canvas\n      ref={ this.canvasRef }\n      width={ width }\n      height={ height }\n    />);\n  }\n\n  componentDidMount() {\n    this.videoContext = new VideoContext(\n      this.canvasRef.current,\n      (err) => console.error(\n        'There was problem instantiating the Video Context in Paper Cuts Player Viewer component',\n        err,\n      )\n    );\n    this.loadPlaylist();\n  }\n\n  loadPlaylist = () => {\n    this.playlist.forEach(({ type, offset, start, duration, src }) => {\n      const node = this.videoContext[type](src, offset);\n      node.startAt(start);\n      node.stopAt(start + duration);\n      node.connect(this.videoContext.destination);\n    });\n  }\n\n  render() {\n    return (this.canvas);\n  }\n}\n\nexport default PaperCutsPlayerViewer;\n","/* eslint-disable template-curly-spacing */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport styles from './VideoContextProgressBar.module.css';\n\nclass VideoContextProgressBar extends React.PureComponent {\n  constructor(props) {\n    const {\n      width = 640,\n    } = props;\n\n    super(props);\n\n    this.width = width;\n    this.state = { progress: 0 };\n  }\n\n  componentDidUpdate() {\n    this.videoContext = this.props.videoContext;\n    this.setState({ duration: this.videoContext.duration });\n    this.updateProgress();\n  }\n\n  updateProgress = () => requestAnimationFrame(() => {\n    const currentTime = this.videoContext && this.videoContext.currentTime;\n    const progress = (currentTime / this.state.duration) * 100;\n\n    if (this.state.progress !== progress) this.setState({ progress });\n\n    requestAnimationFrame(this.updateProgress);\n  });\n\n  handleClick = ({ nativeEvent: { offsetX } }) => {\n    this.videoContext.currentTime =\n      (offsetX / this.width) * this.state.duration;\n  }\n\n  getTracks = () =>\n    this.state.duration && this.videoContext._sourceNodes.reverse().map(\n      ({ startTime, stopTime, elementURL }, i) => {\n        const marginLeft = (startTime / this.state.duration) * this.width;\n        const width =\n          ((stopTime - startTime) / this.state.duration) * this.width;\n        const key = `${elementURL.split('/').slice(-1).pop()}.${i}`;\n\n        return (\n          <div key={ key } style={ { pointerEvents: 'none' } } >\n            <div className={ styles.papercutsPlayerProgressTrackBuffer } />\n            <div className={ styles.papercutsPlayerProgressTrack }\n              style={ { width, marginLeft } }\n            />\n            <div className={ styles.papercutsPlayerProgressTrackBuffer }/>\n          </div>\n        );\n      });\n\n  render() {\n    if (!this.tracks) this.tracks = this.getTracks();\n\n    return (\n      <>\n        <div\n        // className='papercuts-player-progress papercuts-player-progress-back'\n          className={ [ styles.papercutsPlayerProgress, styles.papercutsPlayerProgressBack ].join(' ') }\n          onClick={ this.handleClick }\n          style={ { width: this.width } }\n        >\n          <div\n          // className='papercuts-player-progess papercuts-player-progress-front'\n            className={ [ styles.papercutsPlayerProgress, styles.papercutsPlayerProgressFront ].join(' ') }\n            style={ { width: `${this.state.progress}%` } }\n          >\n            { this.tracks }\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default VideoContextProgressBar;\n","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlay, faPause, faStop } from '@fortawesome/free-solid-svg-icons';\n\nconst playIcon = <FontAwesomeIcon icon={ faPlay } />;\nconst pauseIcon = <FontAwesomeIcon icon={ faPause } />;\nconst stopIcon = <FontAwesomeIcon icon={ faStop } />;\n\nclass Controls extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isPlaying: false\n    };\n  }\n\n  handlePlay = () => {\n    this.props.videoContext.play();\n    this.setState({ isPlaying: true });\n  }\n\n  handlePause = () => {\n    this.props.videoContext.pause();\n    this.setState({ isPlaying: false });\n  }\n\n  handleStop = () => {\n    this.props.videoContext.pause();\n    this.props.videoContext.currentTime = 0;\n    this.setState({ isPlaying: false });\n  }\n\n  render() {\n\n    return (\n      <>\n        <Col\n          className={ 'col-auto' }>\n          <Button variant=\"outline-primary\"\n            onClick={ this.state.isPlaying ? this.handlePause : this.handlePlay }\n          >\n            { this.state.isPlaying ? pauseIcon : playIcon }\n          </Button>\n        </Col>\n        <Col\n          className={ 'col-auto' }>\n          <Button variant=\"outline-primary\"\n            onClick={ this.handleStop }\n          >\n            { stopIcon }\n          </Button>\n        </Col>\n      </>\n    );\n  }\n}\n\nexport default Controls;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport VideoContextViewer from './VideoContextViewer';\nimport VideoContextProgressBar from './VideoContextProgressBar';\nimport VideoContextControls from './VideoContextControls';\nimport Row from 'react-bootstrap/Row';\n\nclass PreviewCanvas extends React.PureComponent {\n\n  constructor(props) {\n    const { playlist = [], width = 640 } = props;\n\n    super(props);\n\n    this.width = width;\n    this.height = (9 / 16) * this.width;\n\n    this.playlist = playlist;\n    this.videoContextRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.videoContext =\n      this.videoContextRef\n      && this.videoContextRef.current\n      && this.videoContextRef.current.videoContext;\n\n    this.forceUpdate();\n  }\n\n  render() {\n    return (\n      <>\n        <Row\n          className={ 'justify-content-center' }\n          style={ { backgroundColor: 'black' } }\n        >\n          <VideoContextViewer\n            ref={ this.videoContextRef }\n            playlist={ this.playlist }\n            width={ this.width }\n            height={ this.height }\n          />\n        </Row>\n        <Row\n          className={ 'justify-content-center' }\n          style={ { backgroundColor: 'lightgrey' } }\n        >\n          <VideoContextProgressBar\n            width={ this.width }\n            videoContext={ this.videoContext && this.videoContext }\n          />\n        </Row>\n        <Row\n          className={ 'justify-content-center' }\n          style={ {\n            marginTop: '0.4em' } }\n        >\n          <VideoContextControls\n            videoContext={ this.videoContext && this.videoContext }\n          />\n        </Row>\n      </>\n    );\n  }\n};\n\nexport default PreviewCanvas;\n","import React, { Component } from 'react';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Tab from 'react-bootstrap/Tab';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMicrophoneAlt, faTag } from '@fortawesome/free-solid-svg-icons';\nimport PreviewCanvas from './PreviewCanvas/index.js';\n// demo content\nconst playlist = [\n  { type:'video', offset:0, start:0, duration:10, src:'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4' },\n  { type:'video', offset:0, start:5, duration:10, src:'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4' },\n  { type:'video', offset:10, start:10, duration:10, src:'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4' }\n];\n\nclass ProgramScript extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\n    };\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  render() {\n    return (\n      <Tab.Content>\n        <h2>Program Script</h2>\n        <hr/>\n        <h3>Paper Edit title</h3>\n\n        <PreviewCanvas playlist={ playlist } width={ '300' }/>\n\n        <article style={ { height: '60vh', overflow: 'scroll' } }>\n          <h4>Topic One</h4>\n          {/* https://getbootstrap.com/docs/4.0/utilities/colors/ */}\n          <p className={ 'text-secondary' }><i><FontAwesomeIcon icon={ faMicrophoneAlt } />  But what thinks Lazarus? Can he warm his blue hands by holding them up to the grand northern lights? Would not Lazarus rather be in Sumatra than here?\n          </i></p>\n          <p className={ 'text-secondary' }><i>\n          Would he not far rather lay him down lengthwise along the line of the equator; yea, ye gods! go down to the fiery pit itself, in order to keep out this frost?\n          </i></p>\n          <Row>\n            <Col sm={ 3 }>\n              <strong>Speaker 2</strong>\n            </Col>\n            <Col sm={ 9 }>\n              <p>Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.</p> <p>reminding one of the bulwarks of some condemned old craft.</p>\n            </Col>\n          </Row>\n          <Row>\n            <Col sm={ 3 }>\n              <strong>Speaker 1</strong>\n              {/* <br/> */}\n              {/* <u style={ { cursor: 'pointer' } }>00:01:40</u> */}\n              {/* <br/> */}\n              {/* <FontAwesomeIcon icon={ faTag } />TagExample2 */}\n            </Col>\n            <Col sm={ 9 }>\n              <p>Gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.</p>\n              <p>One of the bulwarks of some condemned old craft.</p>\n            </Col>\n          </Row>\n          <dl className=\"row\">\n            <dt className=\"col-sm-3\">Speaker 1</dt>\n            <dd className=\"col-sm-9\">Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots, reminding one of the bulwarks of some condemned old craft.</dd>\n\n            <dt className=\"col-sm-3\">Speaker 2</dt>\n            <dd className=\"col-sm-9\">\n              <p>On one side hung a very large oil painting so thoroughly besmoked, and every way defaced, that in the unequal crosslights by which you viewed it, it was only by diligent study and a series of systematic visits to it,</p>\n              <p>and careful inquiry of the neighbors, that you could any way arrive at an understanding of its purpose.</p>\n            </dd>\n\n            <dt className=\"col-sm-3\">Speaker 1</dt>\n            <dd className=\"col-sm-9\">Such unaccountable masses of shades and shadows, that at first you almost thought some ambitious young artist, in the time of the New England hags, had endeavored to delineate chaos bewitched.</dd>\n\n            <dt className=\"col-sm-3 text-truncate\">Speaker 3</dt>\n            <dd className=\"col-sm-9\">But by dint of much and earnest contemplation, and oft repeated ponderings, and especially by throwing open the little window towards the back of the entry, you at last come to the conclusion that such an idea, however wild, might not be altogether unwarranted.</dd>\n          </dl>\n          <h4>Topic 2</h4>\n          <p><i className={ 'text-secondary' }><FontAwesomeIcon icon={ faMicrophoneAlt } />  But what thinks Lazarus? Can he warm his blue hands by holding them up to the grand northern lights? Would not Lazarus rather be in Sumatra than here?\n          </i></p>\n          <p><i className={ 'text-secondary' }>\n          Would he not far rather lay him down lengthwise along the line of the equator; yea, ye gods! go down to the fiery pit itself, in order to keep out this frost?\n          </i></p>\n          <Row>\n            <Col sm={ 3 }>\n              <strong>Speaker 2</strong>\n              <br/>\n              <u style={ { cursor: 'pointer' } }>00:01:20</u>\n              <br/>\n              <FontAwesomeIcon icon={ faTag } />TagExample\n            </Col>\n            <Col sm={ 9 }>\n              <p>Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.</p> <p>reminding one of the bulwarks of some condemned old craft.</p>\n            </Col>\n          </Row>\n\n          <Row>\n            <Col sm={ 3 }>\n              <strong>Speaker 1</strong>\n              <br/>\n              <u style={ { cursor: 'pointer' } }>00:01:40</u>\n              <br/>\n              <FontAwesomeIcon icon={ faTag } />TagExample\n            </Col>\n            <Col sm={ 9 }>\n              <p>Would that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.</p> <p>lengthwise one of the bulwarks of some condemned old craft.</p>\n            </Col>\n          </Row>\n\n          <p><i className={ 'text-secondary' }><FontAwesomeIcon icon={ faMicrophoneAlt } />   Would he not far rather lay him down lengthwise along the line of the equator; yea, ye gods! go down to the fiery pit itself, in order to keep out this frost?\n          </i></p>\n\n          <dl className=\"row\">\n            <dt className=\"col-sm-3\">Speaker 1</dt>\n            <dd className=\"col-sm-9\">Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots, reminding one of the bulwarks of some condemned old craft.</dd>\n\n            <dt className=\"col-sm-3\">Speaker 2</dt>\n            <dd className=\"col-sm-9\">\n              <p>On one side hung a very large oil painting so thoroughly besmoked, and every way defaced, that in the unequal crosslights by which you viewed it, it was only by diligent study and a series of systematic visits to it,</p>\n              <p>and careful inquiry of the neighbors, that you could any way arrive at an understanding of its purpose.</p>\n            </dd>\n\n            <dt className=\"col-sm-3\">Speaker 1</dt>\n            <dd className=\"col-sm-9\">Such unaccountable masses of shades and shadows, that at first you almost thought some ambitious young artist, in the time of the New England hags, had endeavored to delineate chaos bewitched.</dd>\n\n            <dt className=\"col-sm-3 text-truncate\">Speaker 3</dt>\n            <dd className=\"col-sm-9\">But by dint of much and earnest contemplation, and oft repeated ponderings, and especially by throwing open the little window towards the back of the entry, you at last come to the conclusion that such an idea, however wild, might not be altogether unwarranted.</dd>\n          </dl>\n        </article>\n      </Tab.Content>\n    );\n  }\n}\n\nexport default ProgramScript;\n","import React, { Component } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Button from 'react-bootstrap/Button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleUp, faAngleDown } from '@fortawesome/free-solid-svg-icons';\nimport CustomNavbar from '../../lib/CustomNavbar/index.js';\nimport CustomBreadcrumb from '../../lib/CustomBreadcrumb/index.js';\nimport CustomFooter from '../../lib/CustomFooter/index.js';\nimport navbarLinks from '../../lib/custom-navbar-links';\n\nimport Transcripts from './Transcripts/index.js';\nimport ProgramScript from './ProgramScript/index.js';\n\nclass PaperEdit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      transcriptJson: null,\n      title: null,\n      projectId:  this.props.match.params.projectId,\n      projectTitle: '',\n      isTranscriptsShown: true,\n      isProgramScriptShown: true\n    };\n  }\n\n  componentDidMount = () => {\n    // TODO get id from props match\n    fetch('http://localhost:5000/api/projects/1/paperedits/1', { mode: 'cors' })\n      .then(res => res.json())\n      .then((json) => {\n        console.log(json);\n        this.setState({ paperEditJson: json.paperEdit, title: json.title, projectTitle: json.projectTitle });\n      });\n    console.log(this.props.match.params);\n  }\n\n  toggleTranscripts =() => {\n    console.log('toggleTranscripts');\n    if (this.state.isProgramScriptShown ) {\n      this.setState((state) => {\n        return {\n          isTranscriptsShown: !state.isTranscriptsShown\n        };\n      });\n    }\n  }\n\n  toggleProgramScript = () => {\n    console.log('toggleProgramScript');\n    if (this.state.isTranscriptsShown ) {\n      this.setState((state) => {\n        return {\n          isProgramScriptShown: !state.isProgramScriptShown\n        };\n      });\n    }\n  }\n\n  // { span:5, offset: 2 }\n\n  // { span:5, offset: 0 }\n\n  render() {\n    return (\n      <Container style={ { marginBottom: '5em' } } fluid>\n        <CustomNavbar\n          links={ navbarLinks(this.state.projectId) }\n        />\n        <br/>\n        <CustomBreadcrumb\n          items={ [ {\n            name: 'Projects',\n            link: '/projects'\n          },\n          {\n            // TODO: need to get project name?\n            // TODO: is this needed?\n            name: `Project: ${ this.state.projectTitle }`,\n            link: `/projects/${ this.state.projectId }`\n          },\n          {\n            name: 'PaperEdits',\n            link:`/projects/${ this.state.projectId }/paperedits`\n          },\n          {\n            name: `${ this.state.title }`\n          }\n          ] }\n        />\n\n        <Container fluid={ true }>\n          <div className=\"d-flex flex-column\">\n            <ButtonGroup size=\"sm\" className=\"mt-12\" block>\n              <Button\n                onClick={ this.toggleTranscripts }\n                variant={ this.state.isTranscriptsShown ? 'primary' : 'outline-primary' }\n              >\n                Transcripts <FontAwesomeIcon icon={ this.state.isTranscriptsShown ? faAngleDown : faAngleUp } />\n              </Button>\n              <Button\n                onClick={ this.toggleProgramScript }\n                variant={ this.state.isProgramScriptShown ? 'primary' : 'outline-primary' }\n              >\n                 Program Script  <FontAwesomeIcon icon={ this.state.isProgramScriptShown ? faAngleDown : faAngleUp } />\n              </Button>\n            </ButtonGroup>\n\n            {/* <ToggleButtonGroup\n              type=\"checkbox\"\n              value={ this.state.value }\n              onChange={ this.handleChange }\n              defaultValue={ [ 1, 2 ] }\n            >\n              <ToggleButton value={ 1 }>Transcripts  <FontAwesomeIcon icon={ this.state.isTranscriptsShown ? faAngleDown : faAngleUp } /> </ToggleButton>\n              <ToggleButton value={ 2 }>Program Script <FontAwesomeIcon icon={ this.state.isProgramScriptShown ? faAngleDown : faAngleUp } /></ToggleButton>\n            </ToggleButtonGroup> */}\n\n          </div>\n          <Row>\n            <Col\n              xs={ { span: 12, offset:0 } }\n              sm={ {\n                span:7,\n                offset: this.state.isProgramScriptShown ? 0 : 2\n              } }\n              md={ {\n                span: this.state.isProgramScriptShown ? 7 : 12,\n                offset: this.state.isProgramScriptShown ? 0 : 0\n              } }\n              lg={ {\n                span: this.state.isProgramScriptShown ? 7 : 8,\n                offset: this.state.isProgramScriptShown ? 0 : 1\n              } }\n              xl={ {\n                span: this.state.isProgramScriptShown ? 7 : 9,\n                offset: this.state.isProgramScriptShown ? 0 : 1\n              } }\n              style={ { display: this.state.isTranscriptsShown ? 'block' : 'none' } }\n            >\n              <Transcripts />\n            </Col>\n            <Col\n              xs={ { span: 12, offset:0 } }\n              sm={ {\n                span: this.state.isTranscriptsShown ? 5 : 7,\n                offset: this.state.isTranscriptsShown ? 0 : 3\n              } }\n              md={ {\n                span: this.state.isTranscriptsShown ? 5 : 12,\n                offset: this.state.isTranscriptsShown ? 0 : 0\n              } }\n              lg={ {\n                span: this.state.isTranscriptsShown ? 5 : 7,\n                offset: this.state.isTranscriptsShown ? 0 : 1\n              } }\n              xl={ {\n                span: this.state.isTranscriptsShown ? 5 : 7,\n                offset: this.state.isTranscriptsShown ? 0 : 2\n              } }\n              style={ { display: this.state.isProgramScriptShown ? 'block' : 'none' } }\n            >\n              <ProgramScript/>\n            </Col>\n          </Row>\n\n        </Container>\n\n        <CustomFooter />\n      </Container>\n    );\n  }\n}\n\nexport default PaperEdit;\n","import React, { Component } from \"react\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n\nimport CustomNavbar from \"../lib/CustomNavbar/index.js\";\nimport CustomBreadcrumb from \"../lib/CustomBreadcrumb/index.js\";\nimport CustomFooter from \"../lib/CustomFooter/index.js\";\n\nclass PaperEditForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      transcriptJson: null,\n      projectId: this.props.match.params.projectId\n    };\n  }\n\n  //   componentDidMount = () =>{\n  //     fetch('http://localhost:5000/api/1/transcripts/1', { mode: 'cors' })\n  //     .then(res => res.json())\n  //     .then((json)=>{\n  //       this.setState({transcriptJson: json})\n  //     })\n  //   }\n\n  render() {\n    return (\n      <Container style={{ marginBottom: \"5em\" }}>\n        {/* TODO: import navbar */}\n        <CustomNavbar\n          links={[\n            {\n              name: \"Projects\",\n              link: \"/projects\"\n            },\n            {\n              name: \"New Projects\",\n              link: \"/projects/new\"\n            },\n            {\n              name: \"Transcripts\",\n              link: `/projects/${this.state.projectId}/transcripts`\n            },\n            {\n              name: \"New Transcripts\",\n              link: `/projects/${this.state.projectId}/transcripts/new`\n            },\n            {\n              name: \"Paper Edits\",\n              link: `/projects/${this.state.projectId}/paperedits`\n            },\n            {\n              name: \"New Paper Edit\",\n              link: `/projects/${this.state.projectId}/paperedits/new`\n            },\n            {\n              name: \"Users\",\n              link: `/projects/${this.state.projectId}/users`\n            }\n          ]}\n        />\n\n        <br />\n        <CustomBreadcrumb\n          items={[\n            {\n              name: \"Projects\",\n              link: \"/projects\"\n            },\n            {\n              // TODO: need to get project name\n              name: \"Project:\",\n              link: `/projects/${this.state.projectId}`\n            },\n            {\n              name: \"Paper Edits\",\n              link: `/projects/${this.state.projectId}/paperEdits`\n            },\n            {\n              name: \"New\"\n            }\n          ]}\n        />\n\n        <Form>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Title </Form.Label>\n            <Form.Control type=\"text\" placeholder=\"Enter a Paper Edit title\" />\n            <Form.Text className=\"text-muted\">\n              Chose a title for your Paper Edit\n            </Form.Text>\n          </Form.Group>\n\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Description </Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Enter a Paper Edit description\"\n            />\n            <Form.Text className=\"text-muted\">\n              Chose an optional description for your Paper Edit\n            </Form.Text>\n          </Form.Group>\n\n          {/* on change save - send to server as post + link to projects list? */}\n          <Button onChange={this.handleSave} variant=\"primary\" type=\"submit\">\n            Save\n          </Button>\n        </Form>\n        <CustomFooter />\n      </Container>\n    );\n  }\n}\n\nexport default PaperEditForm;\n","import React, { Component } from 'react';\nimport { Switch, Route, HashRouter } from 'react-router-dom';\nimport Home from './Components/Home';\n\nimport Projects from './Components/Projects/index.js';\nimport Project from './Components/Projects/Project.js';\nimport newProject from './Components/Projects/ProjectForm.js';\nimport Users from './Components/Users/index.js';\n\nimport Transcripts from './Components/Transcripts/index.js';\nimport Transcript from './Components/Transcripts/Transcript.js';\nimport TranscriptForm from './Components/Transcripts/TranscriptForm.js';\nimport TranscriptAnnotate from './Components/Transcripts/TranscriptAnnotate/index.js';\nimport TranscriptCorrect from './Components/Transcripts/TranscriptCorrect.js';\n\nimport PaperEdits from './Components/PaperEdits/index.js';\nimport PaperEdit from './Components/PaperEdits/PaperEdit';\nimport PaperEditForm from './Components/PaperEdits/NewPaperEdit.js';\n\n// import UserManual from './Components/UserManual';\n\nimport './App.css';\n// import Transcript from './Components/PaperEdits/PaperEdit.js';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      transcriptJson: null\n    };\n  }\n  // eslint-disable-next-line class-methods-use-this\n  render() {\n    return (\n      <HashRouter>\n        <Switch>\n          <Route exact path=\"/\" component={ Home } />\n          <Route exact path=\"/projects/new\" component={ newProject } />\n          <Route exact path=\"/projects\" component={ Projects } />\n          <Route exact path=\"/projects/:projectId\" component={ Project } />\n          <Route\n            exact\n            path=\"/projects/:projectId/edit\"\n            component={ newProject }\n          />\n          <Route exact path=\"/projects/:projectId/users\" component={ Users } />\n          <Route\n            exact\n            path=\"/projects/:projectId/transcripts/new\"\n            component={ TranscriptForm }\n          />\n          <Route\n            exact\n            path=\"/projects/:projectId/transcripts\"\n            component={ Transcripts }\n          />\n          <Route\n            exact\n            path=\"/projects/:projectId/transcripts/:transcriptId\"\n            component={ Transcript }\n          />\n          <Route\n            exact\n            path=\"/projects/:projectId/transcripts/:transcriptId/correct\"\n            component={ TranscriptCorrect }\n          />\n          <Route\n            exact\n            path=\"/projects/:projectId/transcripts/:transcriptId/annotate\"\n            component={ TranscriptAnnotate }\n          />\n          <Route\n            exact\n            path=\"/projects/:projectId/paperedits/new\"\n            component={ PaperEditForm }\n          />\n          <Route\n            exact\n            path=\"/projects/:projectId/paperedits\"\n            component={ PaperEdits }\n          />\n          <Route\n            exact\n            path=\"/projects/:projectId/paperedits/:papereditId\"\n            component={ PaperEdit }\n          />\n          {/* <Route exact path=\"/user-manual\" component={ UserManual } /> */}\n          {/* Guide route --> user manual  */}\n          {/* Help route  */}\n        </Switch>\n      </HashRouter>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"papercutsPlayerProgress\":\"VideoContextProgressBar_papercutsPlayerProgress__3-Lb_\",\"papercutsPlayerProgressBack\":\"VideoContextProgressBar_papercutsPlayerProgressBack__26U7A\",\"papercutsPlayerProgressFront\":\"VideoContextProgressBar_papercutsPlayerProgressFront__jqCdc\",\"papercutsPlayerProgressTrack\":\"VideoContextProgressBar_papercutsPlayerProgressTrack__355sr\",\"papercutsPlayerProgressTrackBuffer\":\"VideoContextProgressBar_papercutsPlayerProgressTrackBuffer__2t_4D\"};"],"sourceRoot":""}