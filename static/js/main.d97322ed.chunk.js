(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){e.exports={speaker:"generate-paragraphs_speaker__1EOKE",unselectable:"generate-paragraphs_unselectable__1Bqf0",highlightedWord:"generate-paragraphs_highlightedWord__1qd46"}},211:function(e,t,a){e.exports=a.p+"static/media/labsLogo.658ac9e3.png"},225:function(e,t,a){e.exports=a(466)},230:function(e,t,a){},231:function(e,t,a){},273:function(e,t,a){},461:function(e,t,a){},465:function(e,t,a){},466:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(29),o=a.n(s),l=(a(230),a(7)),c=a(8),i=a(10),d=a(9),p=a(11),u=a(138),m=a(208),h=a(92),f=(a(231),a(232),a(25)),E=a.n(f),g=a(32),b=a(212),v=a.n(b),y=a(15),j=a.n(y),k=a(213),w=a.n(k),S=a(37),C=a.n(S),x=a(72),O=a.n(x),T=a(96),P=a.n(T),I=a(95),L=a.n(I),N=a(5),D=a(4),F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={showNavOptions:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e;void 0!==this.props.links&&0!==this.props.links.length&&(e=this.props.links.map(function(e,t){return r.a.createElement(g.LinkContainer,{key:t+"_lid",to:e.link},r.a.createElement(C.a.Link,null,e.name))}));var t=r.a.createElement(L.a,{id:"popover-basic"},e);return r.a.createElement(O.a,{collapseOnSelect:!0,expand:"md",bg:"light",variant:"light",fixed:"top"},r.a.createElement(N.a,{icon:D.i}),"\xa0\xa0",r.a.createElement(g.LinkContainer,{to:"/"},r.a.createElement(O.a.Brand,null,"Digital Paper Edit")),r.a.createElement(P.a,{trigger:"click",rootClose:!0,placement:"bottom",overlay:t},r.a.createElement(N.a,{icon:D.e})))}}]),t}(n.Component),U=a(12),B=a.n(U),A=a(2),M=a.n(A),R=a(211),z=a.n(R);var _=function(){var e=r.a.createElement(O.a,{collapseOnSelect:!0,expand:"md",bg:"light",variant:"light",fixed:"bottom",className:"justify-content-center"},r.a.createElement("small",null,r.a.createElement("img",{src:z.a,style:{height:"2em"},alt:"Labs Logo"})," This is a prototype from"," ",r.a.createElement("a",{href:"http://bbcnewslabs.co.uk/",target:"_blank",rel:"noopener noreferrer"},"BBC News Labs")));return r.a.createElement(B.a,null,r.a.createElement(M.a,{className:"d-none d-sm-block"},e),r.a.createElement(M.a,{className:"d-lg-block d-md-block"},e))},q=function(){return r.a.createElement(E.a,null,r.a.createElement(F,{links:[{name:"Projects",link:"/projects"},{name:"New Projects",link:"/projects/new"}]}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,null,r.a.createElement("h1",null,"Digital Paper Edit"),r.a.createElement("p",null,"Some explanation text on how to make the most of this app"),r.a.createElement("p",null,r.a.createElement(w.a,null,r.a.createElement(g.LinkContainer,{to:"/projects"},r.a.createElement(j.a,{variant:"link"},"Projects")),r.a.createElement(g.LinkContainer,{to:"/projects/new"},r.a.createElement(j.a,{variant:"link"},"New Projects"))))),r.a.createElement(_,null))},W=a(20),V=a.n(W),G=a(30),J=a(49),K=a(40),H=a.n(K),Y=a(54),X=a.n(Y),$=a(100),Q=a.n($),Z=a(62),ee=a.n(Z),te=a(99),ae=a.n(te),ne=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.items.map(function(e,t){return e.link?r.a.createElement(g.LinkContainer,{key:t,to:e.link},r.a.createElement(ae.a.Item,null,e.name)):r.a.createElement(ae.a.Item,{key:t,active:!0},e.name)});return r.a.createElement("div",{className:"d-none d-sm-block"},r.a.createElement(ae.a,null,e))}}]),t}(n.Component),re=a(21),se=a.n(re),oe=a(130),le=a.n(oe),ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleDelete=function(){!0===confirm("Click OK if you wish to delete, cancel if you don't")?a.props.handleDelete&&a.props.handleDelete(a.props.id):alert("All is good, it was not deleted")},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=r.a.createElement("a",{href:"#".concat(this.props.showLink())}," ",this.props.title);return this.props.status&&"info"===this.props.status&&(t=this.props.title),this.props.status&&"danger"===this.props.status&&(t=this.props.title,e="danger"),r.a.createElement(se.a,{border:e,style:{width:"100%",marginBottom:"1em"}},r.a.createElement(se.a.Body,null,r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:10,sm:11,md:11,ld:11,xl:11},r.a.createElement(se.a.Title,null,this.props.icon?this.props.icon:""," ",t)),r.a.createElement(M.a,{xs:2,sm:1,md:1,ld:1,xl:1},r.a.createElement(se.a.Link,null,r.a.createElement(j.a,{onClick:this.handleDelete,variant:"outline-secondary",size:"sm"},r.a.createElement(N.a,{icon:D.C}))))),r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:10,sm:11,md:11,ld:11,xl:11},r.a.createElement(se.a.Subtitle,{className:"mb-2 text-muted"},this.props.subtitle)),r.a.createElement(M.a,{xs:1,sm:1,md:1,ld:1,xl:1},this.props.status&&"info"===this.props.status?r.a.createElement(j.a,{variant:"info",size:"sm",disabled:!0},r.a.createElement(le.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})):"",this.props.status&&"danger"===this.props.status?r.a.createElement(j.a,{variant:"danger",size:"sm",disabled:!0},r.a.createElement(N.a,{icon:D.f})):"",this.props.status&&"success"===this.props.status?r.a.createElement(j.a,{variant:"success",size:"sm",disabled:!0},r.a.createElement(N.a,{icon:D.c})):"")),r.a.createElement(se.a.Text,null,r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:10,sm:11,md:11,ld:11,xl:11},this.props.description)))))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleDismiss=function(){return a.setState({show:!1})},a.state={show:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.show?r.a.createElement(ee.a,{variant:this.props.variant,onClose:this.handleDismiss,dismissible:!0},this.props.heading?r.a.createElement(ee.a.Heading,null,this.props.heading):"",this.props.message):r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null))}}]),t}(r.a.Component),de=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},pe=function(e,t){return e.toLowerCase().trim().includes(t.toLowerCase().trim())},ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearch=function(e){var t=e.target.value,n=a.props.itemsList.filter(function(e){return pe(e.title,t)||pe(e.description,t)?(e.display=!0,e):(e.display=!1,e)});a.setState({itemsList:n})},a.state={itemsList:a.props.itemsList,showSearchInput:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t,a,n=this;return null!==this.props.itemsList&&(e=this.props.itemsList.map(function(e){var a;return"error"===e.status&&(a="danger"),"in-progress"===e.status&&(a="info",t=r.a.createElement(Q.a,{variant:"info"},"In progress")),"done"===e.status&&(t=r.a.createElement(Q.a,{variant:"success"},"Success"),a="success"),e.errorMessage&&(t=r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{variant:"danger"},r.a.createElement(N.a,{icon:D.f})," ",e.errorMessage),r.a.createElement(Q.a,{variant:"danger"},"Error"))),e.display?r.a.createElement(ce,{icon:n.props.icon,key:"key__"+e.id,id:e.id,projectId:e.id,title:e.title,subtitle:e.description,handleDelete:function(){n.props.handleDelete(e.id)},showLink:function(){return n.props.getShowLinkForCard(e.id)},status:a,description:t,disabled:"done"===e.status}):null}).filter(function(e){return null!==e})),null!==this.props.itemsList&&0!==this.props.itemsList.length?a=r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{className:"mb-3"},r.a.createElement(H.a.Prepend,{onClick:function(){n.setState(function(e){return{showSearchInput:!e.showSearchInput}})}},r.a.createElement(H.a.Text,{id:"basic-addon2"},r.a.createElement(N.a,{icon:D.t}))),r.a.createElement(X.a,{style:{display:this.state.showSearchInput?"":"none"},onChange:this.handleSearch,placeholder:"Search","aria-label":"search","aria-describedby":"search"})),r.a.createElement("section",{style:{height:"75vh",overflow:"scroll"}},e)):null===this.props.itemsList?a=r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{variant:"danger",heading:"Error",message:"Unable to reach the server"})):0===this.props.itemsList.length&&(a=r.a.createElement(r.a.Fragment,null," ",r.a.createElement(ie,{variant:"info",heading:"No ".concat(de(this.props.modelName)),message:r.a.createElement("p",null,"You currently don't have any"," ",this.props.modelName.toLowerCase(),","," ",r.a.createElement(ee.a.Link,{href:"#/".concat(this.props.modelName.toLowerCase(),"/new")},"create a new ",this.props.modelName.toLowerCase()),".")}))),r.a.createElement(E.a,{style:{marginBottom:"5em"}},r.a.createElement(F,{links:this.props.navbarLinks}),r.a.createElement("br",null),r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:9,md:9,ld:9,xl:9},r.a.createElement(ne,{items:this.props.breadCrumbItems})),r.a.createElement(M.a,{xs:12,sm:3,md:3,ld:3,xl:3},r.a.createElement(g.LinkContainer,{to:this.props.linkToNew()},r.a.createElement(j.a,{variant:"outline-secondary",size:"lg",block:!0},"New"," ")),r.a.createElement("br",null))),a,r.a.createElement(_,null))}}]),t}(n.Component),me=a(214),he=a.n(me),fe=["GET","POST","PUT","DELETE"],Ee=function(e){if(!fe.includes(e))throw new Error("Wrong method passed ".concat(e," - should be one of ").concat(fe))},ge=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"PUT"===e?t={method:e,mode:"cors",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}:"POST"===e?(t={method:e},"json"===n?(t.headers={"Content-Type":"application/json"},t.body=JSON.stringify(a)):t.body=a):t={method:e,mode:"cors"},t};function be(){return(be=Object(G.a)(V.a.mark(function e(t){var a,n,r,s,o=arguments;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"GET",n=o.length>2&&void 0!==o[2]?o[2]:{},r=o.length>3?o[3]:void 0,Ee(a),s=ge(a,n,r),console.log(t,JSON.stringify(s,null,2)),e.next=8,fetch(t,s);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ve=function(e){return be.apply(this,arguments)},ye=new(function(){function e(){var t=this;Object(l.a)(this,e),this.projectsUrl="".concat("http://localhost:5000","/api/projects"),this.projectsIdUrl=function(e){return"".concat(t.projectsUrl,"/").concat(e)},this.transcriptsUrl=function(e){return"".concat(t.projectsIdUrl(e),"/transcripts")},this.transcriptsIdUrl=function(e,a,n){var r=n?"?".concat(he.a.stringify(n)):"";return"".concat(t.transcriptsUrl(e),"/").concat(a).concat(r).trim()},this.annotationsUrl=function(e,a){return"".concat(t.transcriptsIdUrl(e,a),"/annotations")}}return Object(c.a)(e,[{key:"getAllProjects",value:function(){var e=Object(G.a)(V.a.mark(function e(){var t,a;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.projectsUrl),e.next=3,ve(this.projectsUrl);case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a.projects);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getProject",value:function(){var e=Object(G.a)(V.a.mark(function e(t){var a,n;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this.projectsIdUrl(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n.project);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createProject",value:function(){var e=Object(G.a)(V.a.mark(function e(t){var a;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this.projectsUrl,"POST",t,"json");case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateProject",value:function(){var e=Object(G.a)(V.a.mark(function e(t,a){var n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this.projectsIdUrl(t),"PUT",a);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteProject",value:function(){var e=Object(G.a)(V.a.mark(function e(t){var a,n;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this.projectsIdUrl(t),"DELETE");case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getTranscripts",value:function(){var e=Object(G.a)(V.a.mark(function e(t){var a,n;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this.transcriptsUrl(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createTranscript",value:function(){var e=Object(G.a)(V.a.mark(function e(t,a){var n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this.transcriptsUrl(t),"POST",a);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,console.log("createTranscript json",r),e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTranscript",value:function(){var e=Object(G.a)(V.a.mark(function e(t,a,n){var r,s;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this.transcriptsIdUrl(t,a,n));case 2:return r=e.sent,e.next=5,r.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"updateTranscript",value:function(){var e=Object(G.a)(V.a.mark(function e(t,a,n,r){var s,o;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this.transcriptsIdUrl(t,a,n),"PUT",r);case 2:return s=e.sent,e.next=5,s.json();case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"deleteTranscript",value:function(){var e=Object(G.a)(V.a.mark(function e(t,a){var n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this.transcriptsIdUrl(t,a),"DELETE");case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAnnotations",value:function(){var e=Object(G.a)(V.a.mark(function e(t,a){var n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.annotationsUrl(t,a));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}]),e}());Object.freeze(ye);var je=ye,ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).getShowLinkForCard=function(e){return"/projects/".concat(e)},a.linkToNew=function(){return"/projects/new"},a.state={projects:null},a.handleDelete=a.handleDelete.bind(Object(J.a)(Object(J.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(G.a)(V.a.mark(function e(){var t,a;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.getAllProjects();case 2:(t=e.sent)&&(a=t.map(function(e){return e.display=!0,e}),this.setState({projects:a}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleDelete",value:function(){var e=Object(G.a)(V.a.mark(function e(t){var a,n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleDelete id",t),e.next=3,je.deleteProject(t);case 3:a=e.sent,n=function(e){return e.id!==t},"ok"===a.status&&(r=this.state.projects.filter(function(e){return n(e)}),this.setState({projects:r}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(ue,{icon:r.a.createElement(N.a,{icon:D.j}),itemsList:this.state.projects,handleDelete:this.handleDelete,modelName:"projects",getShowLinkForCard:this.getShowLinkForCard,linkToNew:this.linkToNew,navbarLinks:[{name:r.a.createElement("span",null," ",r.a.createElement(N.a,{icon:D.j})," Projects"),link:"/projects"},{name:r.a.createElement("span",null," ",r.a.createElement(N.a,{icon:D.l})," NewProject"),link:"/projects/new"}],breadCrumbItems:[{name:"Projects"}]})}}]),t}(n.Component),we=a(3),Se=a.n(we),Ce=function(e){return[{name:r.a.createElement("span",null," ",r.a.createElement(N.a,{icon:D.k})," Projects"),link:"/projects"},{name:r.a.createElement("span",null," ",r.a.createElement(N.a,{icon:D.l})," NewProject"),link:"/projects/new"},{name:r.a.createElement("span",null," ",r.a.createElement(N.a,{icon:D.h})," Transcripts"),link:"/projects/".concat(e,"/transcripts")},{name:r.a.createElement("span",null," ",r.a.createElement(N.a,{icon:D.g})," New Transcript"),link:"/projects/".concat(e,"/transcripts/new")},{name:r.a.createElement("span",null," ",r.a.createElement(N.a,{icon:D.A})," Paper Edits"),link:"/projects/".concat(e,"/paperedits")},{name:r.a.createElement("span",null," ",r.a.createElement(N.a,{icon:D.d})," New Paper Edit"),link:"/projects/".concat(e,"/paperedits/new")},{name:r.a.createElement("span",null," ",r.a.createElement(N.a,{icon:D.I})," Users"),link:"/projects/".concat(e,"/users")}]},xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){je.getProject(a.state.projectId).then(function(e){a.setState({title:e.title,description:e.description})}).catch(function(e){console.log("error:::: ",e),a.setState({savedNotification:r.a.createElement(ie,{dismissable:!0,variant:"danger",heading:"Error could not contact the server",message:r.a.createElement("p",null,"There was an error trying to get this transcript from the server")})})})},a.handleTitleChange=function(e){a.setState({title:e.target.value})},a.handleDescriptionChange=function(e){a.setState({description:e.target.value})},a.state={projectId:a.props.match.params.projectId,title:"",description:"",formDisabled:!0,validated:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){var t=this,a=e.currentTarget;if(a.checkValidity()){e.preventDefault(),e.stopPropagation(),console.log("form.checkValidity()",a.checkValidity());var n={title:this.state.title,description:this.state.description,projectId:this.state.projectId};console.log(n),je.updateProject(this.state.projectId,n).then(function(e){"ok"===e.status&&(console.log("updated"),t.setState({formDisabled:!0,savedNotification:r.a.createElement(ie,{dismissable:!0,variant:"success",heading:"Project saved",message:r.a.createElement("p",null,"Project: ",r.a.createElement("b",null,t.state.title)," has been saved")})}))}).catch(function(){t.setState({savedNotification:r.a.createElement(ie,{dismissable:!0,variant:"danger",heading:"Error saving project",message:r.a.createElement("p",null,"There was an error trying to save project:"," ",r.a.createElement("b",null,t.state.title))})})})}this.setState({validated:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{style:{marginBottom:"5em"}},r.a.createElement(F,{links:Ce(this.state.projectId)}),r.a.createElement("br",null),r.a.createElement(ne,{items:[{name:"Projects",link:"/projects"},{name:"".concat(this.state.title?this.state.title:"")}]}),r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:12,sm:4,md:4,lg:4,xl:4},r.a.createElement(g.LinkContainer,{to:"/projects/".concat(this.state.projectId,"/transcripts")},r.a.createElement(j.a,{variant:"outline-primary",size:"lg",block:!0},r.a.createElement(N.a,{icon:D.h})," Transcripts")),r.a.createElement("br",null)),r.a.createElement(M.a,{xs:12,sm:4,md:4,lg:4,xl:4},r.a.createElement(g.LinkContainer,{to:"/projects/".concat(this.state.projectId,"/paperedits")},r.a.createElement(j.a,{variant:"outline-primary",size:"lg",block:!0},r.a.createElement(N.a,{icon:D.A})," Paper-Edits")),r.a.createElement("br",null)),r.a.createElement(M.a,{xs:12,sm:4,md:4,lg:4,xl:4},r.a.createElement(g.LinkContainer,{to:"/projects/".concat(this.state.projectId,"/users")},r.a.createElement(j.a,{variant:"outline-primary",size:"lg",block:!0},r.a.createElement(N.a,{icon:D.I})," Users")))),r.a.createElement("hr",null),r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:12,sm:12,md:12,ld:12,xl:12},r.a.createElement(j.a,{onClick:function(){e.setState(function(e){return{formDisabled:!e.formDisabled,savedNotification:null}})},variant:this.state.formDisabled?"outline-secondary":"secondary",type:"submit",block:!0,size:"sm"},"Edit Project ",r.a.createElement(N.a,{icon:D.q})))),r.a.createElement("br",null),this.state.savedNotification,r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Se.a,{noValidate:!0,validated:this.state.validated,onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(Se.a.Group,{as:B.a,controlId:"formHorizontalTitle"},r.a.createElement(Se.a.Label,{column:!0,sm:2},"Title"),r.a.createElement(M.a,{sm:10},r.a.createElement(Se.a.Control,{required:!0,disabled:this.state.formDisabled,type:"text",onChange:this.handleTitleChange,value:this.state.title})),r.a.createElement(Se.a.Control.Feedback,null,"Looks good!"),r.a.createElement(Se.a.Control.Feedback,{type:"invalid"},"Please chose a title for your project")),r.a.createElement(Se.a.Group,{as:B.a,controlId:"formHorizontalDescription"},r.a.createElement(Se.a.Label,{column:!0,sm:2},"Description"),r.a.createElement(M.a,{sm:10},r.a.createElement(Se.a.Control,{disabled:this.state.formDisabled,type:"text",as:"textarea",rows:"3",onChange:this.handleDescriptionChange,value:this.state.description})),r.a.createElement(Se.a.Control.Feedback,null,"Looks good!"),r.a.createElement(Se.a.Control.Feedback,{type:"invalid"},"Please chose a description for your project")),r.a.createElement(j.a,{disabled:this.state.formDisabled,variant:this.state.formDisabled?"outline-primary":"primary",type:"submit"},"Save ",r.a.createElement(N.a,{icon:D.s}))))),r.a.createElement(_,null))}}]),t}(n.Component),Oe=a(207),Te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleTitleChange=function(e){a.setState({title:e.target.value})},a.handleDescriptionChange=function(e){a.setState({description:e.target.value})},a.renderRedirect=function(){if(a.state.redirect&&a.state.newProjectId)return r.a.createElement(Oe.a,{to:"/projects/".concat(a.state.newProjectId)})},a.state={title:"Test Project 9",description:"",validated:!1,redirect:!1,newProjectId:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.currentTarget.checkValidity()||(e.preventDefault(),e.stopPropagation()),this.setState({validated:!0});var a={title:this.state.title,description:this.state.description};je.createProject(a).then(function(e){"ok"===e.status&&t.setState({redirect:!0,newProjectId:e.projectId})})}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{style:{marginBottom:"5em"}},this.renderRedirect(),r.a.createElement(F,{links:[{name:r.a.createElement("span",null," ",r.a.createElement(N.a,{icon:D.j})," Projects"),link:"/projects"},{name:r.a.createElement("span",null," ",r.a.createElement(N.a,{icon:D.l})," NewProject"),link:"/projects/new"}]}),r.a.createElement("br",null),r.a.createElement(ne,{items:[{name:"Projects",link:"/projects"},{name:"New"}]}),r.a.createElement(Se.a,{noValidate:!0,validated:this.state.validated,onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(Se.a.Group,{controlId:"formBasicEmail"},r.a.createElement(Se.a.Label,null,"Title "),r.a.createElement(Se.a.Control,{required:!0,type:"text",placeholder:"Enter a projec title",value:this.state.title,onChange:this.handleTitleChange}),r.a.createElement(Se.a.Text,{className:"text-muted"},"Chose a title for your project"),r.a.createElement(Se.a.Control.Feedback,null,"Looks good!"),r.a.createElement(Se.a.Control.Feedback,{type:"invalid"},"Please chose a title for your project")),r.a.createElement(Se.a.Group,{controlId:"formBasicEmail"},r.a.createElement(Se.a.Label,null,"Description "),r.a.createElement(Se.a.Control,{type:"text",placeholder:"Enter a project description",value:this.state.description,onChange:this.handleDescriptionChange}),r.a.createElement(Se.a.Text,{className:"text-muted"},"Chose an optional description for your project"),r.a.createElement(Se.a.Control.Feedback,null,"Looks good!"),r.a.createElement(Se.a.Control.Feedback,{type:"invalid"},"Please chose a description for your project")),r.a.createElement(j.a,{variant:"primary",type:"submit"},"Save")),r.a.createElement(_,null))}}]),t}(n.Component),Pe=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(se.a,{style:{width:"100%",marginBottom:"1em"}},r.a.createElement(se.a.Body,null,r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:10,sm:11,md:11,ld:11,xl:11},r.a.createElement(se.a.Title,null,r.a.createElement(N.a,{icon:D.E})," ",this.props.userName)),r.a.createElement(M.a,{xs:2,sm:1,md:1,ld:1,xl:1},this.props.partOfProject?r.a.createElement(se.a.Link,null,r.a.createElement(j.a,{variant:"outline-success",size:"sm",disabled:!0},r.a.createElement(N.a,{icon:D.c}))):r.a.createElement(se.a.Link,null,r.a.createElement(j.a,{variant:"outline-secondary",size:"sm",disabled:!0},"\xa0\xa0\xa0\xa0")))),r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:10,sm:11,md:11,ld:11,xl:11},r.a.createElement(se.a.Subtitle,{className:"mb-2 text-muted"},this.props.userEmail)),r.a.createElement(M.a,{xs:1,sm:1,md:1,ld:1,xl:1},this.props.partOfProject?r.a.createElement(se.a.Link,null,r.a.createElement(j.a,{onClick:function(){e.props.handleRemoveUserToProject(e.props.userId)},variant:"outline-secondary",size:"sm"},r.a.createElement(N.a,{icon:D.F}))):r.a.createElement(se.a.Link,null,r.a.createElement(j.a,{onClick:function(){e.props.handleAddUserToProject(e.props.userId)},variant:"outline-secondary",size:"sm"},r.a.createElement(N.a,{icon:D.G}))))),r.a.createElement(se.a.Text,null,r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:10,sm:11,md:11,ld:11,xl:11},this.props.description)))))}}]),t}(n.Component),Ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearch=function(e){var t=e.target.value,n=a.state.usersList.filter(function(e){return console.log(t,e.name,e.email),pe(e.name,t)||pe(e.email,t)?(e.display=!0,e):(e.display=!1,e)});a.setState({usersList:n})},a.handleAddUserToProject=function(e){alert("add user "+e);var t=a.state.usersList.map(function(t){return t.id===e&&(t.partOfProject=!0),t});a.setState({usersList:t})},a.handleRemoveUserToProject=function(e){alert("remove user "+e);var t=a.state.usersList.map(function(t){return t.id===e&&(t.partOfProject=!1),t});a.setState({usersList:t})},a.state={projectId:a.props.match.params.projectId,projectTitle:"",usersList:[{id:0,name:"Example 1",email:"example.1@bbc.co.uk",display:!0,partOfProject:!0},{id:1,name:"Example 2",email:"example.2@bbc.co.uk",display:!0,partOfProject:!1},{id:2,name:"Example 3",email:"example.3@bbc.co.uk",display:!0,partOfProject:!0},{id:3,name:"Example 4",email:"example.4@bbc.co.uk",display:!0,partOfProject:!1}]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this;return e=this.state.usersList.map(function(e){return e.display?r.a.createElement(Pe,{key:e.id,userId:e.id,userName:e.name,userEmail:e.email,partOfProject:e.partOfProject,handleAddUserToProject:t.handleAddUserToProject,handleRemoveUserToProject:t.handleRemoveUserToProject}):null}).filter(function(e){return null!==e}),r.a.createElement(E.a,{style:{marginBottom:"5em"}},r.a.createElement(F,{links:Ce(this.state.projectId)}),r.a.createElement("br",null),r.a.createElement(ne,{className:"hidden-xs",items:[{name:"Projects",link:"/projects"},{name:"Project: ".concat(this.state.projectTitle),link:"/projects/".concat(this.state.projectId)},{name:"Users"}]}),r.a.createElement("div",{className:""},r.a.createElement(H.a,{className:"mb-3"},r.a.createElement(X.a,{onChange:this.handleSearch,placeholder:"Search for a user to add to this project","aria-label":"search","aria-describedby":"search"}),r.a.createElement(H.a.Append,null,r.a.createElement(H.a.Text,{id:"basic-addon2"},r.a.createElement(N.a,{icon:D.t})))),r.a.createElement("section",{style:{height:"80vh",overflow:"scroll"}},e)),r.a.createElement(_,null))}}]),t}(n.Component),Le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).getShowLinkForCard=function(e){return"/projects/".concat(a.state.projectId,"/transcripts/").concat(e)},a.linkToNew=function(){return"/projects/".concat(a.state.projectId,"/transcripts/new")},a.state={transcriptsList:null,projectId:a.props.match.params.projectId,projectTitle:""},a.handleDelete=a.handleDelete.bind(Object(J.a)(Object(J.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(G.a)(V.a.mark(function e(){var t,a;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.getTranscripts(this.state.projectId);case 2:(t=e.sent)&&(a=t.transcripts.map(function(e){return e.display=!0,e}),this.setState({projectTitle:t.projectTitle,transcriptsList:a}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleDelete",value:function(){var e=Object(G.a)(V.a.mark(function e(t){var a,n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.deleteTranscript(this.state.projectId,t);case 2:a=e.sent,n=function(e){return e.id!==t},"ok"===a.status&&(r=this.state.transcriptsList.filter(function(e){return n(e)}),this.setState({transcriptsList:r}));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(ue,{icon:r.a.createElement(N.a,{icon:D.h}),itemsList:this.state.transcriptsList,handleDelete:this.handleDelete,modelName:"transcripts",getShowLinkForCard:this.getShowLinkForCard,linkToNew:this.linkToNew,navbarLinks:Ce(this.state.projectId),breadCrumbItems:[{name:"Projects",link:"/projects"},{name:"Project: ".concat(this.state.projectTitle),link:"/projects/".concat(this.state.projectId)},{name:"Transcripts"}]})}}]),t}(n.Component),Ne={transcriptJson:!1},De=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){je.getTranscript(a.state.projectId,a.state.transcriptId,Ne).then(function(e){console.log(e),a.setState({projectTitle:e.projectTitle,transcriptTitle:e.transcriptTitle,description:e.description})}).catch(function(e){console.log("error:::: ",e),a.setState({savedNotification:r.a.createElement(ie,{dismissable:!0,variant:"danger",heading:"Error could not contact the server",message:r.a.createElement("p",null,"There was an error trying to get this transcript from the server")})})})},a.handleTitleChange=function(e){a.setState({transcriptTitle:e.target.value})},a.handleDescriptionChange=function(e){a.setState({description:e.target.value})},a.state={projectId:a.props.match.params.projectId,transcriptId:a.props.match.params.transcriptId,projectTitle:"",transcriptTitle:"",description:"",formDisabled:!0,validated:!1,savedNotification:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){var t=this;if(e.currentTarget.checkValidity()){e.preventDefault(),e.stopPropagation();var a={transcriptTitle:this.state.transcriptTitle,description:this.state.description,projectId:this.state.projectId};console.log(a),je.updateTranscript(this.state.projectId,this.state.transcriptId,Ne,a).then(function(e){"ok"===e.status&&(console.log("updated"),t.setState({formDisabled:!0,savedNotification:r.a.createElement(ie,{dismissable:!0,variant:"success",heading:"Transcript saved",message:r.a.createElement("p",null,"Transcript: ",r.a.createElement("b",null,t.state.transcriptTitle)," has been saved")})}))}).catch(function(){t.setState({savedNotification:r.a.createElement(ie,{dismissable:!0,variant:"danger",heading:"Error saving transcript",message:r.a.createElement("p",null,"There was an error trying to save this transcript: ",r.a.createElement("b",null,t.state.transcriptTitle))})})})}this.setState({validated:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{style:{marginBottom:"5em"}},r.a.createElement(F,{links:Ce(this.state.projectId)}),r.a.createElement("br",null),r.a.createElement(ne,{items:[{name:"Projects",link:"/projects"},{name:"Project: ".concat(this.state.projectTitle),link:"/projects/".concat(this.state.projectId)},{name:"Transcripts",link:"/projects/".concat(this.state.projectId,"/transcripts")},{name:"".concat(this.state.transcriptTitle?this.state.transcriptTitle:"")}]}),r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:12,sm:6,md:6,lg:6,xl:6},r.a.createElement(g.LinkContainer,{to:"/projects/".concat(this.state.projectId,"/transcripts/").concat(this.state.transcriptId,"/correct")},r.a.createElement(j.a,{variant:"outline-primary",size:"lg",block:!0},"Correct Transcript")),r.a.createElement("br",null)),r.a.createElement(M.a,{xs:12,sm:6,md:6,lg:6,xl:6},r.a.createElement(g.LinkContainer,{to:"/projects/".concat(this.state.projectId,"/transcripts/").concat(this.state.transcriptId,"/annotate")},r.a.createElement(j.a,{variant:"outline-primary",size:"lg",block:!0},"Annotate Transcript")))),r.a.createElement("hr",null),r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:12,sm:12,md:12,ld:12,xl:12},r.a.createElement(j.a,{onClick:function(){e.setState(function(e){return{formDisabled:!e.formDisabled,savedNotification:null}})},variant:this.state.formDisabled?"outline-secondary":"secondary",type:"submit",block:!0,size:"sm"},"Edit Transcript  ",r.a.createElement(N.a,{icon:D.q})))),r.a.createElement("br",null),this.state.savedNotification,r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Se.a,{noValidate:!0,validated:this.state.validated,onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(Se.a.Group,{as:B.a,controlId:"formHorizontalTitle"},r.a.createElement(Se.a.Label,{column:!0,sm:2},"Title"),r.a.createElement(M.a,{sm:10},r.a.createElement(Se.a.Control,{required:!0,disabled:this.state.formDisabled,type:"text",onChange:this.handleTitleChange,value:this.state.transcriptTitle})),r.a.createElement(Se.a.Control.Feedback,null,"Looks good!"),r.a.createElement(Se.a.Control.Feedback,{type:"invalid"},"Please chose a title for your project")),r.a.createElement(Se.a.Group,{as:B.a,controlId:"formHorizontalDescription"},r.a.createElement(Se.a.Label,{column:!0,sm:2},"Description"),r.a.createElement(M.a,{sm:10},r.a.createElement(Se.a.Control,{disabled:this.state.formDisabled,type:"text",as:"textarea",rows:"3",onChange:this.handleDescriptionChange,value:this.state.description})),r.a.createElement(Se.a.Control.Feedback,null,"Looks good!"),r.a.createElement(Se.a.Control.Feedback,{type:"invalid"},"Please chose a description for your project")),r.a.createElement(j.a,{disabled:this.state.formDisabled,variant:this.state.formDisabled?"outline-primary":"primary",type:"submit"},"Save ",r.a.createElement(N.a,{icon:D.s}))))),r.a.createElement(_,null))}}]),t}(n.Component),Fe=(a(273),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleTitleChange=function(e){a.setState({title:e.target.value})},a.handleDescriptionChange=function(e){a.setState({description:e.target.value})},a.handleFileUpload=function(e){var t=Array.from(e.target.files)[0],n=new FormData;n.append("file",t),n.append("type",t.type),a.setState({mediaFileSelected:!0,formData:n}),""===a.state.title&&a.setState({title:t.name})},a.sendRequest=function(){a.setState({uploading:!0});var e=a.state.formData;e.append("title",a.state.title),e.append("description",a.state.description);try{je.createTranscript(a.state.projectId,a.state.formData).then(function(e){console.log("response ",e),a.setState({uploading:!1,uploadCompleted:!0,redirect:!0,newTranscriptId:e.transcriptId})}).catch(function(e){console.log("error:::: ",e),a.setState({uploading:!1,redirect:!1,savedNotification:r.a.createElement(ie,{dismissable:!0,variant:"danger",heading:"Error could not contact the server",message:r.a.createElement("p",null,"There was an error trying to create this transcript on the server")})})})}catch(t){console.error("error submitting:::",t)}},a.renderRedirect=function(){if(a.state.redirect&&a.state.newTranscriptId&&a.state.uploadCompleted)return r.a.createElement(Oe.a,{to:"/projects/".concat(a.state.projectId,"/transcripts")})},a.state={projectId:a.props.match.params.projectId,validated:!1,redirect:!1,newTranscriptId:null,uploading:!1,uploadCompleted:!1,mediaFileSelected:!1,title:"",description:"",formData:null,savedNotification:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){var t=e.currentTarget;console.log("(form.checkValidity()",t.checkValidity()),t.checkValidity()||this.setState({validated:!0}),t.checkValidity()&&(e.preventDefault(),e.stopPropagation(),this.sendRequest())}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,null,this.renderRedirect(),r.a.createElement(F,{links:Ce(this.state.projectId)}),r.a.createElement("br",null),r.a.createElement(ne,{items:[{name:"Projects",link:"/projects"},{name:"Project:",link:"/projects/".concat(this.state.projectId)},{name:"Transcripts",link:"/projects/".concat(this.state.projectId,"/transcripts")},{name:"New"}]}),this.state.savedNotification,r.a.createElement(Se.a,{noValidate:!0,validated:this.state.validated,onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(Se.a.Group,{controlId:"formTranscriptTitle"},r.a.createElement(Se.a.Label,null,"Title "),r.a.createElement(Se.a.Control,{required:!0,type:"text",placeholder:"Enter a transcript title",value:this.state.title,onChange:this.handleTitleChange}),r.a.createElement(Se.a.Text,{className:"text-muted"},"Chose a title for your Transcript"),r.a.createElement(Se.a.Control.Feedback,null,"Looks good!"),r.a.createElement(Se.a.Control.Feedback,{type:"invalid"},"Please chose a title for your transcript")),r.a.createElement(Se.a.Group,{controlId:"formTranscriptDescription"},r.a.createElement(Se.a.Label,null,"Description "),r.a.createElement(Se.a.Control,{type:"text",placeholder:"Enter a Transcript description",value:this.state.description,onChange:this.handleDescriptionChange}),r.a.createElement(Se.a.Text,{className:"text-muted"},"Chose an optional description for your Transcript"),r.a.createElement(Se.a.Control.Feedback,null,"Looks good!"),r.a.createElement(Se.a.Control.Feedback,{type:"invalid"},"Please chose a description for your transcript")),r.a.createElement(Se.a.Group,{controlId:"formTranscriptMediaFile"},r.a.createElement(Se.a.Control,{required:!0,type:"file",label:"Upload",accept:"audio/*,video/*",onChange:this.handleFileUpload}),r.a.createElement(Se.a.Text,{className:"text-muted"},"Select an audio or video file to upload"),r.a.createElement(Se.a.Control.Feedback,null,"Looks good!"),r.a.createElement(Se.a.Control.Feedback,{type:"invalid"},"Please chose a audio or video file to upload")),r.a.createElement(j.a,{variant:"primary",type:"submit"},"Save")),r.a.createElement(_,null))}}]),t}(n.Component)),Ue=a(98),Be=a.n(Ue),Ae=a(41),Me=a.n(Ae),Re=a(215),ze=a.n(Re),_e=a(216),qe=a.n(_e),We=a(97),Ve=function(e,t){var a;return function(){var n=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(null,n)},t)}},Ge=a(133),Je=a.n(Ge),Ke=a(73),He=a.n(Ke),Ye={yellow:"#ffff00",greenyellow:"#adff2f",deepskyblue:"#00bfff",deeppink:"#ff1493",aqua:"#00ffff",black:"#000000",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chocolate:"#d2691e",coral:"#ff7f50",crimson:"#dc143c",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",blue:"#0000ff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",chartreuse:"#7fff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",yellowgreen:"#9acd32",aquamarine:"#7fffd4",mediumaquamarine:"#66cdaa"},Xe=Object.freeze(Object.keys(Ye).splice(0,15)),$e=[];for(var Qe in Ye)$e.push({value:Qe,label:Qe,color:Ye[Qe]});var Ze=-1,et=Xe.length,tt=function(){return Ze<et?Ze+=1:Ze=0,Xe[Ze]},at=a(217),nt=a(46),rt=a.n(nt),st=function(e){function t(e,a){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(d.a)(t).call(this,e,a))).handleRandomiseColor=function(){n.setState({color:tt()})},n.handleColorPickerChangeComplete=function(e){n.setState({color:rt()(e.hex).name()})},n.handleManualColorChange=function(e){if(e&&e.target&&e.target.value){var t=e.target.value;n.setState({color:rt.a.valid(t)?rt()(t).name():t})}else e&&e.target&&""===e.target.value&&n.setState({color:""})},n.handleColorSelectChange=function(e){n.setState({color:e.color})},n.handleSave=function(){rt.a.valid(n.state.color)?""!==n.state.label?(n.props.onLabelSaved({value:n.state.color,label:n.state.label,color:n.state.color,description:n.state.description,id:n.state.labelId}),n.props.handleClose()):alert("add a name to the label to be able to save"):alert("choose a valid color")},n.state={color:n.props.color,label:n.props.label,description:n.props.description,labelId:n.props.labelId},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,null,r.a.createElement(Se.a.Group,{controlId:"formGroupEmail"},r.a.createElement(Se.a.Label,null,"Label Name "),r.a.createElement(Se.a.Control,{type:"text",placeholder:"Enter label name",defaultValue:this.state.label,onInput:function(t){e.setState({label:t.target.value})}}),r.a.createElement(Se.a.Text,{className:"text-muted"},"Required label name")),r.a.createElement(Se.a.Group,{controlId:"formGroupPassword"},r.a.createElement(Se.a.Label,null,"Label Description"),r.a.createElement(Se.a.Control,{type:"text",placeholder:"Enter label description",defaultValue:this.state.description,as:"textarea",rows:"3",onInput:function(t){e.setState({description:t.target.value})}}),r.a.createElement(Se.a.Text,{className:"text-muted"},"Optional label description")),r.a.createElement(Se.a.Group,{controlId:"formGroupPassword"},r.a.createElement(Se.a.Label,null,"Color"),r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:2,sm:1,md:1,lg:1,xl:1},r.a.createElement(j.a,{onClick:this.handleRandomiseColor,variant:"light",size:"sm"},r.a.createElement(N.a,{icon:D.x}))),r.a.createElement(M.a,{xs:6,sm:6,md:6,lg:6,xl:6},r.a.createElement(Se.a.Control,{value:this.state.color,type:"text",placeholder:"#",onChange:this.handleManualColorChange})),r.a.createElement(M.a,{xs:2,sm:2,md:2,lg:2,xl:2,style:{backgroundColor:this.state.color,border:"solid",borderWidth:"0.01em",borderColor:"grey",padding:"0"}})),r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Se.a.Text,{className:"text-muted"},"To pick a color you can chose one at random, pick one form the list below, or type the name or hex code above."),r.a.createElement(at.GithubPicker,{width:"100%",color:this.state.color,triangle:"hide",onChangeComplete:this.handleColorPickerChangeComplete,colors:Xe})))),r.a.createElement(j.a,{variant:"primary",onClick:this.handleSave},"Save")))}}]),t}(n.Component),ot=function(e){function t(e,a){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(d.a)(t).call(this,e,a))).handleClose=function(){n.setState({show:!1})},n.handleShow=function(){n.setState({show:!0})},n.state={show:!1,color:n.props.color,label:n.props.label,description:n.props.description,labelId:n.props.labelId},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{variant:"link",size:"sm",onClick:this.handleShow,block:!0},this.props.openBtn),r.a.createElement(He.a,{show:this.state.show,onHide:this.handleClose},r.a.createElement(He.a.Header,{closeButton:!0},r.a.createElement(He.a.Title,null,r.a.createElement(N.a,{icon:D.y}),"  Label ")),r.a.createElement(He.a.Body,null,r.a.createElement(st,{onLabelSaved:this.props.onLabelSaved,label:this.props.label,description:this.props.description,color:this.props.color,labelId:this.props.labelId,handleClose:this.handleClose}))))}}]),t}(n.Component),lt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).removeLabel=function(e,t){if(!0===confirm("Click OK to delete the label, Cancel if you changed your mind")){var n=a.props.labelsOptions.filter(function(t){return t.id!==e});console.log("newLabelsOptions",n),a.props.onLabelsUpdated(n)}else alert("Your label was not deleted")},a.editLabel=function(e,t){var n=a.props.labelsOptions.filter(function(t){return t.id===e});console.log("labelToEdit",n)},a.onLabelSaved=function(e){console.log("onLabelSaved::",e);var t=a.props.labelsOptions;e.id?(console.log("updated?"),t[e.id]=e,a.props.onLabelsUpdated(t)):(console.log("created?"),e.id=t[t.length-1].id+1,t.push(e),a.props.onLabelsUpdated(t))},a.showLabelModal=function(){console.log(a.state.isLabelmodalShown),a.setState(function(e){return{isLabelmodalShown:!e.isLabelmodalShown}})},a.state={labelsListOpen:!1,isLabelmodalShown:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.labelsOptions.map(function(t,a){return r.a.createElement(Je.a.Item,{key:"label_"+a},r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:1,sm:1,md:1,lg:1,xl:1,style:{backgroundColor:t.color},title:t.label}),r.a.createElement(M.a,{xs:7,sm:7,md:7,lg:7,xl:7},t.label),r.a.createElement(M.a,{xs:1,sm:1,md:1,lg:1,xl:1},"default"!==t.label.toLowerCase()?r.a.createElement(ot,{color:t.color,label:t.label,description:t.description,labelId:t.id,show:e.state.isLabelmodalShown,onLabelSaved:e.onLabelSaved,openBtn:r.a.createElement("span",null," ",r.a.createElement(N.a,{icon:D.q}))}):r.a.createElement(j.a,{title:"edit label",variant:"link",size:"sm",disabled:!0},r.a.createElement(N.a,{icon:D.q})," ")),r.a.createElement(M.a,{xs:1,sm:1,md:1,lg:1,xl:1},r.a.createElement(j.a,{title:"delete label",variant:"link",size:"sm",onClick:function(a){e.removeLabel(t.id,a)},disabled:"default"===t.label.toLowerCase()},r.a.createElement(N.a,{icon:D.B})))),r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:1,sm:1,md:1,lg:1,xl:1,title:t.label}),r.a.createElement(M.a,{xs:10,sm:10,md:10,lg:10,xl:10},r.a.createElement(Se.a.Text,{className:"text-muted"},t.description))))}),a=r.a.createElement(Je.a,{style:{height:"30vh",overflow:"scroll"}},t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,null,r.a.createElement(se.a.Header,{variant:"outline-primary",onClick:function(){e.setState(function(e){return{labelsListOpen:!e.labelsListOpen}})}},r.a.createElement(C.a,{justify:!0,variant:"pills"},r.a.createElement(C.a.Item,null,r.a.createElement(N.a,{icon:D.z}),"  ",r.a.createElement(N.a,{icon:D.u}),"  Labels"),r.a.createElement(C.a.Item,null,r.a.createElement(N.a,{icon:this.state.labelsListOpen?D.a:D.b})))),this.state.labelsListOpen?r.a.createElement(r.a.Fragment,null," ",a,r.a.createElement(se.a.Footer,{className:"text-muted"},r.a.createElement(ot,{color:tt(),label:"",description:"",labelId:null,show:this.state.isLabelmodalShown,onLabelSaved:this.onLabelSaved,openBtn:r.a.createElement("span",null,"Create New Label ",r.a.createElement(N.a,{icon:D.y})," ")}))," "):""))}}]),t}(n.Component),ct=function(e){return e.replace(/\.|\?|!|,|;/,"").toLowerCase()},it=function(e,t){var a=t.filter(function(t){return e.start>t.start});return 0!==a.length&&a},dt=function(e,t){var a=t.filter(function(t){return e.end<t.end});return 0!==a.length&&a},pt=function(e,t){var a=t.find(function(t){return e.start===t.start}),n=t.indexOf(a),r=t.find(function(t){return e.end===t.end}),s=t.indexOf(r);return t.slice(n,s+1)},ut=function(e,t){return{wordsBefore:it(e,t),wordsInAnnotation:pt(e,t),wordsAfter:dt(e,t)}},mt=function(e,t){var a=function(e,t,a){return e.find(function(e){return e.start>=t&&e.end<=a})}(e,t[0].start,t[t.length-1].end);return a||!1};var ht=function(e,t){return function(e){var t=e[0].speaker,a=[],n={words:[],text:"",speaker:""};return e.forEach(function(e){t===e.speaker?(delete e.speaker,n.words.push(e),n.text+=e.text+" ",n.speaker=t):(t=e.speaker,n.text=n.text.trim(),a.push(n),(n={words:[],text:"",speaker:"U_UKN"}).words.push(e),n.text+=e.text+" ")}),a.push(n),a}(function(e,t){return e.map(function(e){return e.speaker=function(e,t){var a=t.find(function(t){return e.start>=t.start&&e.end<=t.end});return void 0===a?"UKN":a.speaker}(e,t),e})}(e,t))},ft=a(50),Et=a(101),gt=a.n(Et),bt=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.paragraphDisplayPreference;e.borderStyle="dashed",e.borderWidth="0.01em",e.borderColor="lightgray",e.padding="0.5em";var t={};return this.props.showParagraphsMatchingSearch?t=this.props.paragraphDisplayPreference:e.display||(delete e.display,t.borderRight="0.1em dashed lightgrey",t.borderLeft="0.1em dashed lightgrey"),r.a.createElement(B.a,{style:Object(ft.a)({},t),className:"paragraph","data-paragraph-text":this.props.paragraphTextWithoutPunctuation},r.a.createElement(M.a,{xs:8,sm:8,md:3,lg:3,xl:2},r.a.createElement("span",{className:[gt.a.speaker,gt.a.unselectable].join(" "),tabIndex:"0"},this.props.speakerName)),r.a.createElement(M.a,{xs:4,sm:4,md:2,lg:2,xl:1,style:{padding:"0em",textAlign:"center"},className:gt.a.unselectable},r.a.createElement("span",{style:{cursor:"pointer",width:"100%"},"data-start":this.props.paragraph[0].start,className:"timecode",tabIndex:"0",onKeyDown:this.props.handleKeyDownTimecodes},Object(We.shortTimecode)(this.props.paragraph[0].start))),r.a.createElement(M.a,{xs:12,sm:12,md:7,lg:7,xl:9},this.props.wordsElements))}}]),t}(n.Component),vt=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.paragraph.map(function(t){return r.a.createElement("span",{title:"start:".concat(t.start," - end:").concat(t.end),className:["words"].join(" "),"data-start":t.start,"data-text":ct(t.text),"data-end":t.end,key:"key_"+t.id+"_"+t.end,role:"button","aria-pressed":"false",onKeyDown:e.props.handleKeyDownWords},t.text," ")});return r.a.createElement(r.a.Fragment,null,t)}}]),t}(n.Component),yt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleEditAnnotation=function(){a.props.handleEditAnnotation(a.props.annotationId,void 0)},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.annotationLabelId,a=this.props.labelsOptions.find(function(e){return e.id===t});return a||(a=this.props.labelsOptions[0]),r.a.createElement(P.a,{rootClose:!0,trigger:"click",placement:"bottom",overlay:r.a.createElement(L.a,{id:"popover-basic"},r.a.createElement(B.a,null,r.a.createElement(M.a,{md:1,style:{backgroundColor:a.color,marginLeft:"1em"}}),r.a.createElement(M.a,null,r.a.createElement(N.a,{icon:D.y}),"  ",a.label),r.a.createElement(M.a,{md:1,style:{marginRight:"1em"},onClick:function(){e.props.handleDeleteAnnotation(e.props.annotationId)}},r.a.createElement(N.a,{icon:D.D}))),r.a.createElement("hr",null),r.a.createElement(N.a,{icon:D.v,onClick:this.handleEditAnnotation}),"   ",this.props.annotationNote,r.a.createElement("br",null),r.a.createElement(N.a,{icon:D.q,onClick:this.handleEditAnnotation}))},r.a.createElement("span",{style:{borderBottom:"0.1em ".concat(a.color," solid")},className:"highlight"},this.props.words))}}]),t}(n.Component);var jt=function(e,t,a){var n={};return e||(n={display:"none"}),t||(n={display:"none"}),a||(n={display:"none"}),n};var kt=function(e){var t,a={},n=e.annotations;return ht(e.transcriptJson.words,e.transcriptJson.paragraphs).map(function(s,o){var l=ct(s.text),c=mt(n,s.words);console.log("annotation",c);var i=l.includes(e.searchString.toLowerCase()),d=!1;0!==e.selectedOptionSpeakerSearch.length?e.selectedOptionSpeakerSearch.find(function(e){return e.label===s.speaker})&&(d=!0):d=!0;var p=!1;if(0!==e.selectedOptionLabelSearch.length?e.selectedOptionLabelSearch.find(function(e){return e.id===c.labelId})&&(p=!0):p=!0,a=jt(i,d,p),c){var u=ut(c,s.words),m=u.wordsBefore,h=u.wordsInAnnotation,f=u.wordsAfter,E=m?r.a.createElement(vt,{key:"key-"+o,paragraph:m,handleKeyDownWords:function(t){return"Enter"===t.key?e.handleWordClick(t):null}}):null,g=r.a.createElement(vt,{key:"key--"+o,paragraph:h,handleKeyDownWords:function(t){return"Enter"===t.key?e.handleWordClick(t):null}}),b=f?r.a.createElement(vt,{key:"key---"+o,paragraph:f,handleKeyDownWords:function(t){return"Enter"===t.key?e.handleWordClick(t):null}}):null;t=[E,r.a.createElement(yt,{key:"key----"+o,words:g,labelsOptions:e.labelsOptions,annotationLabelId:c.labelId,annotationId:c.id,annotationNote:c.note,handleDeleteAnnotation:e.handleDeleteAnnotation,handleEditAnnotation:e.handleEditAnnotation}),b]}else t=r.a.createElement(vt,{key:"key-----"+o,paragraph:s.words,handleKeyDownWords:function(t){return"Enter"===t.key?e.handleWordClick(t):null}});return r.a.createElement(bt,{showParagraphsMatchingSearch:e.showParagraphsMatchingSearch,paragraphDisplayPreference:a,key:"key------"+o,paragraphTextWithoutPunctuation:l,speakerName:s.speaker,paragraph:s.words,handleKeyDownTimecodes:function(t){return"Enter"===t.key?e.handleTimecodeClick(t):null},wordsElements:t})})},wt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleKeyDownTimecodes=function(e){"Enter"===e.key&&a.props.handleTimecodeClick(e)},a.handleKeyDownWords=function(e){"Enter"===e.key&&a.props.handleWordClick(e)},a.generateParagraphsEl=function(){return kt(a.props)},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.generateParagraphsEl())}}]),t}(n.Component),St=a(218),Ct=a.n(St),xt=a(135),Ot=a(134),Tt={control:function(e){return Object(ft.a)({},e,{backgroundColor:"white"})},option:function(e,t){var a=t.data,n=t.isDisabled,r=t.isFocused,s=t.isSelected,o=rt()(a.color),l=null;n&&(l=null),s&&(l=a.color),r&&(l=o.alpha(.1).css());var c=a.color;return n&&(Object(Ot.a)("tmpColor"),c="#ccc"),s&&(Object(Ot.a)("tmpColor"),c=rt.a.contrast(o,"white")>2?"white":"black"),Object(ft.a)({},e,{backgroundColor:l,color:c,cursor:n?"not-allowed":"default"})},multiValue:function(e,t){var a=t.data,n=rt()(a.color);return Object(ft.a)({},e,{backgroundColor:n.alpha(.1).css()})},multiValueLabel:function(e,t){var a=t.data;return Object(ft.a)({},e,{color:a.color})},multiValueRemove:function(e,t){var a=t.data;return Object(ft.a)({},e,{color:a.color,":hover":{backgroundColor:a.color,color:"white"}})}},Pt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleToggleSearchTextPreferences=function(){a.setState(function(e){return{showTextSearchPreferences:!e.showTextSearchPreferences}})},a.handleToggleSearchLabelsPreferences=function(){a.setState(function(e){return{showLabelsSearchPreferences:!e.showLabelsSearchPreferences}})},a.handleToggleSearchSpeakersPreferences=function(){a.setState(function(e){return{showSpeakersSearchPreferences:!e.showSpeakersSearchPreferences}})},a.handleSpeakersSearchChange=function(e){a.props.handleSpeakersSearchChange(e),a.setState({selectedOptionSpeakerSearch:e})},a.handleLabelsSearchChange=function(e){a.props.handleLabelsSearchChange(e),a.setState({selectedOptionLabelSearch:e})},a.handleShowParagraphsMatchingSearch=function(){a.setState(function(e){return{showParagraphsMatchingSearch:!e.showParagraphsMatchingSearch}},function(){a.props.handleShowParagraphsMatchingSearch()})},a.state={showParagraphsMatchingSearch:!1,showTextSearchPreferences:!1,showSpeakersSearchPreferences:!1,showLabelsSearchPreferences:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement(se.a.Header,null,r.a.createElement(H.a,{className:"mb-3"},r.a.createElement(Ct.a,{as:H.a.Prepend,variant:"outline-secondary",title:r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{icon:D.u}),r.a.createElement(N.a,{icon:D.t})),id:"input-group-dropdown-1"},r.a.createElement(Me.a.Item,{onClick:this.handleToggleSearchTextPreferences},r.a.createElement(N.a,{icon:D.o}),"Show only matching Paragraphs"),r.a.createElement(Me.a.Divider,null),r.a.createElement(Me.a.Item,{onClick:this.handleToggleSearchLabelsPreferences},r.a.createElement(N.a,{icon:D.z}),"Filter results by Labels"),r.a.createElement(Me.a.Item,{onClick:this.handleToggleSearchSpeakersPreferences},r.a.createElement(N.a,{icon:D.H}),"Filter results by Speakers")),r.a.createElement(X.a,{onChange:function(t){e.props.handleSearch(t,{showParagraphsMatchingSearch:e.state.showParagraphsMatchingSearch,showLabelsSearchPreferences:e.state.showLabelsSearchPreferences,showSpeakersSearchPreferences:e.state.showSpeakersSearchPreferences})},placeholder:"Search transcript","aria-label":"search","aria-describedby":"search"}))),a=this.state.showTextSearchPreferences?r.a.createElement(se.a.Header,null,r.a.createElement(Se.a.Check,{type:"checkbox",value:this.state.showParagraphsMatchingSearch,label:r.a.createElement(r.a.Fragment,null,"Show only matching Paragraphs "),onClick:this.handleShowParagraphsMatchingSearch}),r.a.createElement(Se.a.Text,{className:"text-muted"},"label=",r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{icon:D.o}),"Show only matching Paragraphs "),"onClick=",this.handleShowParagraphsMatchingSearch,">",r.a.createElement(N.a,{icon:D.o})," Show only paragraphs that contain search results"),r.a.createElement(Se.a.Text,{className:"text-muted"},"Show only paragraphs that contain search results")):"",n=this.state.showLabelsSearchPreferences?r.a.createElement(se.a.Header,null,r.a.createElement(xt.a,{value:this.state.selectedOptionLabelSearch,onChange:this.handleLabelsSearchChange,isMulti:!0,isSearchable:!0,options:this.props.labelsOptions,styles:Tt}),r.a.createElement(Se.a.Text,{className:"text-muted"},r.a.createElement(N.a,{icon:D.z})," Narrow down search by labels")):"",s=this.state.showSpeakersSearchPreferences?r.a.createElement(se.a.Header,null,r.a.createElement(xt.a,{value:this.state.selectedOptionSpeakerSearch,onChange:this.handleSpeakersSearchChange,isMulti:!0,isSearchable:!0,options:this.props.speakersOptions}),r.a.createElement(Se.a.Text,{className:"text-muted"},r.a.createElement(N.a,{icon:D.H})," See only text for selected speakers")):"";return r.a.createElement(r.a.Fragment,null,t,a,n,s)}}]),t}(n.Component);var It=function(e){if(!window.getSelection().isCollapsed){var t=window.getSelection().getRangeAt(0).cloneContents().querySelectorAll(".words");if(0!==t.length)return{start:parseFloat(t[0].dataset.start),end:parseFloat(t[t.length-1].dataset.end)};var a=window.getSelection().anchorNode.parentElement;return"words"===a.className&&{start:parseFloat(a.dataset.start),end:parseFloat(a.dataset.end)}}return!1};a(461);function Lt(e){var t=[],a=new Map,n=!0,r=!1,s=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var c=o.value;a.has(c.speaker)||(a.set(c.speaker,!0),t.push({value:c.speaker,label:c.speaker}))}}catch(i){r=!0,s=i}finally{try{n||null==l.return||l.return()}finally{if(r)throw s}}return t}var Nt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){je.getAnnotations(a.state.projectId,a.state.transcriptId).then(function(e){console.log(e.labels),a.setState({projectTitle:e.projectTitle,transcriptJson:e.transcript,annotations:e.annotations,transcriptTitle:e.transcriptTitle,url:e.url,labelsOptions:e.labels,speakersOptions:Lt(e.transcript.paragraphs)})}).catch(function(e){a.setState({notification:r.a.createElement(ie,{dismissable:!0,variant:"danger",heading:"Server Error",message:r.a.createElement("p",null,"Error reaching the server to fetch transcript ")})})})},a.handleWordClick=function(e){if("words"===e.target.className){var t=e.target;a.videoRef.current.currentTime=t.dataset.start,a.videoRef.current.play()}},a.handleTimecodeClick=function(e){if("timecode"===e.target.className){var t=e.target;a.videoRef.current.currentTime=t.dataset.start,a.videoRef.current.play()}},a.handleSearch=function(e,t){if(""!==e.target.value){var n=e.target.value;a.setState({searchString:n.toLowerCase()}),Ve(a.highlightWords(n),500)}else""===e.target.value&&a.setState({sentenceToSearchCSS:"",searchString:""})},a.highlightWords=function(e){var t=e.toLowerCase().trim().split(" "),n='.paragraph[data-paragraph-text*="'.concat(t.join(" "),'"]'),r=t.map(function(e,a){var r="".concat(n,' > div > span.words[data-text="').concat(e.toLowerCase().trim(),'"]');return a<t.length-1&&(r+=", "),r}),s=t.map(function(e,a){var r="".concat(n,' > div  > span >span.words[data-text="').concat(e.toLowerCase().trim(),'"]');return a<t.length-1&&(r+=", "),r});a.setState({sentenceToSearchCSS:r.join(" "),sentenceToSearchCSSInHighlights:s.join(" ")})},a.onLabelsUpdated=function(e){a.setState({labelsOptions:e})},a.handleTimeUpdate=function(e){var t=e.target.currentTime;a.setState({currentTime:t})},a.onLoadedDataGetDuration=function(e){var t=e.target.duration+a.state.timecodeOffset,n=Object(We.secondsToTimecode)(t);a.setState({mediaDuration:n})},a.handleShowParagraphsMatchingSearch=function(){a.setState(function(e){return{showParagraphsMatchingSearch:!e.showParagraphsMatchingSearch}})},a.saveToServer=function(){alert("save to server")},a.handleAnnotation=function(e){var t=e.target;window.element=t;var n=It();n?a.setState(function(e){var a=e.annotations;n.labelId=parseInt(t.dataset.labelId);n.note="";var r=a[a.length-1].id+1;return n.id=r,a.push(n),{annotations:a}}):alert("Select some text in the transcript to highlight ")},a.handleDeleteAnnotation=function(e){var t=a.state.annotations.filter(function(t){return t.id!==e});a.setState({annotations:t})},a.handleEditAnnotation=function(e){var t=a.state.annotations,n=t.filter(function(t){return t.id!==e}),r=t.find(function(t){return t.id===e}),s=prompt("Edit the text note of the annotation",r.note);s?(r.note=s,n.push(r),a.setState({annotations:n})):alert("all good nothing changed")},a.handleLabelsSearchChange=function(e){a.setState({selectedOptionLabelSearch:e})},a.handleSpeakersSearchChange=function(e){a.setState({selectedOptionSpeakerSearch:e})},a.videoRef=r.a.createRef(),a.state={projectId:a.props.match.params.projectId,transcriptId:a.props.match.params.transcriptId,projectTitle:"",transcriptJson:null,transcriptTitle:"",url:null,mediaDuration:"00:00:00:00",currentTime:0,timecodeOffset:0,searchString:"",sentenceToSearchCSS:"",sentenceToSearchCSSInHighlights:"",wordsToSearchCSS:"",showTextSearchPreferences:!1,showLabelsSearchPreferences:!1,showSpeakersSearchPreferences:!1,showSelectedOptionLabelSearch:!1,selectedOptionLabelSearch:[],selectedOptionSpeakerSearch:[],showParagraphsMatchingSearch:!1,notification:null,annotations:[],labelsOptions:[],speakersOptions:[]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{fluid:!0,style:{backgroundColor:"#f9f9f9",marginBottom:"5em"}},r.a.createElement("style",{scoped:!0},""),r.a.createElement("style",{scoped:!0},"".concat(this.state.sentenceToSearchCSS," { background-color: ","yellow","; text-shadow: 0 0 0.01px black }"),"".concat(this.state.sentenceToSearchCSSInHighlights," { background-color: ","yellow","; text-shadow: 0 0 0.01px black }")),r.a.createElement(F,{links:Ce(this.state.projectId)}),r.a.createElement("br",null),this.state.notification,r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:9,md:9,ld:9,xl:9},r.a.createElement(ne,{items:[{name:"Projects",link:"/projects"},{name:"Project: ".concat(this.state.projectTitle),link:"/projects/".concat(this.state.projectId)},{name:"Transcripts",link:"/projects/".concat(this.state.projectId,"/transcripts")},{name:"".concat(this.state.transcriptTitle),link:"/projects/".concat(this.state.projectId,"/transcripts/").concat(this.state.transcriptId)},{name:"Annotate"}]})),r.a.createElement(M.a,{xs:12,sm:3,md:3,ld:3,xl:3},r.a.createElement(j.a,{variant:"outline-secondary",onClick:this.saveToServer,size:"lg",block:!0},"Save"),r.a.createElement("br",null))),r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(ze.a,{title:this.state.transcriptTitle?this.state.transcriptTitle:"",mediaDuration:this.state.mediaDuration,hookSeek:function(t){return e.setCurrentTime=t},hookPlayMedia:function(t){return e.playMedia=t},hookIsPlaying:function(t){return e.isPlaying=t},rollBackValueInSeconds:15,timecodeOffset:this.state.timecodeOffset,mediaUrl:this.state.url,videoRef:this.videoRef,handleSaveTranscript:function(){alert("feature not implemented yet")}}),r.a.createElement("br",null))),r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:12,sm:3,md:3,lg:3,xl:3,style:{paddingRight:"0"}},null!==this.state.transcriptJson&&r.a.createElement(qe.a,{tabindex:"0",role:"button","aria-pressed":"false",mediaUrl:this.state.url,onTimeUpdate:this.handleTimeUpdate,videoRef:this.videoRef,previewIsDisplayed:!0,onLoadedDataGetDuration:this.onLoadedDataGetDuration}),r.a.createElement(lt,{labelsOptions:this.state.labelsOptions,onLabelsUpdated:this.onLabelsUpdated}),r.a.createElement("br",null),r.a.createElement(Me.a,{as:Be.a,style:{width:"100%"}},r.a.createElement(j.a,{variant:"warning",id:"defaultHighlightBtn","data-label-id":0,onClick:this.handleAnnotation}," Highlight ",r.a.createElement(N.a,{icon:D.m})),r.a.createElement(Me.a.Toggle,{split:!0,variant:"warning",id:"dropdown-split-basic","data-lable-id":0}),r.a.createElement(Me.a.Menu,{onClick:this.handleAnnotation},this.state.labelsOptions.map(function(e){return r.a.createElement(Me.a.Item,{key:"label_id_".concat(e.id),"data-label-id":e.id},r.a.createElement(B.a,{"data-label-id":e.id},r.a.createElement(M.a,{xs:1,sm:1,md:1,lg:1,xl:1,style:{backgroundColor:e.color},"data-label-id":e.id}),r.a.createElement(M.a,{xs:1,sm:1,md:1,lg:1,xl:1,"data-label-id":e.id},e.label)))}))),r.a.createElement(Se.a.Text,{className:"text-muted"},"Select some text in the transcript then click the highlight button.",r.a.createElement("br",null),"You can choose btween default or custom labels to categorise your annotations.")),r.a.createElement(M.a,{xs:12,sm:9,md:9,lg:9,xl:9},r.a.createElement(se.a,null,r.a.createElement(Pt,{labelsOptions:this.state.labelsOptions,speakersOptions:this.state.speakersOptions,handleSearch:this.handleSearch,handleLabelsSearchChange:this.handleLabelsSearchChange,handleSpeakersSearchChange:this.handleSpeakersSearchChange,handleShowParagraphsMatchingSearch:this.handleShowParagraphsMatchingSearch}),r.a.createElement(se.a.Body,{onDoubleClick:this.handleWordClick,onClick:this.handleTimecodeClick,style:{height:"80vh",overflow:"scroll"}},this.state.transcriptJson&&r.a.createElement(wt,{labelsOptions:this.state.labelsOptions,annotations:this.state.annotations,transcriptJson:this.state.transcriptJson,searchString:this.state.searchString,showParagraphsMatchingSearch:this.state.showParagraphsMatchingSearch,selectedOptionLabelSearch:this.state.selectedOptionLabelSearch,selectedOptionSpeakerSearch:this.state.selectedOptionSpeakerSearch,handleTimecodeClick:this.handleTimecodeClick,handleWordClick:this.handleWordClick,handleDeleteAnnotation:this.handleDeleteAnnotation,handleEditAnnotation:this.handleEditAnnotation}))))),r.a.createElement(_,null))}}]),t}(n.Component),Dt=a(222),Ft=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){je.getTranscript(a.state.projectId,a.state.transcriptId).then(function(e){a.setState({projectTitle:e.projectTitle,transcriptTitle:e.transcriptTitle,transcriptJson:e.transcript,url:e.url})})},a.saveToServer=function(){alert("save to server");var e=a.transcriptEditorRef.current.getEditorContent("digitalpaperedit").data;je.updateTranscript(a.state.projectId,a.state.transcriptId,!1,e).then(function(e){"ok"===e.status&&(console.log("updated"),a.setState({savedNotification:r.a.createElement(ie,{dismissable:!0,variant:"success",heading:"Transcript saved",message:r.a.createElement("p",null,"Transcript: ",r.a.createElement("b",null,a.state.transcriptTitle)," has been saved")})}))}).catch(function(e){console.error("error saving transcript:: ",e),a.setState({savedNotification:r.a.createElement(ie,{dismissable:!0,variant:"danger",heading:"Error saving transcript",message:r.a.createElement("p",null,"There was an error trying to save this transcript: ",r.a.createElement("b",null,a.state.transcriptTitle))})})})},a.state={projectId:a.props.match.params.projectId,transcriptId:a.props.match.params.transcriptId,transcriptJson:null,url:null,projectTitle:"",transcriptTitle:"",savedNotification:null},a.transcriptEditorRef=r.a.createRef(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{style:{marginBottom:"5em"},fluid:!0},r.a.createElement(F,{links:Ce(this.state.projectId)}),r.a.createElement("br",null),r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:9,md:9,ld:9,xl:9},r.a.createElement(ne,{items:[{name:"Projects",link:"/projects"},{name:"Project: ".concat(this.state.projectTitle),link:"/projects/".concat(this.state.projectId)},{name:"Transcripts",link:"/projects/".concat(this.state.projectId,"/transcripts")},{link:"/projects/".concat(this.state.projectId,"/transcripts/").concat(this.state.transcriptId),name:"".concat(this.state.transcriptTitle)},{name:"Correct"}]})),r.a.createElement(M.a,{xs:12,sm:3,md:3,ld:3,xl:3},r.a.createElement(j.a,{variant:"outline-secondary",onClick:this.saveToServer,size:"lg",block:!0},"Save"),r.a.createElement("br",null))),this.state.savedNotification,null!==this.state.transcriptJson&&r.a.createElement(Dt.TranscriptEditor,{transcriptData:this.state.transcriptJson,mediaUrl:this.state.url,isEditable:!0,sttJsonType:"digitalpaperedit",title:this.state.projectTitle,fileName:this.state.projectTitle,ref:this.transcriptEditorRef}),r.a.createElement(_,null))}}]),t}(n.Component),Ut=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){fetch("http://localhost:5000/api/projects/1/paperedits",{mode:"cors"}).then(function(e){return e.json()}).then(function(e){var t=e.paperedits.map(function(e){return e.display=!0,e});a.setState({paperEditsList:t})})},a.handleDelete=function(){},a.getShowLinkForCard=function(e){return"/projects/".concat(a.state.projectId,"/paperedits/").concat(e)},a.linkToNew=function(){return"/projects/".concat(a.state.projectId,"/paperedits/new")},a.state={paperEditsList:null,projectId:a.props.match.params.projectId,projectTitle:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(ue,{icon:r.a.createElement(N.a,{icon:D.d}),itemsList:this.state.paperEditsList,handleDelete:this.handleDelete,modelName:"paperedits",getShowLinkForCard:this.getShowLinkForCard,linkToNew:this.linkToNew,navbarLinks:Ce(this.state.projectId),breadCrumbItems:[{name:"Projects",link:"/projects"},{name:"Project: ".concat(this.state.projectTitle),link:"/projects/".concat(this.state.projectId)},{name:"Paper Edits"}]})}}]),t}(n.Component),Bt=a(55),At=a.n(Bt),Mt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:3},r.a.createElement("strong",null,"Speaker New ")),r.a.createElement(M.a,{sm:9},r.a.createElement("p",null,"New Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots."),r.a.createElement("p",null,"reminding one of the bulwarks of some condemned old craft.")))}}]),t}(n.Component),Rt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Transcript 1"),r.a.createElement("video",{src:"https://download.ted.com/talks/KateDarling_2018S-950k.mp4",style:{width:"100%",height:"10em",backgroundColor:"black"},controls:!0}),r.a.createElement("article",{style:{height:"60vh",overflow:"scroll"}},r.a.createElement(Mt,null),r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:3},r.a.createElement("strong",null,"Speaker 1")),r.a.createElement(M.a,{sm:9},r.a.createElement("p",null,"Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.")," ",r.a.createElement("p",null,"reminding one of the bulwarks of some condemned old craft."))),r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:3},r.a.createElement("strong",null,"Speaker 2")),r.a.createElement(M.a,{sm:9},r.a.createElement("p",null,"Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.")," ",r.a.createElement("p",null,"reminding one of the bulwarks of some condemned old craft."))),r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:3},r.a.createElement("strong",null,"Speaker 2")),r.a.createElement(M.a,{sm:9},r.a.createElement("p",null,"Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.")," ",r.a.createElement("p",null,"reminding one of the bulwarks of some condemned old craft."))),r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:3},r.a.createElement("strong",null,"Speaker 2")),r.a.createElement(M.a,{sm:9},r.a.createElement("p",null,"Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.")," ",r.a.createElement("p",null,"reminding one of the bulwarks of some condemned old craft."))),r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:3},r.a.createElement("strong",null,"Speaker 2")),r.a.createElement(M.a,{sm:9},r.a.createElement("p",null,"Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.")," ",r.a.createElement("p",null,"reminding one of the bulwarks of some condemned old craft."))),r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:3},r.a.createElement("strong",null,"Speaker 2")),r.a.createElement(M.a,{sm:9},r.a.createElement("p",null,"Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.")," ",r.a.createElement("p",null,"reminding one of the bulwarks of some condemned old craft."))),r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:3},r.a.createElement("strong",null,"Speaker 2")),r.a.createElement(M.a,{sm:9},r.a.createElement("p",null,"Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.")," ",r.a.createElement("p",null,"reminding one of the bulwarks of some condemned old craft.")))))}}]),t}(n.Component),zt=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(At.a.Container,{id:"left-tabs-example",defaultActiveKey:"first"},r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:3},r.a.createElement("h2",null,"Transcripts"),r.a.createElement("hr",null),r.a.createElement(C.a,{variant:"pills",className:"flex-column"},r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Link,{eventKey:"first",title:"Transcript 1"},"Transcript 1")),r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Link,{eventKey:"second",title:"Transcript 2"},"Transcript 2")))),r.a.createElement(M.a,{sm:9},r.a.createElement(At.a.Content,null,r.a.createElement("h2",null,"Search"),r.a.createElement("hr",null),r.a.createElement(At.a.Pane,{eventKey:"first"},r.a.createElement(Rt,null)),r.a.createElement(At.a.Pane,{eventKey:"second"},r.a.createElement(Rt,null)))))))}}]),t}(n.Component),_t=a(223),qt=a.n(_t),Wt=function(e){function t(e){var a;Object(l.a)(this,t);var n=e.width,s=void 0===n?640:n,o=e.height,c=void 0===o?360:o,p=e.playlist,u=void 0===p?[]:p;return(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).loadPlaylist=function(){a.playlist.forEach(function(e){var t=e.type,n=e.offset,r=e.start,s=e.duration,o=e.src,l=a.videoContext[t](o,n);l.startAt(r),l.stopAt(r+s),l.connect(a.videoContext.destination)})},a.playlist=u,a.canvasRef=r.a.createRef(),a.canvas=r.a.createElement("canvas",{ref:a.canvasRef,width:s,height:c}),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.videoContext=new qt.a(this.canvasRef.current,function(e){return console.error("There was problem instantiating the Video Context in Paper Cuts Player Viewer component",e)}),this.loadPlaylist()}},{key:"render",value:function(){return this.canvas}}]),t}(r.a.PureComponent),Vt=a(51),Gt=a.n(Vt),Jt=function(e){function t(e){var a;Object(l.a)(this,t);var n=e.width,s=void 0===n?640:n;return(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).updateProgress=function(){return requestAnimationFrame(function(){var e=(a.videoContext&&a.videoContext.currentTime)/a.state.duration*100;a.state.progress!==e&&a.setState({progress:e}),requestAnimationFrame(a.updateProgress)})},a.handleClick=function(e){var t=e.nativeEvent.offsetX;a.videoContext.currentTime=t/a.width*a.state.duration},a.getTracks=function(){return a.state.duration&&a.videoContext._sourceNodes.reverse().map(function(e,t){var n=e.startTime,s=e.stopTime,o=e.elementURL,l=n/a.state.duration*a.width,c=(s-n)/a.state.duration*a.width,i="".concat(o.split("/").slice(-1).pop(),".").concat(t);return r.a.createElement("div",{key:i,style:{pointerEvents:"none"}},r.a.createElement("div",{className:Gt.a.papercutsPlayerProgressTrackBuffer}),r.a.createElement("div",{className:Gt.a.papercutsPlayerProgressTrack,style:{width:c,marginLeft:l}}),r.a.createElement("div",{className:Gt.a.papercutsPlayerProgressTrackBuffer}))})},a.width=s,a.state={progress:0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.videoContext=this.props.videoContext,this.setState({duration:this.videoContext.duration}),this.updateProgress()}},{key:"render",value:function(){return this.tracks||(this.tracks=this.getTracks()),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[Gt.a.papercutsPlayerProgress,Gt.a.papercutsPlayerProgressBack].join(" "),onClick:this.handleClick,style:{width:this.width}},r.a.createElement("div",{className:[Gt.a.papercutsPlayerProgress,Gt.a.papercutsPlayerProgressFront].join(" "),style:{width:"".concat(this.state.progress,"%")}},this.tracks)))}}]),t}(r.a.PureComponent),Kt=r.a.createElement(N.a,{icon:D.r}),Ht=r.a.createElement(N.a,{icon:D.p}),Yt=r.a.createElement(N.a,{icon:D.w}),Xt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handlePlay=function(){a.props.videoContext.play(),a.setState({isPlaying:!0})},a.handlePause=function(){a.props.videoContext.pause(),a.setState({isPlaying:!1})},a.handleStop=function(){a.props.videoContext.pause(),a.props.videoContext.currentTime=0,a.setState({isPlaying:!1})},a.state={isPlaying:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{className:"col-auto"},r.a.createElement(j.a,{variant:"outline-primary",onClick:this.state.isPlaying?this.handlePause:this.handlePlay},this.state.isPlaying?Ht:Kt)),r.a.createElement(M.a,{className:"col-auto"},r.a.createElement(j.a,{variant:"outline-primary",onClick:this.handleStop},Yt)))}}]),t}(r.a.PureComponent),$t=function(e){function t(e){var a;Object(l.a)(this,t);var n=e.playlist,s=void 0===n?[]:n,o=e.width,c=void 0===o?640:o;return(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).width=c,a.height=9/16*a.width,a.playlist=s,a.videoContextRef=r.a.createRef(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.videoContext=this.videoContextRef&&this.videoContextRef.current&&this.videoContextRef.current.videoContext,this.forceUpdate()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{className:"justify-content-center",style:{backgroundColor:"black"}},r.a.createElement(Wt,{ref:this.videoContextRef,playlist:this.playlist,width:this.width,height:this.height})),r.a.createElement(B.a,{className:"justify-content-center",style:{backgroundColor:"lightgrey"}},r.a.createElement(Jt,{width:this.width,videoContext:this.videoContext&&this.videoContext})),r.a.createElement(B.a,{className:"justify-content-center",style:{marginTop:"0.4em"}},r.a.createElement(Xt,{videoContext:this.videoContext&&this.videoContext})))}}]),t}(r.a.PureComponent),Qt=[{type:"video",offset:0,start:0,duration:10,src:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"},{type:"video",offset:0,start:5,duration:10,src:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"},{type:"video",offset:10,start:10,duration:10,src:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4"}],Zt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(At.a.Content,null,r.a.createElement("h2",null,"Program Script"),r.a.createElement("hr",null),r.a.createElement("h3",null,"Paper Edit title"),r.a.createElement($t,{playlist:Qt,width:"300"}),r.a.createElement("article",{style:{height:"60vh",overflow:"scroll"}},r.a.createElement("h4",null,"Topic One"),r.a.createElement("p",{className:"text-secondary"},r.a.createElement("i",null,r.a.createElement(N.a,{icon:D.n}),"  But what thinks Lazarus? Can he warm his blue hands by holding them up to the grand northern lights? Would not Lazarus rather be in Sumatra than here?")),r.a.createElement("p",{className:"text-secondary"},r.a.createElement("i",null,"Would he not far rather lay him down lengthwise along the line of the equator; yea, ye gods! go down to the fiery pit itself, in order to keep out this frost?")),r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:3},r.a.createElement("strong",null,"Speaker 2")),r.a.createElement(M.a,{sm:9},r.a.createElement("p",null,"Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.")," ",r.a.createElement("p",null,"reminding one of the bulwarks of some condemned old craft."))),r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:3},r.a.createElement("strong",null,"Speaker 1")),r.a.createElement(M.a,{sm:9},r.a.createElement("p",null,"Gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots."),r.a.createElement("p",null,"One of the bulwarks of some condemned old craft."))),r.a.createElement("dl",{className:"row"},r.a.createElement("dt",{className:"col-sm-3"},"Speaker 1"),r.a.createElement("dd",{className:"col-sm-9"},"Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots, reminding one of the bulwarks of some condemned old craft."),r.a.createElement("dt",{className:"col-sm-3"},"Speaker 2"),r.a.createElement("dd",{className:"col-sm-9"},r.a.createElement("p",null,"On one side hung a very large oil painting so thoroughly besmoked, and every way defaced, that in the unequal crosslights by which you viewed it, it was only by diligent study and a series of systematic visits to it,"),r.a.createElement("p",null,"and careful inquiry of the neighbors, that you could any way arrive at an understanding of its purpose.")),r.a.createElement("dt",{className:"col-sm-3"},"Speaker 1"),r.a.createElement("dd",{className:"col-sm-9"},"Such unaccountable masses of shades and shadows, that at first you almost thought some ambitious young artist, in the time of the New England hags, had endeavored to delineate chaos bewitched."),r.a.createElement("dt",{className:"col-sm-3 text-truncate"},"Speaker 3"),r.a.createElement("dd",{className:"col-sm-9"},"But by dint of much and earnest contemplation, and oft repeated ponderings, and especially by throwing open the little window towards the back of the entry, you at last come to the conclusion that such an idea, however wild, might not be altogether unwarranted.")),r.a.createElement("h4",null,"Topic 2"),r.a.createElement("p",null,r.a.createElement("i",{className:"text-secondary"},r.a.createElement(N.a,{icon:D.n}),"  But what thinks Lazarus? Can he warm his blue hands by holding them up to the grand northern lights? Would not Lazarus rather be in Sumatra than here?")),r.a.createElement("p",null,r.a.createElement("i",{className:"text-secondary"},"Would he not far rather lay him down lengthwise along the line of the equator; yea, ye gods! go down to the fiery pit itself, in order to keep out this frost?")),r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:3},r.a.createElement("strong",null,"Speaker 2"),r.a.createElement("br",null),r.a.createElement("u",{style:{cursor:"pointer"}},"00:01:20"),r.a.createElement("br",null),r.a.createElement(N.a,{icon:D.y}),"TagExample"),r.a.createElement(M.a,{sm:9},r.a.createElement("p",null,"Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.")," ",r.a.createElement("p",null,"reminding one of the bulwarks of some condemned old craft."))),r.a.createElement(B.a,null,r.a.createElement(M.a,{sm:3},r.a.createElement("strong",null,"Speaker 1"),r.a.createElement("br",null),r.a.createElement("u",{style:{cursor:"pointer"}},"00:01:40"),r.a.createElement("br",null),r.a.createElement(N.a,{icon:D.y}),"TagExample"),r.a.createElement(M.a,{sm:9},r.a.createElement("p",null,"Would that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots.")," ",r.a.createElement("p",null,"lengthwise one of the bulwarks of some condemned old craft."))),r.a.createElement("p",null,r.a.createElement("i",{className:"text-secondary"},r.a.createElement(N.a,{icon:D.n}),"   Would he not far rather lay him down lengthwise along the line of the equator; yea, ye gods! go down to the fiery pit itself, in order to keep out this frost?")),r.a.createElement("dl",{className:"row"},r.a.createElement("dt",{className:"col-sm-3"},"Speaker 1"),r.a.createElement("dd",{className:"col-sm-9"},"Entering that gable-ended Spouter-Inn, you found yourself in a wide, low, straggling entry with old-fashioned wainscots, reminding one of the bulwarks of some condemned old craft."),r.a.createElement("dt",{className:"col-sm-3"},"Speaker 2"),r.a.createElement("dd",{className:"col-sm-9"},r.a.createElement("p",null,"On one side hung a very large oil painting so thoroughly besmoked, and every way defaced, that in the unequal crosslights by which you viewed it, it was only by diligent study and a series of systematic visits to it,"),r.a.createElement("p",null,"and careful inquiry of the neighbors, that you could any way arrive at an understanding of its purpose.")),r.a.createElement("dt",{className:"col-sm-3"},"Speaker 1"),r.a.createElement("dd",{className:"col-sm-9"},"Such unaccountable masses of shades and shadows, that at first you almost thought some ambitious young artist, in the time of the New England hags, had endeavored to delineate chaos bewitched."),r.a.createElement("dt",{className:"col-sm-3 text-truncate"},"Speaker 3"),r.a.createElement("dd",{className:"col-sm-9"},"But by dint of much and earnest contemplation, and oft repeated ponderings, and especially by throwing open the little window towards the back of the entry, you at last come to the conclusion that such an idea, however wild, might not be altogether unwarranted."))))}}]),t}(n.Component),ea=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){fetch("http://localhost:5000/api/projects/1/paperedits/1",{mode:"cors"}).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({paperEditJson:e.paperEdit,title:e.title,projectTitle:e.projectTitle})}),console.log(a.props.match.params)},a.toggleTranscripts=function(){console.log("toggleTranscripts"),a.state.isProgramScriptShown&&a.setState(function(e){return{isTranscriptsShown:!e.isTranscriptsShown}})},a.toggleProgramScript=function(){console.log("toggleProgramScript"),a.state.isTranscriptsShown&&a.setState(function(e){return{isProgramScriptShown:!e.isProgramScriptShown}})},a.state={transcriptJson:null,title:null,projectId:a.props.match.params.projectId,projectTitle:"",isTranscriptsShown:!0,isProgramScriptShown:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{style:{marginBottom:"5em"},fluid:!0},r.a.createElement(F,{links:Ce(this.state.projectId)}),r.a.createElement("br",null),r.a.createElement(ne,{items:[{name:"Projects",link:"/projects"},{name:"Project: ".concat(this.state.projectTitle),link:"/projects/".concat(this.state.projectId)},{name:"PaperEdits",link:"/projects/".concat(this.state.projectId,"/paperedits")},{name:"".concat(this.state.title)}]}),r.a.createElement(E.a,{fluid:!0},r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(Be.a,{size:"sm",className:"mt-12",block:!0},r.a.createElement(j.a,{onClick:this.toggleTranscripts,variant:this.state.isTranscriptsShown?"primary":"outline-primary"},"Transcripts ",r.a.createElement(N.a,{icon:this.state.isTranscriptsShown?D.a:D.b})),r.a.createElement(j.a,{onClick:this.toggleProgramScript,variant:this.state.isProgramScriptShown?"primary":"outline-primary"},"Program Script  ",r.a.createElement(N.a,{icon:this.state.isProgramScriptShown?D.a:D.b})))),r.a.createElement(B.a,null,r.a.createElement(M.a,{xs:{span:12,offset:0},sm:{span:7,offset:this.state.isProgramScriptShown?0:2},md:{span:this.state.isProgramScriptShown?7:12,offset:(this.state.isProgramScriptShown,0)},lg:{span:this.state.isProgramScriptShown?7:8,offset:this.state.isProgramScriptShown?0:1},xl:{span:this.state.isProgramScriptShown?7:9,offset:this.state.isProgramScriptShown?0:1},style:{display:this.state.isTranscriptsShown?"block":"none"}},r.a.createElement(zt,null)),r.a.createElement(M.a,{xs:{span:12,offset:0},sm:{span:this.state.isTranscriptsShown?5:7,offset:this.state.isTranscriptsShown?0:3},md:{span:this.state.isTranscriptsShown?5:12,offset:(this.state.isTranscriptsShown,0)},lg:{span:this.state.isTranscriptsShown?5:7,offset:this.state.isTranscriptsShown?0:1},xl:{span:this.state.isTranscriptsShown?5:7,offset:this.state.isTranscriptsShown?0:2},style:{display:this.state.isProgramScriptShown?"block":"none"}},r.a.createElement(Zt,null)))),r.a.createElement(_,null))}}]),t}(n.Component),ta=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={transcriptJson:null,projectId:a.props.match.params.projectId},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{style:{marginBottom:"5em"}},r.a.createElement(F,{links:[{name:"Projects",link:"/projects"},{name:"New Projects",link:"/projects/new"},{name:"Transcripts",link:"/projects/".concat(this.state.projectId,"/transcripts")},{name:"New Transcripts",link:"/projects/".concat(this.state.projectId,"/transcripts/new")},{name:"Paper Edits",link:"/projects/".concat(this.state.projectId,"/paperedits")},{name:"New Paper Edit",link:"/projects/".concat(this.state.projectId,"/paperedits/new")},{name:"Users",link:"/projects/".concat(this.state.projectId,"/users")}]}),r.a.createElement("br",null),r.a.createElement(ne,{items:[{name:"Projects",link:"/projects"},{name:"Project:",link:"/projects/".concat(this.state.projectId)},{name:"Paper Edits",link:"/projects/".concat(this.state.projectId,"/paperEdits")},{name:"New"}]}),r.a.createElement(Se.a,null,r.a.createElement(Se.a.Group,{controlId:"formBasicEmail"},r.a.createElement(Se.a.Label,null,"Title "),r.a.createElement(Se.a.Control,{type:"text",placeholder:"Enter a Paper Edit title"}),r.a.createElement(Se.a.Text,{className:"text-muted"},"Chose a title for your Paper Edit")),r.a.createElement(Se.a.Group,{controlId:"formBasicEmail"},r.a.createElement(Se.a.Label,null,"Description "),r.a.createElement(Se.a.Control,{type:"text",placeholder:"Enter a Paper Edit description"}),r.a.createElement(Se.a.Text,{className:"text-muted"},"Chose an optional description for your Paper Edit")),r.a.createElement(j.a,{onChange:this.handleSave,variant:"primary",type:"submit"},"Save")),r.a.createElement(_,null))}}]),t}(n.Component),aa=(a(465),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={transcriptJson:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=null;return e=r.a.createElement(E.a,null,r.a.createElement(ie,{variant:"warning",heading:"Demo mode",message:"  This is Demo version of the app"})),r.a.createElement(r.a.Fragment,null,e,r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:q}),r.a.createElement(h.a,{exact:!0,path:"/projects/new",component:Te}),r.a.createElement(h.a,{exact:!0,path:"/projects",component:ke}),r.a.createElement(h.a,{exact:!0,path:"/projects/:projectId",component:xe}),r.a.createElement(h.a,{exact:!0,path:"/projects/:projectId/edit",component:Te}),r.a.createElement(h.a,{exact:!0,path:"/projects/:projectId/users",component:Ie}),r.a.createElement(h.a,{exact:!0,path:"/projects/:projectId/transcripts/new",component:Fe}),r.a.createElement(h.a,{exact:!0,path:"/projects/:projectId/transcripts",component:Le}),r.a.createElement(h.a,{exact:!0,path:"/projects/:projectId/transcripts/:transcriptId",component:De}),r.a.createElement(h.a,{exact:!0,path:"/projects/:projectId/transcripts/:transcriptId/correct",component:Ft}),r.a.createElement(h.a,{exact:!0,path:"/projects/:projectId/transcripts/:transcriptId/annotate",component:Nt}),r.a.createElement(h.a,{exact:!0,path:"/projects/:projectId/paperedits/new",component:ta}),r.a.createElement(h.a,{exact:!0,path:"/projects/:projectId/paperedits",component:Ut}),r.a.createElement(h.a,{exact:!0,path:"/projects/:projectId/paperedits/:papereditId",component:ea}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(aa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},51:function(e,t,a){e.exports={papercutsPlayerProgress:"VideoContextProgressBar_papercutsPlayerProgress__3-Lb_",papercutsPlayerProgressBack:"VideoContextProgressBar_papercutsPlayerProgressBack__26U7A",papercutsPlayerProgressFront:"VideoContextProgressBar_papercutsPlayerProgressFront__jqCdc",papercutsPlayerProgressTrack:"VideoContextProgressBar_papercutsPlayerProgressTrack__355sr",papercutsPlayerProgressTrackBuffer:"VideoContextProgressBar_papercutsPlayerProgressTrackBuffer__2t_4D"}}},[[225,1,2]]]);
//# sourceMappingURL=main.d97322ed.chunk.js.map